<!DOCTYPE html><html class="theme-next muse use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.jpg?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.jpg?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="github,hexo,next,coding,"><meta name="description" content="è¿™æ˜¯ä¸€ä¸ªå…³äºæ­å»ºä¸ªäººåšå®¢ç½‘ç«™çš„æŠ˜è…¾è¿‡ç¨‹ï¼Œè‡ªå·±çš„ä½“ä¼šæ˜¯ï¼šç—›å¹¶å¿«ä¹ç€ï¼"><meta property="og:type" content="article"><meta property="og:title" content="hexo+nextæ‰“é€ ç²¾ç¾çš„ä¸ªäººåšå®¢ç½‘ç«™"><meta property="og:url" content="https://www.qcmoke.cn/blog/hexo_next.html"><meta property="og:site_name" content="Qcmoke&#39;s Blog"><meta property="og:description" content="è¿™æ˜¯ä¸€ä¸ªå…³äºæ­å»ºä¸ªäººåšå®¢ç½‘ç«™çš„æŠ˜è…¾è¿‡ç¨‹ï¼Œè‡ªå·±çš„ä½“ä¼šæ˜¯ï¼šç—›å¹¶å¿«ä¹ç€ï¼"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="article:published_time" content="2018-09-13T20:13:00.000Z"><meta property="article:modified_time" content="2024-07-29T14:05:29.111Z"><meta property="article:author" content="Qcmoke"><meta property="article:tag" content="github"><meta property="article:tag" content="hexo"><meta property="article:tag" content="next"><meta property="article:tag" content="coding"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.qcmoke.cn/images/loading-post.gif"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"5.1.4",sidebar:{position:"left",display:"hide",offset:12,b2t:!1,scrollpercent:!0,onmobile:!0},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"åšä¸»"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="https://www.qcmoke.cn/blog/hexo_next.html"><title>hexo+nextæ‰“é€ ç²¾ç¾çš„ä¸ªäººåšå®¢ç½‘ç«™ | Qcmoke's Blog</title><meta name="generator" content="Hexo 4.2.1"></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Qcmoke's Blog</span> <span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">Peace & Love ! Learning to think independently !</h1></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>é¦–é¡µ</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>åˆ†ç±»</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>æ ‡ç­¾</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>å½’æ¡£</a></li><li class="menu-item menu-item-çƒ­æ–‡"><a href="/top/" rel="section"><i class="menu-item-icon fa fa-fw fa-fire"></i><br>çƒ­æ–‡</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="menu-item-icon fa fa-fw fa-link"></i><br>å‹é“¾</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>å…³äº</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>æœç´¢</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="æœç´¢..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://www.qcmoke.cn/blog/hexo_next.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Qcmoke"><meta itemprop="description" content=""><meta itemprop="image" content="/images/logo.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Qcmoke's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">hexo+nextæ‰“é€ ç²¾ç¾çš„ä¸ªäººåšå®¢ç½‘ç«™</h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">å‘è¡¨äº</span> <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-09-14T04:13:00+08:00">2018-09-14 </time><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">æ›´æ–°äº&#58;</span> <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-07-29T22:05:29+08:00">2024-07-29 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">åˆ†ç±»äº</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/blog/" itemprop="url" rel="index"><span itemprop="name">blog</span> </a></span></span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><a href="/blog/hexo_next.html#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/blog/hexo_next.html" itemprop="commentCount"></span> </a></span><span id="/blog/hexo_next.html" class="leancloud_visitors" data-flag-title="hexo+nextæ‰“é€ ç²¾ç¾çš„ä¸ªäººåšå®¢ç½‘ç«™"><span class="post-meta-divider">|</span> <span class="lv-inline-block" style="display:inline-block"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°&#58;</span> <span class="leancloud-visitors-count"></span></span></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span> <span title="å­—æ•°ç»Ÿè®¡">30.9k </span><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span> <span title="é˜…è¯»æ—¶é•¿">148</span></div><div class="post-description">è¿™æ˜¯ä¸€ä¸ªå…³äºæ­å»ºä¸ªäººåšå®¢ç½‘ç«™çš„æŠ˜è…¾è¿‡ç¨‹ï¼Œè‡ªå·±çš„ä½“ä¼šæ˜¯ï¼šç—›å¹¶å¿«ä¹ç€ï¼</div></div></header><div class="post-body" itemprop="articleBody"><p><a href="https://hexo.io/zh-cn" target="_blank" rel="noopener">Hexo</a> æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexo ä½¿ç”¨ <a href="http://daringfireball.net/projects/markdown/" target="_blank" rel="noopener">Markdown</a>ï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨hexoç”Ÿæˆé™æ€ç½‘é¡µã€‚</p><a id="more"></a><h1 id="åŸºç¡€åŠŸèƒ½ç¯‡"><a class="header-anchor" href="#åŸºç¡€åŠŸèƒ½ç¯‡">Â¶</a>åŸºç¡€åŠŸèƒ½ç¯‡</h1><h2 id="1-æ­å»ºhexoç¯å¢ƒ"><a class="header-anchor" href="#1-æ­å»ºhexoç¯å¢ƒ">Â¶</a>1. æ­å»ºhexoç¯å¢ƒ</h2><p>è¦æ­å»ºhexo+githubçš„ä¸ªäººåšå®¢ï¼Œé¦–å…ˆéœ€è¦ç¡®ä¿å®‰è£…äº†gitå’Œnode.jsã€‚</p><h3 id="1-å®‰è£…å’Œé…ç½®git"><a class="header-anchor" href="#1-å®‰è£…å’Œé…ç½®git">Â¶</a>1) å®‰è£…å’Œé…ç½®git</h3><p>å…³äºgitçš„å®‰è£…å’Œé…ç½®è¯·å‚è€ƒã€Š<a href="../tools/win_git.html" name="../tools/win_git.md" id="hexo-md-link">windows10å®‰è£…gitå¹¶è¿æ¥github</a>ã€‹ï¼Œç¡®ä¿gitå®‰è£…æˆåŠŸå¹¶èƒ½ä¸Šä¼ æ–‡ä»¶åˆ°githubä»“åº“ã€‚</p><blockquote><p>æ¸©é¦¨æç¤ºï¼šä¸€å®šè¦é…ç½®å¥½ssh keyï¼Œå‚è€ƒçš„æ•™ç¨‹ä¸­æœ‰æŒ‡å¯¼ã€‚</p></blockquote><h3 id="2-å®‰è£…node-js"><a class="header-anchor" href="#2-å®‰è£…node-js">Â¶</a>2) å®‰è£…node.js</h3><p>gitå®‰è£…é…ç½®å¥½åè¿˜è¦å®‰è£…node.jsï¼Œè¯·è‡³<a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">å®˜ç½‘ä¸‹è½½node.js</a>ã€‚</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1759057642.png" alt="1759057642.png"></p><p>node.jsçš„å…·ä½“å®‰è£…ä»å¤´åˆ°å°¾å‚»ç“œå¼â€œä¸‹ä¸€æ­¥â€ã€‚ä¸è¿‡å®‰è£…è·¯å¾„å»ºè®®é€‰æ‹©éç³»ç»Ÿç›˜ç›®å½•ã€‚å®‰è£…å¥½åï¼Œæ£€æµ‹PATHç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®äº†Node.jsï¼Œæ‰“å¼€cmd æˆ–è€…å®‰è£…å¥½gitåçš„git bashï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ node --version</span><br></pre></td></tr></table></figure><p>å‡ºç°node.jsçš„ç‰ˆæœ¬ä¿¡æ¯åˆ™è¯´æ˜å®‰è£…æˆåŠŸã€‚</p><h3 id="3-å®‰è£…hexo"><a class="header-anchor" href="#3-å®‰è£…hexo">Â¶</a>3) å®‰è£…hexo</h3><p>ä»¥ä¸Šéƒ½å®Œæˆåæ‰“å¼€git bashè¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli  <span class="comment">#ä½¿ç”¨ npm å®‰è£… Hexo</span></span><br></pre></td></tr></table></figure><p>å‡ºç°å¦‚ä¸‹ä¿¡æ¯è¡¨ç¤ºä¸‹è½½å¹¶å®‰è£…å®Œæˆã€‚<br><img src="/blog/../images/loading-post.gif" data-original="hexo_next/999028275.png" alt="999028275.png"></p><h3 id="4-ä½¿ç”¨hexo"><a class="header-anchor" href="#4-ä½¿ç”¨hexo">Â¶</a>4) ä½¿ç”¨hexo</h3><p>å®‰è£… Hexo å®Œæˆåï¼Œåœ¨ä»»æ„ç›®å½•æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼ŒHexo å°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init myblog  <span class="comment"># åˆå§‹åŒ–hexoå·¥ä½œåŒºï¼Œæ­¤æ—¶myblogæ˜¯å·¥ä½œåŒº</span></span><br><span class="line">$ <span class="built_in">cd</span> myblog		  <span class="comment"># è¿›å…¥å·¥ä½œåŒº	</span></span><br><span class="line">$ npm install	  <span class="comment"># å®‰è£…hexoé»˜è®¤ä½¿ç”¨çš„ä¸€äº›åŸºç¡€åŒ…ï¼Œå¯ä»¥ä¸ç”¨æ‰§è¡Œï¼Œå› ä¸ºåˆå§‹åŒ–æ—¶å·²ç»é»˜è®¤å®‰è£…äº†è¿™äº›åŸºç¡€åŒ…ã€‚ä½†å¦‚æœåœ¨åˆå§‹åŒ–æ—¶å®‰è£…è¿™äº›åŸºç¡€åŒ…å¤±è´¥æ—¶ï¼Œå¯ä»¥é€šè¿‡è¿™æ¡å‘½ä»¤é‡æ–°å®‰è£…ä¸€éã€‚</span></span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’â€â™‚ä¸è¦è¾“å…¥ <code>$</code>å’Œ <code>#</code>åŠå…¶ä¹‹åçš„æ³¨é‡Šå†…å®¹ã€‚</p></blockquote><p>æ–°å»ºå®Œæˆåï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹çš„ç›®å½•å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ _config.yml</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ scaffolds</span><br><span class="line">â”œâ”€â”€ <span class="built_in">source</span></span><br><span class="line">|   â”œâ”€â”€ _drafts</span><br><span class="line">|   â””â”€â”€ _posts</span><br><span class="line">â””â”€â”€ themes</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å¹¶è¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g <span class="comment"># ç¼–è¯‘ç”Ÿæˆé™æ€æ–‡ä»¶</span></span><br><span class="line">$ hexo s <span class="comment"># å¯åŠ¨è¿è¡ŒæœåŠ¡</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä»¥ä¸Šå‘½ä»¤ä¹‹åï¼Œhexoå°±ä¼šåœ¨ <code>public</code>æ–‡ä»¶å¤¹ç”Ÿæˆç›¸å…³ <code>html</code>æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶å°†æ¥éƒ½æ˜¯è¦æäº¤åˆ°githubå»çš„ã€‚<code>hexo s</code>æ˜¯å¼€å¯æœ¬åœ°é¢„è§ˆæœåŠ¡ï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—® <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a> å³å¯çœ‹åˆ°å†…å®¹ï¼Œå¾ˆå¤šäººä¼šç¢°åˆ°æµè§ˆå™¨ä¸€ç›´åœ¨è½¬åœˆä½†æ˜¯å°±æ˜¯åŠ è½½ä¸å‡ºæ¥çš„é—®é¢˜ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯å› ä¸ºç«¯å£å ç”¨çš„ç¼˜æ•…ï¼Œå¯ä»¥ä½¿ç”¨:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo s -p port 	<span class="comment">#è‡ªå®šä¹‰ç«¯å£æ–¹å¼å¯åŠ¨hexoæœåŠ¡ã€‚</span></span><br></pre></td></tr></table></figure><p>å…¶ä»–å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean  	<span class="comment">#æ¸…ç†publicçš„å†…å®¹</span></span><br><span class="line">$ hexo n file 	<span class="comment">#æ–°å»ºæ–‡ç« ï¼ŒfileæŒ‡çš„æ˜¯markdownæ–‡ç« æ–‡ä»¶çš„åç§°</span></span><br></pre></td></tr></table></figure><h2 id="2-ç¼–å†™æ–‡ç« "><a class="header-anchor" href="#2-ç¼–å†™æ–‡ç« ">Â¶</a>2. ç¼–å†™æ–‡ç« </h2><p>é¦–å…ˆè¦åœ¨ <code>myblog/source</code>ç›®å½•ä¸‹åˆ›å»ºä¸€ç¯‡æ–‡ç« ï¼Œå‘½åä¸ºï¼š<code>name.md</code>ï¼Œå¦‚ï¼š<code>first-article.md</code> ã€‚</p><p>æˆ–è€…ç”¨hexoåˆ›å»ºä¸€ç¯‡æ–‡ç« ï¼Œæ‰“å¼€git bashè¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo n first_article</span><br></pre></td></tr></table></figure><p>å®Œæˆå <code>source/_posts</code>ç›®å½•ä¸‹ä¼šå¤šå‡º <code>first-article.md</code>æ–‡ä»¶ã€‚ å¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/2738396249.png" alt="15.PNG"></p><p>æ‰“å¼€ <code>first-article.md</code>ï¼Œä¿®æ”¹è¡¨å¤´åå¼€å§‹é€šè¿‡markdownè¯­æ³•æ¥ä¹¦å†™æ–‡ç« ã€‚ å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: first_article</span><br><span class="line">date: 2018-09-14 14:27:24</span><br><span class="line">tags:</span><br><span class="line"><span class="bullet">    - </span>åˆ†äº«</span><br><span class="line"><span class="bullet">    - </span>first</span><br><span class="line">categories: ç¢ç¢å¿µ</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section"># æ­£æ–‡</span></span><br><span class="line">å“¥ä»¬ï¼Œè¿™æ˜¯ä½ çš„ç¬¬ä¸€ç¯‡æ–‡ç« ~</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>categories</code>æ˜¯ç»™åˆ†ç±»æ æ·»åŠ åˆ†ç±»é¡¹ï¼Œæˆ–è€…å°†æ–‡ç« å½’çº³åˆ°&quot;ç¢ç¢å¿µ&quot;åˆ†ç±»é¡¹é‡Œï¼›è€Œ <code>tags</code>è¡¨ç¤ºçš„æ˜¯æ–‡å­—çš„æ ‡ç­¾ï¼Œå¯ä»¥å†™å¤šä¸ªï¼Œæ¯”å¦‚æˆ‘å†™äº† <code>åˆ†äº«</code>å’Œ <code>first</code>ã€‚</p><p>å®Œæˆåç¼–è¯‘å¹¶è¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g</span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><p>ç„¶åæµè§ˆå™¨è®¿é—®æµ‹è¯•åšå®¢ï¼Œä½ ä¼šå‘ç°åˆ†ç±»èœå•å’Œæ ‡ç­¾èœå•é‡Œå°±ä¼šæœ‰å†…å®¹æ˜¾ç¤ºäº†ã€‚</p><h2 id="3-æ›´æ¢ä¸»é¢˜"><a class="header-anchor" href="#3-æ›´æ¢ä¸»é¢˜">Â¶</a>3. æ›´æ¢ä¸»é¢˜</h2><p>å¯ä»¥åˆ° <a href="https://hexo.io/themes/" target="_blank" rel="noopener">hexoå®˜æ–¹ä¸»é¢˜</a> ä¸‹è½½ä¸»é¢˜æ¨¡æ¿ã€‚åœ¨è¿™é‡Œæˆ‘æ¨èä½¿ç”¨nextä¸»é¢˜ï¼Œæ–‡æ¡£é½å…¨ï¼Œç¤¾åŒºä¹Ÿæ´»è·ƒã€‚å®˜ç½‘ï¼š<a href="http://theme-next.iissnan.com" target="_blank" rel="noopener">http://theme-next.iissnan.com</a></p><p>ä¸‹è½½ä¸»é¢˜åŒ…åæ”¾åˆ° <code>myblog/themes/</code> ä¸‹ã€‚æ¯”å¦‚æˆ‘ä»¬è¦ç”¨nextä¸»é¢˜ï¼ˆä½¿ç”¨å¯¹çš„ç‰ˆæœ¬æ˜¯5.1.4ï¼‰ï¼Œåˆ™å¯ä»¥è¿›å…¥ <code>myblog/themes/</code>ç›®å½•ä¸‹ç„¶åæ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/iissnan/hexo-theme-next.git</span><br><span class="line">$ mv hexo-theme-next next</span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹ <code>myblog/_config.yml</code>ä¸­çš„ <code>theme: landscape</code>æ”¹ä¸º <code>theme: next</code></p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1297497270.png" alt="1297497270.png"></p><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œæµ‹è¯•ã€‚</p><h2 id="4-æ›´æ¢ä¸»é¢˜å¸ƒå±€"><a class="header-anchor" href="#4-æ›´æ¢ä¸»é¢˜å¸ƒå±€">Â¶</a>4. æ›´æ¢ä¸»é¢˜å¸ƒå±€</h2><p>nextæä¾›äº†4ç§å¸ƒå±€ä¾›é€‰æ‹©ï¼Œæˆ‘è¿™é‡Œé€‰çš„æ˜¯Geminiã€‚æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>Scheme Settings</code>æ‰¾åˆ°å¦‚ä¸‹ä»£ç å—ï¼Œå¹¶åœ¨ <code>scheme: Muse</code>çš„å‰é¢æ·»åŠ  <code>#</code>ï¼Œç„¶åå»æ‰ <code>#scheme: Gemini</code>å‰é¢çš„ <code>#</code>,ä¿®æ”¹åå¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Scheme Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Schemes</span></span><br><span class="line"><span class="comment">#scheme: Muse</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="comment">#scheme: Pisces</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Gemini</span></span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘è¿è¡Œæµ‹è¯•ï¼Œä½ ä¼šå‘ç°åšå®¢çš„ä¸»é¢˜å¸ƒå±€å·²ç»å˜äº†ã€‚</p><h2 id="5-èœå•æ æ·»åŠ èœå•é€‰é¡¹"><a class="header-anchor" href="#5-èœå•æ æ·»åŠ èœå•é€‰é¡¹">Â¶</a>5. èœå•æ æ·»åŠ èœå•é€‰é¡¹</h2><p>nexté»˜è®¤èœå•æ åªæœ‰ <code>home</code>å’Œ <code>archives</code>èœå•é€‰é¡¹ï¼Œä½ å¯ä»¥æ·»åŠ æ›´å¤šçš„èœå•é€‰é¡¹ï¼Œæ¯”å¦‚è¿™é‡Œæˆ‘ä»¬æ·»åŠ  <code>tags</code>å’Œ <code>categories</code>ã€‚åªéœ€æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>Menu Settings</code>æ‰¾åˆ°å¦‚ä¸‹å›¾ä»£ç å—ï¼Œç„¶åå°† <code>tags</code>å’Œ <code>categories</code>é€‰é¡¹å‰çš„æ³¨é‡Šç¬¦å· <code>#</code>å»æ‰å°±èƒ½å¯ç”¨è¿™ä¸¤ä¸ªèœå•ã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/772797496.png" alt="1.PNG"></p><blockquote><p>ğŸ’â€â™‚æç¤ºï¼š NexT ä½¿ç”¨çš„æ˜¯ <a href="http://fontawesome.io/" target="_blank" rel="noopener">Font Awesome</a> æä¾›çš„å›¾æ ‡ï¼Œå¯ä»¥å»Font Awesomeè·å–è‡ªå®šä¹‰çš„å›¾æ ‡ã€‚</p></blockquote><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œç„¶åæµè§ˆå™¨è¾“å…¥<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a>ï¼Œä½ ä¼šå‘ç°å¤šå‡ºæ¥äº†ä¸¤ä¸ªèœå•é€‰é¡¹ã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/2915187449.png" alt="2.PNG"></p><p>è™½ç„¶æ˜¯æœ‰äº†è¿™ä¸¤ä¸ªèœå•é€‰é¡¹ï¼Œä½†å½“ä½ ç‚¹å‡»è¿™äº›æ–°èœå•æ—¶ä¼šå‘ç°åªæœ‰ç±»ä¼¼ <code>Cannot GET /tags/</code>è¿™æ ·çš„æç¤ºã€‚æ­¤æ—¶ä½ è‚¯å®šä¼šæ‰‹è¶³æ— æªã€‚åˆ«æ‹…å¿ƒï¼Œä¹‹æ‰€ä»¥ä¼šæœ‰è¿™æ ·çš„æç¤ºï¼Œæ˜¯å› ä¸ºnexté»˜è®¤åªå¯åŠ¨äº†è¿™ä¸¤ä¸ªèœå•é¡¹ï¼Œç„¶å¹¶æ²¡æœ‰æ‰¾åˆ° <code>tags</code>å’Œ <code>categories</code>é¡µé¢ï¼Œä½ éœ€è¦åšçš„æ˜¯åˆ›å»ºè¿™ä¸¤ä¸ªé¡µé¢ï¼Œåˆ›å»ºçš„è¿‡ç¨‹å¾ˆç®€å•ï¼Œå¹¶ä¸éœ€è¦ä½ æœ‰ä»€ä¹ˆç¼–ç¨‹åŸºç¡€ï¼Œä½ åªéœ€è¦è¾“å…¥ä»¥ä¸‹å‘½ä»¤hexoå°±èƒ½å¸®ä½ ç”Ÿæˆè¿™ä¸¤ä¸ªé¡µé¢ã€‚</p><p>åœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ‰“å¼€ä½ å¿ƒçˆ±çš„git bashã€‚ç„¶åè¾“å…¥ä»¥ä¸‹ä¸¤æ¡å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo n page tags</span><br><span class="line">$ hexo n page categories</span><br></pre></td></tr></table></figure><p>å®Œæˆåä½ ä¼šå‘ç° <code>myblog/source/</code>ç›®å½•ä¼šå‡ºç°ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1245276923.png" alt="3.PNG"></p><p>æ‰“å¼€ <code>myblog/source/categories</code>ç›®å½•ä¸‹çš„ <code>index.md</code>ï¼Œä¿®æ”¹å†…å®¹ä¸ºä»¥ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: åˆ†ç±»</span><br><span class="line">date: 2018-09-14 12:18:35</span><br><span class="line">type: categories</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ <code>myblog/source/tags/</code>ç›®å½•ä¸‹çš„ <code>index.md</code>ï¼Œä¿®æ”¹å†…å®¹ä¸ºä»¥ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: æ ‡ç­¾</span><br><span class="line">date: 2018-09-14 12:17:57</span><br><span class="line">type: tags</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œæ­¤æ—¶ä½ å†æ‰“å¼€æµè§ˆå™¨è¾“å…¥<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a>ï¼Œç‚¹å‡» <code>tags</code>å’Œ <code>categories</code>èœå•æ—¶ä¼šå‘ç°å·²ç»å¯ä»¥æ‰“å¼€é¡µé¢äº†ã€‚</p><h2 id="6-é»˜è®¤ä¸­æ–‡ç®€ä½“æ˜¾ç¤ºè®¾ç½®"><a class="header-anchor" href="#6-é»˜è®¤ä¸­æ–‡ç®€ä½“æ˜¾ç¤ºè®¾ç½®">Â¶</a>6. é»˜è®¤ä¸­æ–‡ç®€ä½“æ˜¾ç¤ºè®¾ç½®</h2><p>æ‰“å¼€å…¨å±€é…ç½®æ–‡ä»¶ <code>myblog/_config.yml</code>ï¼Œæœç´¢æ‰¾åˆ° <code>language</code>ï¼Œæ”¹ä¸ºä»¥ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">zh-Hans</span></span><br></pre></td></tr></table></figure><p>å¦‚å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/2120958148.png" alt="4.PNG"></p><p>è¿™é‡Œçš„ <code>zh-Hans</code>è¦æ ¹æ® <code>myblog/themes/next/languages</code>ç›®å½•ä¸‹çš„è¯­è¨€é…ç½®æ–‡ä»¶çš„åç§°æ¥è®¾ç½®ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ <code>zh-CN</code>ã€‚(å¦‚åœ¨æ­¤ç›®å½•é‡Œæ‰“å¼€ <code>zh-Hans.yml</code>æ–‡ä»¶ï¼Œå‘ç°é‡Œé¢æ˜¯ç®€ä½“ä¸­æ–‡ï¼Œé‚£å°±å¯¹äº†ï¼Œæ³¨æ„ï¼šè¿™é‡Œçš„æ–‡ä»¶çš„åç§°ä¸å¡«æ–‡ä»¶åç¼€å <code>.yml</code>)</p><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œæµ‹è¯•ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/3742059932.png" alt="5.PNG"></p><h2 id="7-æ›´æ”¹åšå®¢ä½œè€…åå’Œä¸»é¡µåœ°å€"><a class="header-anchor" href="#7-æ›´æ”¹åšå®¢ä½œè€…åå’Œä¸»é¡µåœ°å€">Â¶</a>7. æ›´æ”¹åšå®¢ä½œè€…åå’Œä¸»é¡µåœ°å€</h2><p>æ‰“å¼€ <code>myblog/_config.yml</code>å…¨å±€é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®è¯ <code>Site</code>æ‰¾åˆ°å¦‚ä¸‹å›¾çš„åœ°æ–¹</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/2409326136.png" alt="7.PNG"></p><p>ç„¶åä¿®æ”¹ä»¥ä¸‹ä¸‰å¤„ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">Qcmoke's</span> <span class="string">Blog</span>  <span class="comment">#ç«™ç‚¹åç§°</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">Qcmoke</span>        <span class="comment">#ä½œè€…åç§°</span></span><br><span class="line"></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://qcmoke.github.io</span>   <span class="comment">#å¡«github pageçš„urlå³å¯</span></span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œæ•ˆæœå¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/893799543.png" alt="8.PNG"></p><h2 id="8-å¯ç”¨ä¾§è¾¹æ ç¤¾äº¤é“¾æ¥"><a class="header-anchor" href="#8-å¯ç”¨ä¾§è¾¹æ ç¤¾äº¤é“¾æ¥">Â¶</a>8. å¯ç”¨ä¾§è¾¹æ ç¤¾äº¤é“¾æ¥</h2><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>Social</code>æ‰¾åˆ°ä¸‹å›¾ä½ç½®ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1070341581.png" alt="9.PNG"></p><p>æ ¹æ®è‡ªèº«æƒ…å†µè¿›è¡Œä¿®æ”¹æˆ–è€…æ·»åŠ ï¼Œæ³¨æ„ï¼šä¸€å®šè¦å»æ‰ <code>#social:</code>å‰çš„ <code>#</code>æ‰èƒ½ç”Ÿæ•ˆã€‚æˆ‘çš„å¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/2059238549.png" alt="10.PNG"></p><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œæ•ˆæœå¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1706498607.png" alt="11.PNG"></p><h2 id="9-ä¾§æ æ·»åŠ å¤–é“¾"><a class="header-anchor" href="#9-ä¾§æ æ·»åŠ å¤–é“¾">Â¶</a>9. ä¾§æ æ·»åŠ å¤–é“¾</h2><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>Blog rolls</code>æ‰¾åˆ°ä¸‹å›¾ä½ç½®ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/2289683925.png" alt="12.PNG"></p><p>æ ¹æ®è‡ªèº«æƒ…å†µè¿›è¡Œä¿®æ”¹æˆ–è€…æ·»åŠ ï¼Œæ³¨æ„ï¼šä¸€å®šè¦å»æ‰ <code>#links:</code>å‰çš„ <code>#</code>æ‰èƒ½ç”Ÿæ•ˆã€‚æˆ‘çš„å¦‚ä¸‹å›¾</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/3977116600.png" alt="13.PNG"></p><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œæ•ˆæœå¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/299295497.png" alt="14.PNG"></p><h2 id="10-å»é™¤ä¾§æ ç›®å½•è‡ªåŠ¨ç”Ÿæˆçš„åºæ•°"><a class="header-anchor" href="#10-å»é™¤ä¾§æ ç›®å½•è‡ªåŠ¨ç”Ÿæˆçš„åºæ•°">Â¶</a>10.å»é™¤ä¾§æ ç›®å½•è‡ªåŠ¨ç”Ÿæˆçš„åºæ•°</h2><p>ç¼–è¾‘ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>toc</code>æ‰¾åˆ°å¦‚ä¸‹ä»£ç ï¼Œ<code>number</code>é»˜è®¤æ˜¯ <code>true</code>ï¼Œå°† <code>number</code>è®¾ç½®ä¸º <code>false</code>ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Automatically add list number to toc.</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># If true, all words will placed on next lines if header width longer then sidebar width.</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="11-è®¾ç½®å¤´åƒ"><a class="header-anchor" href="#11-è®¾ç½®å¤´åƒ">Â¶</a>11. è®¾ç½®å¤´åƒ</h2><h3 id="1-åŸºç¡€è®¾ç½®"><a class="header-anchor" href="#1-åŸºç¡€è®¾ç½®">Â¶</a>1) åŸºç¡€è®¾ç½®</h3><p>æ‰¾ä¸€å¼ ä½ å–œæ¬¢çš„å¤´åƒå›¾ç‰‡æ”¾å…¥ <code>myblog/themes/next/source/images</code>ç›®å½•ä¸­ï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œæ”¾äº†ä¸€å¼  <code>logo.jpg</code>ã€‚ç„¶åæ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ã€‚æ‰¾åˆ°å…³é”®å­— <code>avatar</code>,åœ¨åé¢åŠ å…¥ <code>logo.jpg</code>çš„è·¯å¾„åœ°å€ï¼ˆæ³¨æ„ï¼šæ˜¯æƒ³ç›¸å¯¹è·¯å¾„ï¼‰ã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/4189536790.png" alt="6.PNG"></p><p>å¦‚æœä½ æƒ³å¦å¤–æ·»åŠ ä¸€ä¸ªç‚¹å‡»ä¾§æ å¤´åƒå°±èƒ½å›åˆ°åšå®¢é¦–é¡µçš„åŠŸèƒ½ï¼Œå…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦å°†å›¾ç‰‡å˜æˆä¸€ä¸ªå¯ä»¥ç‚¹å‡»çš„å›¾ç‰‡é“¾æ¥ã€‚æ‰“å¼€æ–‡ä»¶ä½ç½®ï¼š<code>myblog/themes/next/layout/_macro/sidebar.swig</code>,æ‰¾åˆ°å¦‚ä¸‹ä»£ç å—ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"site-author-image"</span> <span class="attr">itemprop</span>=<span class="string">"image"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">src</span>=<span class="string">"&#123;&#123; url_for( theme.avatar | default(theme.images + '/avatar.gif') ) &#125;&#125;"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">alt</span>=<span class="string">"&#123;&#123; theme.author &#125;&#125;"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>å°†ä»¥ä¸Šä»£ç å—å¤–é¢æ·»åŠ ä¸€ä¸ªæŒ‡å‘åšå®¢ä¸»é¡µçš„aæ ‡ç­¾ã€‚å³ä¿®æ”¹æˆä»¥ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"site-author-image"</span> <span class="attr">itemprop</span>=<span class="string">"image"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">src</span>=<span class="string">"&#123;&#123; url_for( theme.avatar | default(theme.images + '/avatar.gif') ) &#125;&#125;"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">alt</span>=<span class="string">"&#123;&#123; theme.author &#125;&#125;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œè¿›è¡Œæµ‹è¯•ã€‚</p><h3 id="2-å®šåˆ¶åœ†å½¢å¤´åƒ"><a class="header-anchor" href="#2-å®šåˆ¶åœ†å½¢å¤´åƒ">Â¶</a>2) å®šåˆ¶åœ†å½¢å¤´åƒ</h3><p>æ‰“å¼€ç«™ç‚¹ä¸‹çš„	<code>myblog/themes/next/source/css/_common/components/sidebar/sidebar-author.styl</code>æ–‡ä»¶ ,åœ¨ <code>.site-author-image</code>é€‰æ‹©å™¨çš„æœ«å°¾ï¼ˆå³æ‹¬å·å‰ï¼‰æ·»åŠ </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line"><span class="attribute">transition</span>: <span class="number">2s</span> all;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>.site-author-image</code>é€‰æ‹©å™¨å³æ‹¬å·åå¦èµ·ä¸€è¡Œ,åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.site-author-image</span>:hover&#123;</span><br><span class="line">  <span class="attribute">transform</span>: rotate(<span class="number">360deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ–è€…ä½ å¯ä»¥çœ‹ä¸‹é¢çš„ä»£ç ä¼šæ›´åŠ ç›´è§‚ã€‚</p><p>åŸæ¥çš„ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.site-author-image</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="variable">$site</span>-author-image-padding;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="variable">$site</span>-author-image-width;</span><br><span class="line">  <span class="attribute">height</span>: <span class="variable">$site</span>-author-image-height;</span><br><span class="line">  <span class="attribute">border</span>: <span class="variable">$site</span>-author-image-border-width solid <span class="variable">$site</span>-author-image-border-color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.site-author-image</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="variable">$site</span>-author-image-padding;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="variable">$site</span>-author-image-width;</span><br><span class="line">  <span class="attribute">height</span>: <span class="variable">$site</span>-author-image-height;</span><br><span class="line">  <span class="attribute">border</span>: <span class="variable">$site</span>-author-image-border-width solid <span class="variable">$site</span>-author-image-border-color;</span><br><span class="line">  <span class="attribute">opacity</span>: hexo-config(<span class="string">'avatar.opacity'</span>) is a <span class="string">'unit'</span> ? hexo-config(<span class="string">'avatar.opacity'</span>) : <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">2s</span> all;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.site-author-image</span>:hover&#123;</span><br><span class="line">  <span class="attribute">transform</span>: rotate(<span class="number">360deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œæ•ˆæœå¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/3399304512.png" alt="17.PNG"></p><h2 id="12-è®¾ç½®æµè§ˆå™¨æ ‡ç­¾å›¾æ ‡"><a class="header-anchor" href="#12-è®¾ç½®æµè§ˆå™¨æ ‡ç­¾å›¾æ ‡">Â¶</a>12. è®¾ç½®æµè§ˆå™¨æ ‡ç­¾å›¾æ ‡</h2><p>å°†ä¸€å¼ å›¾æ ‡32x32åƒç´ å¤§å°çš„å›¾æ ‡favicon.jpgæ”¾å…¥ <code>myblog/themes/next/source/images</code>ç›®å½•é‡Œï¼Œæ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>favicon</code>ï¼Œæ‰¾åˆ°å¦‚ä¸‹ä»£ç å—ï¼Œå¹¶åšç›¸åº”ä¿®æ”¹ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">favicon:</span></span><br><span class="line">  <span class="attr">small:</span> <span class="string">/images/favicon-16x16-next.png</span>  </span><br><span class="line">  <span class="comment">#medium: /images/favicon-32x32-next.png</span></span><br><span class="line">  <span class="attr">medium:</span> <span class="string">/images/favicon.jpg</span>  <span class="comment">#æµè§ˆå™¨æ ‡ç­¾å›¾æ ‡åœ¨è¿™é‡Œè®¾ç½®</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/images/apple-touch-icon-next.png</span></span><br><span class="line">  <span class="attr">safari_pinned_tab:</span> <span class="string">/images/logo.svg</span></span><br><span class="line">  <span class="comment">#android_manifest: /images/manifest.json</span></span><br><span class="line">  <span class="comment">#ms_browserconfig: /images/browserconfig.xml</span></span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œæµè§ˆå™¨è¾“å…¥<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a>è®¿é—®ä½ çš„åšå®¢ï¼Œå‘ç°ä½ çš„åšå®¢çš„æµè§ˆå™¨æ ‡ç­¾å›¾æ ‡å·²ç»å˜äº†ã€‚</p><h2 id="13-é¦–é¡µæ–‡ç« ç¼©ç•¥æè¿°è®¾ç½®"><a class="header-anchor" href="#13-é¦–é¡µæ–‡ç« ç¼©ç•¥æè¿°è®¾ç½®">Â¶</a>13. é¦–é¡µæ–‡ç« ç¼©ç•¥æè¿°è®¾ç½®</h2><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>auto_excerpt</code>æ‰¾åˆ°å¦‚ä¸‹ä½ç½®ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">auto_excerpt:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">150</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹enableå’Œlengthï¼Œä¿®æ”¹åå¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">auto_excerpt:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">10</span></span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œæ•ˆæœå¦‚ä¸‹å›¾:</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/948096695.png" alt="18.PNG"></p><h2 id="14-æ·»åŠ 3dåŠ¨ç”»èƒŒæ™¯"><a class="header-anchor" href="#14-æ·»åŠ 3dåŠ¨ç”»èƒŒæ™¯">Â¶</a>14. æ·»åŠ 3DåŠ¨ç”»èƒŒæ™¯</h2><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>canvas</code>æ‰¾åˆ°å¦‚ä¸‹ä½ç½®ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Canvas-nest</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-canvas-nest</span></span><br><span class="line"><span class="attr">canvas_nest:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># JavaScript 3D library.</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-three</span></span><br><span class="line"><span class="comment"># three_waves</span></span><br><span class="line"><span class="attr">three_waves:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment"># canvas_lines</span></span><br><span class="line"><span class="attr">canvas_lines:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment"># canvas_sphere</span></span><br><span class="line"><span class="attr">canvas_sphere:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>çœ‹ä½ å–œæ¬¢å“ªç§åŠ¨ç”»èƒŒæ™¯é£æ ¼ï¼Œåˆ†åˆ«æœ‰ <code>canvas_nest</code>ã€<code>three_waves</code>ã€<code>canvas_lines</code>ã€<code>canvas_sphere</code>å››ç§ï¼Œé€‰æ‹©ä¸€ç§ç„¶åå°†å†’å·åé¢çš„ <code>false</code>æ”¹æˆ <code>true</code>ã€‚è¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯ç¬¬ä¸€ç§ <code>canvas_nest</code>ï¼Œæ”¹æˆå¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Canvas-nest</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-canvas-nest</span></span><br><span class="line"><span class="attr">canvas_nest:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># JavaScript 3D library.</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-three</span></span><br><span class="line"><span class="comment"># three_waves</span></span><br><span class="line"><span class="attr">three_waves:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment"># canvas_lines</span></span><br><span class="line"><span class="attr">canvas_lines:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment"># canvas_sphere</span></span><br><span class="line"><span class="attr">canvas_sphere:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œå®Œæˆåä½ ä¼šå‘ç°åšå®¢ç½‘é¡µå·²ç»å‡ºç°å¥½çœ‹çš„åŠ¨æ€èƒŒæ™¯äº†ã€‚</p><h2 id="15-å¢åŠ æœ¬åœ°æœç´¢åŠŸèƒ½"><a class="header-anchor" href="#15-å¢åŠ æœ¬åœ°æœç´¢åŠŸèƒ½">Â¶</a>15. å¢åŠ æœ¬åœ°æœç´¢åŠŸèƒ½</h2><p>éœ€è¦å®‰è£… <code>hexo-generator-searchdb</code>æ’ä»¶æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œåœ¨ç«™ç‚¹çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘ <code>myblog/_config.yml</code>å…¨å±€é…ç½®æ–‡ä»¶ï¼Œæ–°å¢ä»¥ä¸‹å†…å®¹åˆ°ä»»æ„ä½ç½®ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>local_search</code>æ‰¾åˆ°å¦‚ä¸‹ä»£ç ï¼Œ<code>enable</code>é»˜è®¤æ˜¯ <code>false</code>ï¼Œå°† <code>enable</code>è®¾ç½®ä¸º <code>true</code>ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œå®Œæˆåä½ ä¼šå‘ç°åšå®¢èœå•æ ä¸Šå·²ç»å‡ºç°äº†æœç´¢é¡¹äº†ã€‚</p><h2 id="16-ç½®é¡¶æŒ‰é’®æ˜¾ç¤ºç™¾åˆ†æ¯”"><a class="header-anchor" href="#16-ç½®é¡¶æŒ‰é’®æ˜¾ç¤ºç™¾åˆ†æ¯”">Â¶</a>16. ç½®é¡¶æŒ‰é’®æ˜¾ç¤ºç™¾åˆ†æ¯”</h2><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>scrollpercent</code>ã€‚ å°†å…¶å€¼è®¾ç½®ä¸ºtrueã€‚æ•ˆæœå¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1538356072444.png" alt="1538356072444"></p><h2 id="17-æ–‡ç« å­—æ•°å’Œé˜…è¯»æ—¶é•¿ç»Ÿè®¡"><a class="header-anchor" href="#17-æ–‡ç« å­—æ•°å’Œé˜…è¯»æ—¶é•¿ç»Ÿè®¡">Â¶</a>17. æ–‡ç« å­—æ•°å’Œé˜…è¯»æ—¶é•¿ç»Ÿè®¡</h2><p>éœ€è¦å®‰è£… <code>hexo-wordcount</code>è¿™ä¸ªæ’ä»¶æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œåœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ‰“å¼€git bashï¼Œè¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>post_wordcount</code>ã€‚<br>å°†å…¶é…ç½®ä¿®æ”¹æˆä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_wordcount:</span></span><br><span class="line">  <span class="attr">item_text:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">wordcount:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">totalcount:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">separated_meta:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œæµ‹è¯•ã€‚</p><h2 id="18-éšè—åº•éƒ¨çš„-å¼ºåŠ›é©±åŠ¨-å†…å®¹"><a class="header-anchor" href="#18-éšè—åº•éƒ¨çš„-å¼ºåŠ›é©±åŠ¨-å†…å®¹">Â¶</a>18. éšè—åº•éƒ¨çš„â€œå¼ºåŠ›é©±åŠ¨â€å†…å®¹</h2><p>æ‰“å¼€ <code>myblog/themes/next/layout/_partials/footer.swig</code>,æœç´¢å…³é”®å­— <code>theme.footer.powered.enable</code>ï¼Œé€šè¿‡ <code>&lt;!-- --&gt;</code>æ³¨é‡Šæ‰å¦‚ä¸‹ä»£ç ã€‚<br><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1147445624.png" alt="19.PNG"></p><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œä½ ä¼šå‘ç°åšå®¢å·²ç»éšè—æ‰äº†åº•éƒ¨çš„â€œå¼ºåŠ›é©±åŠ¨â€å†…å®¹äº†ã€‚</p><h2 id="19-å›¾ç‰‡ç‚¹å‡»æ”¾å¤§åŠŸèƒ½æ”¯æŒ"><a class="header-anchor" href="#19-å›¾ç‰‡ç‚¹å‡»æ”¾å¤§åŠŸèƒ½æ”¯æŒ">Â¶</a>19. å›¾ç‰‡ç‚¹å‡»æ”¾å¤§åŠŸèƒ½æ”¯æŒ</h2><p>é»˜è®¤fancyboxå¼€å¯åï¼Œæ‰€æœ‰æ–‡å­—çš„å›¾ç‰‡éƒ½ä¼šå¼ºåˆ¶è¢«åŠ å…¥åˆ°äº†fancyboxå¼¹å‡ºæ¡†ï¼Œå¹¶ä¸”fancyboxä¼šå’Œå›¾ç‰‡é“¾æ¥å†²çªï¼Œå¦‚æœæƒ³è®©æŸäº›å›¾ç‰‡ç¦ç”¨fancyboxçš„è¯å¯ä»¥å¯¹nextåšä¸€äº›ä¿®æ”¹æ¥å®ç°è¿™ä¸ªå°åŠŸèƒ½ã€‚</p><p>ä¿®æ”¹ <code>themes/next/source/js/src/utils.js</code>æ–‡ä»¶ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  wrapImageWithFancyBox: function () &#123;</span><br><span class="line">    $('.content img')</span><br><span class="line">      .not('[hidden]')</span><br><span class="line">      .not('.group-picture img, .post-gallery img')</span><br><span class="line">      .each(function () &#123;</span><br><span class="line">        var $image = $(this);</span><br><span class="line"><span class="addition">+        if ($image.hasClass('nofancybox')) return;</span></span><br><span class="line">        var imageTitle = $image.attr('title');</span><br><span class="line">        var $imageWrapLink = $image.parent('a');</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œç»™ä¸éœ€è¦ fancybox çš„æ ‡ç­¾ä¸­æ·»åŠ classå±æ€§ <code>class=&quot;nofancybox&quot;</code>ï¼Œå¦‚æœ class å±æ€§ä¸­å·²ç»æœ‰å…¶å®ƒå†…å®¹ï¼Œä¹Ÿå¯ä»¥ä»¥ç©ºæ ¼å¹¶åˆ—ï¼Œæ¯”å¦‚ä¸‹é¢ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"logoimg nofancybox"</span> <span class="attr">src</span>=<span class="string">"/images/logo.jpg"</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="20-æ–‡ç« åº”ç”¨æœ¬åœ°å›¾ç‰‡"><a class="header-anchor" href="#20-æ–‡ç« åº”ç”¨æœ¬åœ°å›¾ç‰‡">Â¶</a>20. æ–‡ç« åº”ç”¨æœ¬åœ°å›¾ç‰‡</h2><blockquote><p>å†™åšå®¢æ—¶è™½ç„¶å¯ä»¥é€šè¿‡ç¬¬ä¸‰æ–¹å›¾åºŠç»™hexoæ–‡ç« æ’å…¥å›¾ç‰‡ï¼Œä½†å¦‚æœä½ å’Œæˆ‘ä¸€æ ·æ€»å®³æ€•å“ªå¤©ç¬¬ä¸‰æ–¹å›¾åºŠæä¾›å•†è¢«æ— æ•…å’Œè°äº†æˆ–è€…å…³é—­æœåŠ¡äº†ï¼Œé‚£ä¹ˆé€šè¿‡ç›¸å¯¹è·¯å¾„ä»æœ¬åœ°å¼•å…¥å›¾ç‰‡çš„æ–¹æ¡ˆæ— ç–‘æ˜¯å†å¥½ä¸è¿‡çš„æ–¹æ¡ˆã€‚hexoå…è®¸ä½ åœ¨ <code>myblog/source/images</code>ç›®å½•ä¸‹æ”¾å…¥å›¾ç‰‡ï¼ˆè¿™é‡Œçš„imagesç›®å½•å¦‚æœæ²¡æœ‰éœ€è¦ä½ è‡ªå·±åˆ›å»ºï¼‰ï¼Œå½“hexoç¼–è¯‘æ—¶ä¼šå°†å›¾ç‰‡æ”¾å…¥åˆ° <code>myblog/public/images</code>ç›®å½•é‡Œã€‚ç”±äºéƒ¨ç½²åšå®¢å…¶å®å°±æ˜¯éƒ¨ç½² <code>public</code>ç›®å½•ï¼Œæ‰€ä»¥å¼•ç”¨å›¾ç‰‡çš„æ–¹å¼ä¹Ÿå°±æ˜¯ <code>![](/images/image.jpg)</code>ã€‚å› æ­¤è¦å°†åšå®¢æ–‡ç« å¼•ç”¨çš„æœ¬åœ°å›¾ç‰‡éƒ½å­˜åˆ° <code>myblog/source/images</code>ç›®å½•é‡Œã€‚ä½†å¦‚æœæ‰€æœ‰çš„å›¾ç‰‡éƒ½æ”¾åˆ°åŒä¸€ä¸ªç›®å½•é‡Œä¼šå¯¼è‡´åæœŸç»´æŠ¤çš„æˆæœ¬å¾ˆå¤§ã€‚</p><p>ä¸ºè§£å†³ä»¥ä¸Šçš„é—®é¢˜ï¼Œhexoæ”¯æŒé€šè¿‡å…¶ä»–ç›®å½•çš„æ–¹å¼å¼•å…¥å›¾ç‰‡ï¼Œåªè¦ä¿®æ”¹ <code>myblog/_config.yml</code>å…¨å±€é…ç½®æ–‡ä»¶ï¼Œå°† <code>post_asset_folder:</code>è¿™ä¸ªé€‰é¡¹è®¾ç½®ä¸º <code>true</code>ï¼Œå°±èƒ½å°†å›¾ç‰‡æ”¾ç½®åˆ°markdownæ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸‹çš„åŒåæ–‡ä»¶å¤¹é‡Œï¼Œä½†éœ€è¦é€šè¿‡ç±»ä¼¼<code>![](2018/09/21/article/image.jpg)</code>çš„æ–¹å¼æ¥å¼•ç”¨å›¾ç‰‡ï¼Œæ˜æ˜¾è¿™æ ·ä¸€é•¿ä¸²çš„è·¯å¾„å¼•ç”¨æ˜¯å¾ˆç³Ÿç³•çš„ã€‚</p><p>ä¸ºè§£å†³ä»¥ä¸Šçš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ <code>hexo-asset-image</code>æ’ä»¶æ¥å®ç°ç±»ä¼¼<code>![](article/image.jpg)</code>çš„ç›¸å¯¹è·¯å¾„å¼•ç”¨æ–¹å¼æ¥å¼•ç”¨å›¾ç‰‡ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p></blockquote><p>ï¼ˆ1ï¼‰å®‰è£…hexo-asset-image</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-asset-image --save</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰å°†å…¨å±€é…ç½®æ–‡ä»¶ <code>myblog/_config.yml</code>é‡Œçš„ <code>post_asset_folder:</code>è¿™ä¸ªé€‰é¡¹è®¾ç½®ä¸º <code>true</code></p><p>ï¼ˆ3ï¼‰æ–°å»ºä¸€ç¯‡markdownæ–‡ç« åšæµ‹è¯•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ‰§è¡Œè¯¥å‘½ä»¤ä¼šåœ¨myblog/source/_posts/æ–‡ä»¶å¤¹å†…é™¤äº†ç”Ÿæˆnewpage.mdæ–‡ä»¶å¤–ï¼Œè¿˜ç”Ÿæˆä¸€ä¸ªåŒåçš„newpageæ–‡ä»¶å¤¹</span></span><br><span class="line">$ hexo n newpage</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰å¼•ç”¨æœ¬åœ°å›¾ç‰‡</p><p>è¦æ’å…¥å›¾ç‰‡æ—¶ï¼Œåªéœ€è¦å°†å›¾ç‰‡æ”¾å…¥ <code>newpage</code>æ–‡ä»¶å¤¹ä¸­ï¼Œæ¯”å¦‚æ”¾å…¥ä¸€å¼ åä¸ºtest.pngçš„å›¾ç‰‡ï¼Œé‚£ä¹ˆåœ¨newpage.mdä¸­é€šè¿‡ä»¥ä¸‹markdownè¯­å¥æ¥å¼•ç”¨è¯¥å›¾ç‰‡ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">test</span>](<span class="link">newpage/test.png</span>)</span><br></pre></td></tr></table></figure><p>ï¼ˆ5ï¼‰ç¼–è¯‘å¹¶å¯åŠ¨æµ‹è¯•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g</span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><p>å®Œæˆåä½ ä¼šå‘ç°åšå®¢ä¸­ç›¸å…³çš„æ–‡ç« èƒ½æ­£å¸¸æ˜¾ç¤ºå›¾ç‰‡äº†ã€‚</p><h2 id="21-ä¿®æ”¹æ–‡ç« é“¾æ¥ç»„æˆå½¢å¼"><a class="header-anchor" href="#21-ä¿®æ”¹æ–‡ç« é“¾æ¥ç»„æˆå½¢å¼">Â¶</a>21. ä¿®æ”¹æ–‡ç« é“¾æ¥ç»„æˆå½¢å¼</h2><blockquote><p>Hexoé»˜è®¤çš„æ–‡ç« é“¾æ¥å½¢å¼æ˜¯ä¸€ä¸ªå››çº§urlâ€”â€”<code>https://domain/year/month/day/demo.html</code>ï¼Œå¯èƒ½é€ æˆurlè¿‡é•¿ï¼Œå¯¹æœç´¢å¼•æ“æ˜¯ååˆ†ä¸å‹å¥½ã€‚æˆ‘ä»¬å¯ä»¥æ”¹æˆ<code>https://domain/demo.html</code>çš„å½¢å¼ã€‚</p></blockquote><p>ç¼–è¾‘å…¨å±€é…ç½®æ–‡ä»¶<code>myblog/_config.yml</code>ï¼Œåšå¦‚ä¸‹ä¿®æ”¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#permalink: :year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:title.html</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°éƒ¨ç½²å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><blockquote><p>ä½†æ˜¯ä¸ºäº†æ›´å¥½ç®¡ç†æ–‡ç« ï¼Œæˆ‘æ›´æ„¿æ„ç”¨<code>https://domain/åˆ†ç±»/demo.html</code>çš„å½¢å¼æ¥å®šä¹‰æ–‡ç« çš„urlã€‚æ¯”å¦‚æˆ‘æœ¬åœ°<code>myblog/source/_posts</code>ç›®å½•ä¸‹ç®¡ç†çš„æ–‡ç« ï¼ˆmarkdownæ–‡ä»¶ï¼‰éå¸¸å¤šï¼Œä¼šå¾ˆä¸å®¹æ˜“æŸ¥æ‰¾åˆ°ã€‚é‚£æˆ‘å¯ä»¥æ ¹æ®<code>_posts</code>ç›®å½•ä¸‹markdownæ–‡ä»¶çš„ç±»åˆ«è¿›è¡Œåˆ†ç±»ï¼Œå¹¶åœ¨<code>_posts</code>ç›®å½•ä¸‹å»ºç«‹ä¸æ–‡ç« ç›¸å…³çš„æ–‡ä»¶å¤¹ï¼Œå°†è¿™äº›æ–‡ç« åˆ†ç±»å¥½åæ”¾å…¥åˆ°è¿™äº›åˆ†ç±»æ–‡ä»¶å¤¹é‡Œå­˜æ”¾ã€‚æ¯”å¦‚æˆ‘æœ‰ä¸€ç¯‡æ–‡ä»¶åä¸ºhexo_next.mdçš„æ–‡ç« ã€‚æ–‡ç« çš„æ ‡é¢˜å«ã€Šhexo nextä¸»é¢˜è®¾ç½®ä¸å®Œå–„ã€‹ï¼Œé‚£ä¹ˆæˆ‘æ ¹æ®è‡ªå·±çš„å–œå¥½å»ºç«‹ä¸€ä¸ªåä¸º<code>blog</code>çš„æ–‡ä»¶å¤¹ï¼Œå¹¶å°†hexo_next.mdæ”¾åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œã€‚ä»¥å·¥ä½œåŒºæ ¹ç›®å½•ä¸ºèµ·å§‹ç‚¹çš„å¤§æ¦‚çš„ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt;.</span><br><span class="line">&gt;â”œâ”€â”€ _config.yml</span><br><span class="line">&gt;â”œâ”€â”€ package.json</span><br><span class="line">&gt;â”œâ”€â”€ scaffolds</span><br><span class="line">&gt;â”œâ”€â”€ <span class="built_in">source</span></span><br><span class="line">&gt;|   â”œâ”€â”€ _drafts</span><br><span class="line">&gt;|   â””â”€â”€ _posts</span><br><span class="line">&gt;|         â”œâ”€â”€ blog  <span class="comment">#æœ¬ä¾‹åˆ†ç±»æ–‡ä»¶å¤¹</span></span><br><span class="line">&gt;|         |    â”œâ”€â”€ hexo_next.md    <span class="comment">#æœ¬ä¾‹æ–‡ç« ï¼ˆmarkdownæ–‡ä»¶ï¼‰</span></span><br><span class="line">&gt;|         |    â”œâ”€â”€ hexo_next       <span class="comment">#æœ¬åœ°å­˜æ”¾hexo_next.mdé‡Œæ‰€éœ€å›¾ç‰‡çš„æ–‡ä»¶å¤¹</span></span><br><span class="line">	  |    â”œâ”€â”€ typecho_move.md <span class="comment">#å…¶ä»–åŒç±»åˆ«çš„æ–‡ç«  </span></span><br><span class="line">&gt;|         |    â””â”€â”€ typecho_move       </span><br><span class="line">&gt;|		  â”œâ”€â”€ devops  <span class="comment">#å…¶ä»–åˆ†ç±»æ–‡ä»¶å¤¹</span></span><br><span class="line">&gt;|		  â”œâ”€â”€ linux</span><br><span class="line">&gt;|		  â”œâ”€â”€ sql</span><br><span class="line">&gt;|         â””â”€â”€ tools</span><br><span class="line">&gt;â””â”€â”€ themes</span><br></pre></td></tr></table></figure><p>ç»è¿‡é™æ€åŒ–å¤„ç†åï¼Œé‚£ä¹ˆæˆ‘çš„urlå½¢å¼å°±å˜æˆäº†<code>https://domain/blog/hexo_next.html</code>ã€‚è¿™æ ·å¤„ç†çš„å¥½å¤„å°±æ˜¯æ—¢èƒ½å¾ˆå¥½çš„ç®¡ç†æ–‡ç« ï¼Œåˆèƒ½å¯¹seoèµ·åˆ°å¾ˆå¥½çš„ä¼˜åŒ–ä½œç”¨ï¼Œé‚£ä½•ä¹è€Œä¸ä¸ºå‘¢ï¼Ÿ</p></blockquote><h2 id="21-æ”¯æŒemojiæ–‡å­—è¡¨æƒ…"><a class="header-anchor" href="#21-æ”¯æŒemojiæ–‡å­—è¡¨æƒ…">Â¶</a>21. æ”¯æŒemojiæ–‡å­—è¡¨æƒ…</h2><p>å¦‚ä½•è®©markdownå¯ä»¥è§£æemojiå‘¢ï¼Ÿå®é™…ä¸Šæˆ‘ä»¬å‘ç°ï¼Œåœ¨ä¸€äº›ç¼–è¾‘å™¨ä¸­è¾“å…¥ <code>:blush:</code> å¹¶æ²¡æœ‰è¡¨æƒ…å‡ºç°ï¼ˆå½“ç„¶æœ‰çš„ç¼–è¾‘å™¨å¯ä»¥ï¼Œæ¯”å¦‚æˆ‘ç°åœ¨ä½¿ç”¨çš„typoraå°±å¾ˆç»™åŠ›ï¼‰ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ è¿™æ˜¯markdownç¼–è¾‘å™¨æ¸²æŸ“å¼•æ“çš„é—®é¢˜ ã€‚åŒæ ·çš„ï¼ŒHexoä¹Ÿè¦å¯¹markdownæ–‡ä»¶è¿›è¡Œæ¸²æŸ“ï¼Œè€ŒHexoç›®å‰é»˜è®¤æ¸²æŸ“å¼•æ“æ˜¯ <code>hexo-renderer-marked</code>,å¯æƒœè¿™ä¸ªæ¸²æŸ“å™¨ä¼¼ä¹ä¸æ”¯æŒæ’ä»¶æ‰©å±•ï¼Œå½“ç„¶å°±ä¸è¡Œäº†ã€‚é‚£æ€ä¹ˆè§£å†³å‘¢ï¼Ÿè¿™é‡Œå°±è¦è¯´ <code>hexo-renderer-markdown-it</code>æ’ä»¶äº†ï¼Œè¿™ä¸ªæ¸²æŸ“å™¨æ’ä»¶æ˜¯æ”¯æŒæ‰©å±•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¸²æŸ“å¼•æ“æ¥æ”¯æŒ <code>emoji</code>è¡¨æƒ…ï¼Œå…·ä½“å®ç°è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ul><li><p>æ›´æ¢æ¸²æŸ“å™¨</p><p>è¿›å…¥blogè·Ÿç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm un hexo-renderer-marked --save           <span class="comment">#å¸è½½hexoé»˜è®¤æ¸²æŸ“å™¨hexo-renderer-marked</span></span><br><span class="line">$ npm i hexo-renderer-markdown-it --save       <span class="comment">#å®‰è£…æ¸²æŸ“å™¨hexo-renderer-markdown-it</span></span><br></pre></td></tr></table></figure><ul><li>å®‰è£…emojiæ’ä»¶ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install markdown-it-emoji --save</span><br></pre></td></tr></table></figure><ul><li>ç¼–è¾‘ç«™ç‚¹é…ç½®æ–‡ä»¶<br>æ‰“å¼€ <code>myblog/_config.yml</code>ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Markdown-it config</span></span><br><span class="line"><span class="comment">## Docs: https://github.com/celsomiranda/hexo-renderer-markdown-it/wiki</span></span><br><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">render:</span></span><br><span class="line">    <span class="attr">html:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">xhtmlOut:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">breaks:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">linkify:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">typographer:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">quotes:</span> <span class="string">'â€œâ€â€˜â€™'</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-abbr</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-footnote</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-ins</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-sub</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-sup</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-emoji</span>  <span class="comment"># add emoji</span></span><br><span class="line">  <span class="attr">anchors:</span></span><br><span class="line">    <span class="attr">level:</span> <span class="number">1</span></span><br><span class="line">    <span class="attr">collisionSuffix:</span> <span class="string">'v'</span></span><br><span class="line">    <span class="attr">permalink:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">permalinkClass:</span> <span class="string">header-anchor</span></span><br><span class="line">    <span class="attr">permalinkSymbol:</span> <span class="string">Â¶</span></span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œä½ ä¼šå‘ç°åšå®¢ä¸­ç›¸å…³çš„æ–‡ç« èƒ½æ­£å¸¸æ˜¾ç¤º <code>emoji</code>è¡¨æƒ…äº†ã€‚æ¯”å¦‚ä¸‹é¢çš„markdownç»è¿‡ç¼–è¯‘æˆhtmlåï¼Œç½‘é¡µè®¿é—®ä¼šå¾—åˆ°è¿™ä¸ªç¬‘è„¸ï¼šğŸ˜„</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: emoji test</span><br><span class="line">date: 2018-09-14 04:13:00</span><br><span class="line">---</span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- more --&gt;</span></span></span><br><span class="line"></span><br><span class="line">:smile:</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’â€â™‚æ›´å¤šçš„ <code>emoji</code>å†™æ³•å¯å‚è€ƒ:</p><p>ğŸ“šhttps://www.webfx.com/tools/emoji-cheat-sheet/</p></blockquote><h2 id="22-æ›´æ”¹ä¸Šä¸‹ç¯‡çš„é¡ºåº"><a class="header-anchor" href="#22-æ›´æ”¹ä¸Šä¸‹ç¯‡çš„é¡ºåº">Â¶</a>22. æ›´æ”¹ä¸Šä¸‹ç¯‡çš„é¡ºåº</h2><p>é»˜è®¤nextæ–‡ç« ä¸‹é¢çš„&quot;ä¸Šä¸€ç¯‡ï¼Œä¸‹ä¸€ç¯‡&quot;æ˜¯æ—§å‘å¸ƒçš„æ–‡ç« åœ¨ä¸Šç¯‡é‡Œçš„ï¼Œä½†æ˜¯å¦‚æœå¸Œæœ›æ–°çš„å‘å¸ƒæ–‡ç« åœ¨ä¸Šç¯‡çš„è¯å°±è¦åšä¿®æ”¹æˆ–è€…é…ç½®äº†ï¼Œæœ€æ–°ç‰ˆæœ¬çš„nextä¼¼ä¹å·²ç»å¯ä»¥ç›´æ¥åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œè®¾ç½®äº†ï¼Œä½†æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯æ—§ç‰ˆæœ¬çš„next5.1.4ï¼Œæ‰€ä»¥éœ€è¦æ·±å…¥æºç è¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„æ–¹æ¡ˆã€‚</p><p>ç¼–è¾‘ <code>blog/themes/next/layout/_macro/post.swig</code> ç„¶ååšä»¥ä¸‹ä¿®æ”¹ï¼š</p><p>æ‰¾åˆ°ä»¥ä¸‹ä»£ç å—ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if not is_index and (post.prev or post.next) %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-nav"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-nav-next post-nav-item"</span>&gt;</span></span><br><span class="line">      &#123;% if post.next %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(post.next.path) &#125;&#125;"</span> <span class="attr">rel</span>=<span class="string">"next"</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; post.next.title &#125;&#125;"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-chevron-left"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> &#123;&#123; post.next.title &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-nav-divider"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-nav-prev post-nav-item"</span>&gt;</span></span><br><span class="line">      &#123;% if post.prev %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(post.prev.path) &#125;&#125;"</span> <span class="attr">rel</span>=<span class="string">"prev"</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; post.prev.title &#125;&#125;"</span>&gt;</span></span><br><span class="line">          &#123;&#123; post.prev.title &#125;&#125; <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-chevron-right"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>å°†ä»¥ä¸Šä»£ç ä¿®æ”¹æˆä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if not is_index and (post.prev or post.next) %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-nav"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-nav-next post-nav-item"</span>&gt;</span></span><br><span class="line">      &#123;% if post.prev %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(post.prev.path) &#125;&#125;"</span> <span class="attr">rel</span>=<span class="string">"prev"</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; post.prev.title &#125;&#125;"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-chevron-left"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> &#123;&#123; post.prev.title &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-nav-divider"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-nav-prev post-nav-item"</span>&gt;</span></span><br><span class="line">      &#123;% if post.next %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(post.next.path) &#125;&#125;"</span> <span class="attr">rel</span>=<span class="string">"next"</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; post.next.title &#125;&#125;"</span>&gt;</span></span><br><span class="line">          &#123;&#123; post.next.title &#125;&#125; <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-chevron-right"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><h2 id="23-æ·»åŠ é¡µé¢åŠ è½½æ•ˆæœ"><a class="header-anchor" href="#23-æ·»åŠ é¡µé¢åŠ è½½æ•ˆæœ">Â¶</a>23. æ·»åŠ é¡µé¢åŠ è½½æ•ˆæœ</h2><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>pace_theme</code>æ‰¾åˆ°å¦‚ä¸‹ä»£ç ä½ç½®ï¼Œå°† <code>pace</code>è®¾ç½®ä¸º <code>true</code>ï¼Œ<code>pace_theme</code>å¯ä»¥æ ¹æ®åˆ—å‡ºäº†çš„æ ·å¼è¿›è¡Œé€‰æ‹©ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Progress bar in the top during page loading.</span></span><br><span class="line"><span class="attr">pace:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># Themes list:</span></span><br><span class="line"><span class="comment">#pace-theme-big-counter</span></span><br><span class="line"><span class="comment">#pace-theme-bounce</span></span><br><span class="line"><span class="comment">#pace-theme-barber-shop</span></span><br><span class="line"><span class="comment">#pace-theme-center-atom</span></span><br><span class="line"><span class="comment">#pace-theme-center-circle</span></span><br><span class="line"><span class="comment">#pace-theme-center-radar</span></span><br><span class="line"><span class="comment">#pace-theme-center-simple</span></span><br><span class="line"><span class="comment">#pace-theme-corner-indicator</span></span><br><span class="line"><span class="comment">#pace-theme-fill-left</span></span><br><span class="line"><span class="comment">#pace-theme-flash</span></span><br><span class="line"><span class="comment">#pace-theme-loading-bar</span></span><br><span class="line"><span class="comment">#pace-theme-mac-osx</span></span><br><span class="line"><span class="comment">#pace-theme-minimal</span></span><br><span class="line"><span class="comment"># For example</span></span><br><span class="line"><span class="comment"># pace_theme: pace-theme-center-simple</span></span><br><span class="line"><span class="attr">pace_theme:</span> <span class="string">pace-theme-minimal</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/pace-gif.gif" alt="pace-gif"></p><h2 id="24-å›¾ç‰‡æ‡’åŠ è½½"><a class="header-anchor" href="#24-å›¾ç‰‡æ‡’åŠ è½½">Â¶</a>24. å›¾ç‰‡æ‡’åŠ è½½</h2><p>æ‡’åŠ è½½ï¼Œå³åœ¨éœ€è¦çš„æ—¶å€™æ‰åŠ è½½å›¾ç‰‡ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§åŠ è½½å®Œæ•´ä¸ªé¡µé¢çš„å›¾ç‰‡,ä½¿ç”¨lazyloadæ’ä»¶å®ç°æ‡’åŠ è½½å¯ä»¥æœ‰æ•ˆæé«˜åšå®¢çš„è®¿é—®é€Ÿåº¦ã€‚</p><p>åœ¨Hexoåšå®¢ç›®å½•ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-lazyload-image --save</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘Hexoä¸»é…ç½®æ–‡ä»¶ <code>myblog/_config.yml</code>,æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">lazyload:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">onlypost:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment">#loadingImg: ../images/loading-post.gif</span></span><br></pre></td></tr></table></figure><blockquote><p>å‚æ•°ï¼š</p><p>enableï¼šæ˜¯å¦å¼€å¯å›¾ç‰‡åšæ‡’åŠ è½½åŠŸèƒ½</p><p>onlypostï¼šæ˜¯å¦ä»…æ–‡ç« ä¸­çš„å›¾ç‰‡åšæ‡’åŠ è½½ï¼Œå¦‚æœä¸º falseï¼Œåˆ™ä¸»é¢˜ä¸­çš„å…¶ä»–å›¾ç‰‡ï¼Œä¹Ÿä¼šåšæ‡’åŠ è½½ï¼Œå¦‚å¤´åƒï¼Œlogo ç­‰ä»»ä½•å›¾ç‰‡ã€‚</p><p>loadingImgï¼šå›¾ç‰‡æœªåŠ è½½æ—¶çš„ä»£æ›¿å›¾ï¼Œä¸å¡«å†™ä½¿ç”¨é»˜è®¤åŠ è½½å›¾ç‰‡ï¼Œå¦‚æœéœ€è¦è‡ªå®šä¹‰ï¼Œæ·»å¡«å…¥ loading å›¾ç‰‡åœ°å€ï¼Œå¦‚æœæ˜¯æœ¬åœ°å›¾ç‰‡ï¼Œä¸è¦å¿˜è®°æŠŠå›¾ç‰‡æ·»åŠ åˆ°ä½ çš„ä¸»é¢˜ç›®å½•ä¸‹ã€‚ Next ä¸»é¢˜éœ€å°†å›¾ç‰‡æ”¾åˆ° <code>themes/next/source/images</code> ç›®å½•ä¸‹ï¼Œç„¶åå¼•ç”¨æ—¶ï¼š<code>loadingImg: ../images/xxx.gif</code></p></blockquote><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/loading-gif.gif" alt="loading-gif"></p><h2 id="25-å¼€å¯æ‰“èµåŠŸèƒ½"><a class="header-anchor" href="#25-å¼€å¯æ‰“èµåŠŸèƒ½">Â¶</a>25. å¼€å¯æ‰“èµåŠŸèƒ½</h2><p>é¦–å…ˆè¦å°†æ”¯ä»˜å®å’Œå¾®ä¿¡çš„æ”¶æ¬¾ç å›¾ç‰‡æ”¾åˆ° <code>myblog/themes/next/source/images</code>ç›®å½•é‡Œã€‚</p><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>reward</code>æ‰¾åˆ°ä¸‹å›¾ä½ç½®ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1600849011.png" alt="16.PNG"></p><p>æ ¹æ®è‡ªèº«æƒ…å†µè¿›è¡Œä¿®æ”¹æˆ–è€…æ·»åŠ ï¼Œæ³¨æ„ï¼šä¸€å®šå»æ‰å…ƒç´ å‰é¢çš„ <code>#</code>æ‰èƒ½ç”Ÿæ•ˆã€‚æˆ‘çš„å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Reward</span></span><br><span class="line">reward_comment: å¦‚æœä½ è§‰å¾—æˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä½ å¯ä»¥æ‰“èµæˆ‘å“¦~</span><br><span class="line">wechatpay: /images/wechatpay.png</span><br><span class="line">alipay: /images/alipay.jpg</span><br><span class="line"><span class="comment">#bitcoin: /images/bitcoin.png</span></span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œæµè§ˆå™¨è®¿é—®åšå®¢æ—¶ï¼Œä½ ä¼šå‘ç°æ¯ç¯‡æ–‡ç« åº•éƒ¨å°±ä¼šæœ‰æ‰“èµçš„å°å›¾æ ‡äº†ã€‚</p><h2 id="26-æ–‡ç« åˆ†äº«åŠŸèƒ½"><a class="header-anchor" href="#26-æ–‡ç« åˆ†äº«åŠŸèƒ½">Â¶</a>26. æ–‡ç« åˆ†äº«åŠŸèƒ½</h2><p>è¿™é‡Œæˆ‘æä¾›äº†ä¸‰ç§æ–¹æ¡ˆï¼Œæ¨èä¸‹æ–‡è¯´çš„ç¬¬äºŒç§æ–¹æ¡ˆã€‚</p><h3 id="æ–¹æ¡ˆ1-jiathis"><a class="header-anchor" href="#æ–¹æ¡ˆ1-jiathis">Â¶</a>æ–¹æ¡ˆ1 jiathis</h3><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>jiathis</code>ï¼Œæ‰¾åˆ°å¦‚ä¸‹ä»£ç ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#jiathis:</span></span><br><span class="line">  <span class="comment">##uid: Get this uid from http://www.jiathis.com/</span></span><br><span class="line"><span class="comment">#add_this_id:</span></span><br></pre></td></tr></table></figure><p>å»æ‰ <code>#jiathis:</code>å‰çš„ <code>#</code>ï¼Œå¹¶åœ¨å…¶åæ·»åŠ  <code>true</code>ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jiathis:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment">##uid: Get this uid from http://www.jiathis.com/</span></span><br><span class="line"><span class="comment">#add_this_id:</span></span><br></pre></td></tr></table></figure><p>ä¸çŸ¥é“ä¸ºä»€ä¹ˆæœ‰bugï¼Œæ— æ³•åŠ è½½å‡ºå›¾æ ‡ï¼Œä¹Ÿä¸èƒ½ç‚¹å‡»ã€‚äºæ˜¯æ¢å¤åŸæ ·åï¼Œæ”¹ç”¨ç¬¬äºŒç§æ–¹æ¡ˆã€‚</p><h3 id="æ–¹æ¡ˆ2-needmoreshare2"><a class="header-anchor" href="#æ–¹æ¡ˆ2-needmoreshare2">Â¶</a>æ–¹æ¡ˆ2 needmoreshare2</h3><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>needmoreshare2</code>ï¼Œæ‰¾åˆ°å¦‚ä¸‹ä»£ç å¹¶åšä»¥ä¸‹ä¿®æ”¹ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">needmoreshare2:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">postbottom:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">options:</span></span><br><span class="line">      <span class="attr">iconStyle:</span> <span class="string">box</span></span><br><span class="line">      <span class="attr">boxForm:</span> <span class="string">horizontal</span></span><br><span class="line">      <span class="attr">position:</span> <span class="string">bottomCenter</span></span><br><span class="line">      <span class="attr">networks:</span> <span class="string">Weibo,Wechat,Douban,QQZone,Twitter,Facebook</span></span><br><span class="line">  <span class="attr">float:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">options:</span></span><br><span class="line">      <span class="attr">iconStyle:</span> <span class="string">box</span></span><br><span class="line">      <span class="attr">boxForm:</span> <span class="string">horizontal</span></span><br><span class="line">      <span class="attr">position:</span> <span class="string">middleRight</span></span><br><span class="line">      <span class="attr">networks:</span> <span class="string">Weibo,Wechat,Douban,QQZone,Twitter,Facebook</span></span><br></pre></td></tr></table></figure><p>ä¸è¿‡æˆ‘å‘ç°next 5.1.4ç‰ˆæœ¬ä¸­å¾®ä¿¡åŠ è½½ä¸å‡ºäºŒç»´ç ,åº”è¯¥æ˜¯å°è£…å¥½çš„å¾®ä¿¡åˆ†äº«é“¾æ¥å¤±æ•ˆäº†ã€‚æˆ‘æ˜¯é€šè¿‡è€ç‰ˆæœ¬çš„ä»“åº“https://github.com/iissnan/hexo-theme-nextå®‰è£…çš„ï¼Œæ‰€ä»¥æœ‰è¿™ä¸ªé—®é¢˜ï¼Œè€Œæ–°ç‰ˆæœ¬çš„nextæ˜¯æ²¡æœ‰è¿™ä¸ªé—®é¢˜çš„ã€‚æ–°ç‰ˆæœ¬ä»“åº“å·²ç»æ¬è¿åˆ°äº†https://github.com/theme-next ã€‚</p><p>è™½ç„¶æˆ‘å®‰è£…çš„æ˜¯è€ç‰ˆæœ¬ï¼Œä¸è¿‡è¿™é‡Œæˆ‘ä¹Ÿæä¾›äº†è§£å†³åŠæ³•ã€‚ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ‰“å¼€git bashï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ rm -rf themes/next/<span class="built_in">source</span>/lib/needsharebutton</span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/theme-next/theme-next-needmoreshare2 themes/next/<span class="built_in">source</span>/lib/needsharebutton</span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œä½ ä¼šå‘ç°åšå®¢å·²ç»å‡ºç°åˆ†äº«æœåŠ¡å›¾æ ‡äº†ï¼Œå¹¶ä¸”ç‚¹å‡»å¾®ä¿¡åˆ†äº«å›¾æ ‡ä¹Ÿå¯ä»¥åŠ è½½å‡ºåˆ†äº«äºŒç»´ç äº†ã€‚</p><h3 id="æ–¹æ¡ˆ3-baidushare"><a class="header-anchor" href="#æ–¹æ¡ˆ3-baidushare">Â¶</a>æ–¹æ¡ˆ3 baidushare</h3><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>baidushare</code>ï¼Œæ‰¾åˆ°å¦‚ä¸‹ä»£ç å¹¶åšä¿®æ”¹ã€‚ä¿®æ”¹åå¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#baidushare:</span></span><br><span class="line"><span class="comment">##  type: button</span></span><br><span class="line"><span class="attr">baidushare:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">button</span></span><br><span class="line">  <span class="attr">baidushare:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œä½ ä¼šå‘ç°åšå®¢å·²ç»å‡ºç°åˆ†äº«æœåŠ¡å›¾æ ‡äº†ã€‚</p><h2 id="27-ä¼˜åŒ–æ·±è‰²ä»£ç é«˜äº®èƒŒæ™¯"><a class="header-anchor" href="#27-ä¼˜åŒ–æ·±è‰²ä»£ç é«˜äº®èƒŒæ™¯">Â¶</a>27. ä¼˜åŒ–æ·±è‰²ä»£ç é«˜äº®èƒŒæ™¯</h2><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¿®æ”¹ä»£ç é«˜äº®èƒŒæ™¯ä¸ºæ·±è‰²èƒŒæ™¯åï¼Œå½“åœ¨åšå®¢æ–‡ç« ä¸Šé€‰æ‹©ä»£ç æ—¶ï¼Œé€‰æ‹©åˆ°çš„é¢œè‰²ä¹Ÿä¸ºæ·±è‰²ï¼Œè™½ç„¶å’ŒèƒŒæ™¯è‰²è¿˜æ˜¯æœ‰ç‚¹ç‚¹åŒºåˆ«ï¼Œä½†æ˜¯ä¸å¥½åŒºåˆ†ã€‚æ‰€ä»¥ç»è¿‡ä¸€ç•ªç ”ç©¶ï¼Œæ‰æœ‰äº†ä»¥ä¸‹ä¼˜åŒ–æ•™ç¨‹ã€‚</p><p>åœ¨ <code>myblog/themes/next/source/css/_custom/custom.styl</code>ä¸­æ·»åŠ ä»¥ä¸‹æ ·å¼ä»£ç ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//page code background-color</span></span><br><span class="line"><span class="selector-class">.code</span> ::selection &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#2593a6</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.code</span> +mobile() &#123;</span><br><span class="line">   <span class="attribute">background</span>: <span class="number">#2593a6</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//gitalk code background-color </span></span><br><span class="line"><span class="selector-class">.gt-container</span> <span class="selector-class">.gt-comment-content</span> <span class="selector-class">.highlight</span> pre, <span class="selector-class">.markdown-body</span> pre&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#2d2d2d</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.gt-container</span> <span class="selector-class">.gt-comment-content</span> <span class="selector-class">.highlight</span> ::selection &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#2593a6</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä¼˜åŒ–äº†æ‰€ä»¥é«˜äº®ä»£ç åŒºåŸŸï¼ŒåŒ…æ‹¬gitalkè¯„è®ºåŒºçš„é«˜äº®ä»£ç ã€‚ è¿™äº›æ ·å¼ä»£ç æ˜¯é€šè¿‡æµè§ˆå™¨è°ƒè¯•è€Œå¾—ï¼Œå¦‚æœ‰å…¶å®ƒæ ·å¼çš„éœ€æ±‚ï¼Œå¯å‚è€ƒæœ¬ç¤ºä¾‹åœ¨æµè§ˆå™¨ä¸­è°ƒè¯•ã€‚</p><h2 id="28-ä¼˜åŒ–æ–‡ç« åº•éƒ¨å¸¦æ ‡ç­¾"><a class="header-anchor" href="#28-ä¼˜åŒ–æ–‡ç« åº•éƒ¨å¸¦æ ‡ç­¾">Â¶</a>28. ä¼˜åŒ–æ–‡ç« åº•éƒ¨å¸¦æ ‡ç­¾</h2><p>æ‰“å¼€ <code>myblog/themes/next/layout/_macro/post.swig</code>æ–‡ä»¶,æœç´¢ <code>rel=&quot;tag&quot;&gt;#</code>,å°† <code>#</code> æ¢æˆ <code>&lt;i class=&quot;fa fa-tag&quot;&gt;</code>ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-tags"</span>&gt;</span></span><br><span class="line">    &#123;% for tag in post.tags %&#125;</span><br><span class="line">       <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(tag.path) &#125;&#125;"</span> <span class="attr">rel</span>=<span class="string">"tag"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-tag"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> &#123;&#123; tag.name &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="29-æ–‡ç« æœ«å°¾æ·»åŠ -æœ¬æ–‡ç»“æŸ-æ ‡è®°"><a class="header-anchor" href="#29-æ–‡ç« æœ«å°¾æ·»åŠ -æœ¬æ–‡ç»“æŸ-æ ‡è®°">Â¶</a>29. æ–‡ç« æœ«å°¾æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°</h2><p>åœ¨è·¯å¾„ <code>myblog/themes/next/layout/_macro</code>ä¸­æ–°å»º <code>passage-end-tag.swig</code>æ–‡ä»¶,å¹¶å¤åˆ¶ä»¥ä¸‹ä»£ç åˆ° <code>passage-end-tag.swig</code> ä¸­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;color: #ccc;font-size:14px;"</span>&gt;</span>----------- æœ¬æ–‡ç»“æŸ -----------<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ‰“å¼€myblog/themes/next/layout/_macro/ä¸‹çš„post.swigæ–‡ä»¶,æ‰¾åˆ°å¦‚ä¸‹ä»£ç å—ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;#####################&#125;</span><br><span class="line">&#123;### END POST BODY ###&#125;</span><br><span class="line">&#123;#####################&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä»¥ä¸Šä»£ç å—çš„<strong>ä¸Šé¢</strong>å¦èµ·ä¸€è¡Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">    &#123;% include 'passage-end-tag.swig' %&#125;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åæ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶myblog/themes/next/_config.yml,åœ¨æœ«å°¾æ·»åŠ ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–‡ç« æœ«å°¾æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°</span></span><br><span class="line"><span class="attr">passage_end_tag:</span></span><br><span class="line"><span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="30-ä¼˜åŒ–æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼"><a class="header-anchor" href="#30-ä¼˜åŒ–æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼">Â¶</a>30. ä¼˜åŒ–æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼</h2><p>åœ¨ <code>myblog/themes/next/source/css/_custom/custom.styl</code>ä¸­æ·»åŠ ä»¥ä¸‹æ ·å¼ä»£ç ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼</span></span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">p</span> a&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0593d3</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#0593d3</span>;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fc6423</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fc6423</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½ä½¿ç”¨æµè§ˆå™¨è°ƒè¯•å¾—åˆ°ç›¸åº”çš„æ ·å¼ã€‚</p></blockquote><h2 id="31-geminiå¸ƒå±€è¿”å›é¡¶éƒ¨æŒ‰é’®é€‚é…ç§»åŠ¨ç«¯"><a class="header-anchor" href="#31-geminiå¸ƒå±€è¿”å›é¡¶éƒ¨æŒ‰é’®é€‚é…ç§»åŠ¨ç«¯">Â¶</a>31. Geminiå¸ƒå±€è¿”å›é¡¶éƒ¨æŒ‰é’®é€‚é…ç§»åŠ¨ç«¯</h2><p>ç”±äºè‡ªå·±ä¸æ‰ï¼Œä¸ºäº†è§£å†³ä»¥ä¸‹é—®é¢˜ï¼Œä¸çŸ¥èŠ±äº†å¤šå°‘æ—¶é—´å’Œç²¾åŠ›ã€‚åœ¨è¿™ä¸ªæŠ˜è…¾çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸Šè¿‡ç™¾åº¦å’Œè°·æ­Œæœäº†å¥½å¤šçš„æ•™ç¨‹ä½†å´æ— åŠŸè€Œè¿”ï¼›åæ¥åˆå°è¯•é€šè¿‡æµè§ˆå™¨è°ƒè¯•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¹ŸåŒæ ·ä»¥å¤±è´¥è€Œå‘Šç»ˆã€‚åœ¨å‡ è¿‘ç»æœ›æ—¶ï¼Œç½‘å‹åˆ†äº«äº†ä¸€ç¯‡åšå®¢æ–‡ç« ã€Š<a href="https://leaferx.online/2017/02/05/EnableTOConMobile/" target="_blank" rel="noopener">åœ¨ç§»åŠ¨è®¾å¤‡ä¸‹å¯ç”¨NexTä¸»é¢˜çš„ç›®å½•é¡µé¢å’Œå›åˆ°é¡¶éƒ¨æŒ‰é’®</a>ã€‹ï¼Œç»å‚è€ƒå¹¶åšä¿®æ”¹åæ‰æœ‰äº†ä»¥ä¸‹ç®€é™‹çš„æ•™ç¨‹ã€‚</p><ul><li>æ•™ç¨‹å¼€å§‹ï¼š</li></ul><p>ç¼–è¾‘ <code>themes/next/source/css/_common/components</code>ç›®å½•ä¸‹çš„ <code>back-to-top.styl</code>å’Œ <code>back-to-top-sidebar.styl</code>æ–‡ä»¶ã€‚ç”¨ <code>/* */</code>æ³¨é‡Šæ‰ä»¥ä¸‹ä»£ç ã€‚ï¼ˆæ³¨æ„ï¼šä¸¤ä¸ªæ–‡ä»¶éƒ½è¦æ³¨é‡Šæ‰ï¼‰</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+tablet() &#123;</span><br><span class="line">  fixbutton() if hexo-config('sidebar.onmobile');</span><br><span class="line">  hide() if not hexo-config('sidebar.onmobile');</span><br><span class="line">&#125;</span><br><span class="line">+mobile() &#123;</span><br><span class="line">  fixbutton() if hexo-config('sidebar.onmobile');</span><br><span class="line">  hide() if not hexo-config('sidebar.onmobile');</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨é‡Šåå¦‚ä¸‹ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  +tablet() &#123;</span></span><br><span class="line"><span class="comment">    fixbutton() if hexo-config('sidebar.onmobile');</span></span><br><span class="line"><span class="comment">    hide() if not hexo-config('sidebar.onmobile');</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">  +mobile() &#123;</span></span><br><span class="line"><span class="comment">    fixbutton() if hexo-config('sidebar.onmobile');</span></span><br><span class="line"><span class="comment">    hide() if not hexo-config('sidebar.onmobile');</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">  */</span></span><br></pre></td></tr></table></figure><h2 id="32-ç¦ç”¨ç‰¹å®šæ–‡ç« ä¾§æ ç›®å½•"><a class="header-anchor" href="#32-ç¦ç”¨ç‰¹å®šæ–‡ç« ä¾§æ ç›®å½•">Â¶</a>32. ç¦ç”¨ç‰¹å®šæ–‡ç« ä¾§æ ç›®å½•</h2><p>å¯¹äºMuseå¸ƒå±€ï¼Œå¦‚æœé¡µé¢å«æœ‰å¤šçº§æ ‡é¢˜ï¼Œé‚£ä¹ˆé»˜è®¤æ˜¯ä¼šè‡ªåŠ¨å±•å¼€ä¾§æ æŠ½å±‰ç›®å½•çš„ï¼Œä½†å®é™…çš„ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æ¯”å¦‚å…³äºé¡µé¢ï¼Œå‹æƒ…é¡µé¢ç­‰ç­‰è‡ªåŠ¨å±•å¼€ç›®å½•ï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹nextåšä¸€å®šçš„ä¿®æ”¹æ¥å®ç°è¿™ä¸ªéœ€æ±‚ã€‚</p><p>æ‰¾åˆ°äº† <code>themes/next/layout/_marcro/sidebar.swig</code>ä¸­æ‰¾åˆ°ä¸‹ä¸€åˆ—ä¿¡æ¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% <span class="keyword">set</span> display_toc = is_post and theme.toc.enable or is_page and theme.toc.enable %&#125;</span><br></pre></td></tr></table></figure><p>å°†å…¶ä¿®æ”¹ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% <span class="keyword">set</span> display_toc = is_post and theme.toc.enable and !page.no_toc or is_page and theme.toc.enable and !page.no_toc %&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦æŒ‡å®šæŸç¯‡æ–‡ç« ç¦ç”¨ä¾§æ ç›®å½•ï¼Œåªéœ€è¦åœ¨è¯¥æ–‡ç« Front-Matteréƒ¨åˆ†æ·»åŠ ä¸€ä¸ª <code>no_toc: true</code>å³å¯ã€‚</p><p>å¦‚ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: å‹æƒ…é“¾æ¥</span><br><span class="line">date: 2020-02-18 22:32:49</span><br><span class="line">no_toc: true</span><br><span class="line">comments: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure><blockquote><p>æ–¹æ¡ˆæ¥æºï¼š<a href="http://master.hellosenlin.netlify.com/posts/24546/" target="_blank" rel="noopener">http://master.hellosenlin.netlify.com/posts/24546/</a></p></blockquote><h2 id="33-æ–‡ç« å¼•ç”¨éŸ³ä¹å’Œè§†é¢‘"><a class="header-anchor" href="#33-æ–‡ç« å¼•ç”¨éŸ³ä¹å’Œè§†é¢‘">Â¶</a>33. æ–‡ç« å¼•ç”¨éŸ³ä¹å’Œè§†é¢‘</h2><h3 id="1-htmlåŸç”Ÿæ–¹å¼"><a class="header-anchor" href="#1-htmlåŸç”Ÿæ–¹å¼">Â¶</a>1) htmlåŸç”Ÿæ–¹å¼</h3><h4 id="1-éŸ³ä¹é¢æ¿"><a class="header-anchor" href="#1-éŸ³ä¹é¢æ¿">Â¶</a>(1) éŸ³ä¹é¢æ¿</h4><p>åœ¨markdownæ–‡ç« é‡Œä½¿ç”¨ HTML çš„æ ‡ç­¾å¼•å…¥ï¼Œå†™æ³•å¦‚ä¸‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">"https://ä»€ä¹ˆä»€ä¹ˆä»€ä¹ˆ.mp3"</span> <span class="attr">style</span>=<span class="string">"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;"</span> <span class="attr">controls</span>=<span class="string">"controls"</span> <span class="attr">loop</span>=<span class="string">"loop"</span> <span class="attr">preload</span>=<span class="string">"meta"</span>&gt;</span>Your browser does not support the audio tag.<span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-è§†é¢‘é¢æ¿"><a class="header-anchor" href="#2-è§†é¢‘é¢æ¿">Â¶</a>(2) è§†é¢‘é¢æ¿</h4><p>åœ¨markdownæ–‡ç« é‡Œä½¿ç”¨ HTML çš„æ ‡ç­¾å¼•å…¥ï¼Œå†™æ³•å¦‚ä¸‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">poster</span>=<span class="string">"https://å°é¢å›¾.jpg"</span> <span class="attr">src</span>=<span class="string">"https://ä»€ä¹ˆä»€ä¹ˆä»€ä¹ˆ.mp4"</span> <span class="attr">style</span>=<span class="string">"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;"</span> <span class="attr">controls</span>=<span class="string">"controls"</span> <span class="attr">loop</span>=<span class="string">"loop"</span> <span class="attr">preload</span>=<span class="string">"meta"</span>&gt;</span>Your browser does not support the video tag.<span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-ç¬¬ä¸‰æ–¹æ’ä»¶æ–¹å¼"><a class="header-anchor" href="#2-ç¬¬ä¸‰æ–¹æ’ä»¶æ–¹å¼">Â¶</a>2) ç¬¬ä¸‰æ–¹æ’ä»¶æ–¹å¼</h3><h4 id="1-éŸ³ä¹é¢æ¿æ’ä»¶"><a class="header-anchor" href="#1-éŸ³ä¹é¢æ¿æ’ä»¶">Â¶</a>(1) éŸ³ä¹é¢æ¿æ’ä»¶</h4><p>æ­¤å‰æœ‰å°è¯•è¿‡ä½¿ç”¨ç½‘æ˜“äº‘éŸ³ä¹å¤–é“¾çš„æ–¹å¼ç»™åšå®¢åŠ å…¥éŸ³ä¹é¢æ¿ï¼Œä½†ä½¿ç”¨çš„è¿‡ç¨‹ä¸­å‘ç°æœ‰ä¸€äº›éŸ³ä¹å› ä¸ºç‰ˆæƒåŸå› æ’­æ”¾ä¸äº†ï¼Œè¿˜æœ‰å°±æ˜¯ä¸å®Œå…¨æ”¯æŒ httpsï¼Œå¯¼è‡´å°ç»¿é”ä¸è§äº†ã€‚è¦è§£å†³è¿™äº›ç¼ºç‚¹ï¼Œå°±éœ€è¦å¦è¾Ÿè¹Šå¾„è½¬è€Œå®‰è£…ç¬¬ä¸‰æ–¹éŸ³ä¹é¢æ¿æ’ä»¶äº†ï¼Œ<a href="https://github.com/MoePlayer/hexo-tag-aplayer" target="_blank" rel="noopener">hexo-tag-aplayer</a>æ˜¯ä¸€ä¸ªéŸ³ä¹é¢æ¿æ’ä»¶ï¼ŒåŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œç›¸æ¯”äºåŸç”Ÿhtmlçš„è§†é¢‘é¢æ¿è€Œè¨€ï¼Œå¯ç©æ€§æ›´ä¸°å¯Œï¼Œæ¯”å¦‚å¯ä»¥æœ‰æ­Œè¯ï¼Œæ­Œå•åˆ—è¡¨ç­‰ç­‰ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šæ•™ç¨‹ã€‚</p><p><strong>å®‰è£…éŸ³ä¹é¢æ¿æ’ä»¶</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-tag-aplayer --save</span><br></pre></td></tr></table></figure><p><strong>å•é¦–æ­Œæ›²çš„å½¢å¼</strong></p><p>é€šè¿‡æ¨¡æ¿è¯­æ³•åœ¨markdownæ–‡ç« é‡Œå¼•å…¥ï¼Œå†™æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer "æ­Œæ›²å" "æ­Œæ‰‹å" "https://ä»€ä¹ˆä»€ä¹ˆä»€ä¹ˆ.mp3" "https://å°é¢å›¾.jpg" "lrc:https://æ­Œè¯.lrc" %&#125;</span><br></pre></td></tr></table></figure><p><strong>æ­Œå•çš„å½¢å¼</strong></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlist %&#125;</span><br><span class="line">&#123;</span><br><span class="line"><span class="code">    "autoplay": false,</span></span><br><span class="line"><span class="code">    "showlrc": 3,</span></span><br><span class="line"><span class="code">    "mutex": true,</span></span><br><span class="line"><span class="code">    "music": [</span></span><br><span class="line"><span class="code">        &#123;</span></span><br><span class="line"><span class="code">            "title": "æ­Œæ›²å",</span></span><br><span class="line"><span class="code">            "author": "æ­Œæ‰‹å",</span></span><br><span class="line"><span class="code">            "url": "https://ä»€ä¹ˆä»€ä¹ˆä»€ä¹ˆ.mp3",</span></span><br><span class="line"><span class="code">            "pic": "https://å°é¢å›¾.jpg",</span></span><br><span class="line"><span class="code">            "lrc": "https://æ­Œè¯.lrc"</span></span><br><span class="line"><span class="code">        &#125;,</span></span><br><span class="line"><span class="code">        &#123;</span></span><br><span class="line"><span class="code">            "title": "æ­Œæ›²å",</span></span><br><span class="line"><span class="code">            "author": "æ­Œæ‰‹å",</span></span><br><span class="line"><span class="code">            "url": "https://ä»€ä¹ˆä»€ä¹ˆä»€ä¹ˆ.mp3",</span></span><br><span class="line"><span class="code">            "pic": "https://å°é¢å›¾.jpg",</span></span><br><span class="line"><span class="code">            "lrc": "https://æ­Œè¯.lrc"</span></span><br><span class="line"><span class="code">        &#125;</span></span><br><span class="line"><span class="code">    ]</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¯¦ç»†å‚æ•°è§ <a href="https://github.com/MoePlayer/hexo-tag-aplayer" target="_blank" rel="noopener">README</a> å’Œè¿™æ’ä»¶çš„â€œæ¯äº²â€ Aplayer çš„<a href="https://aplayer.js.org/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><p>å…³äº <a href="https://baike.baidu.com/item/lrc/46935" target="_blank" rel="noopener">lrc</a> æ­Œè¯ï¼Œå¯ä»¥å‚è€ƒçŸ¥ä¹çš„è¿™ç¯‡æ–‡ç« https://www.zhihu.com/question/27638171ä¸‹è½½ç½‘æ˜“äº‘éŸ³ä¹çš„æ­Œè¯ï¼Œå¦‚æœé‚£æ­Œè¯æœ‰é”™è¯¯ï¼ˆæ¯”å¦‚å­—æ¯å¤§å°å†™å’Œæ ‡ç‚¹ç¬¦å·ä¹±åŠ ï¼‰æˆ–è€…æ—¶é—´å®Œå…¨å¯¹ä¸ä¸Šï¼Œä½ å¯ä»¥ä¸€å¥ä¸€å¥è‡ªå·±æŸ¥çœ‹ä¿®æ”¹â€¦â€¦</p></blockquote><h4 id="2-è§†é¢‘é¢æ¿-v2"><a class="header-anchor" href="#2-è§†é¢‘é¢æ¿-v2">Â¶</a>(2) è§†é¢‘é¢æ¿</h4><p><a href="https://github.com/MoePlayer/hexo-tag-dplayer" target="_blank" rel="noopener">hexo-tag-dplayer</a>æ’ä»¶åŠŸèƒ½ç›¸æ¯”äºåŸç”Ÿhtmlè§†é¢‘æ ‡ç­¾ä¼šæ›´åŠ å¼ºå¤§ï¼Œæ¯”å¦‚å¯ä»¥ä½¿ç”¨å¼¹å¹•ï¼Œéå¸¸å»ºè®®é£Ÿç”¨ã€‚</p><p><strong>å®‰è£…æ’ä»¶</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-tag-dplayer --save</span><br></pre></td></tr></table></figure><p>é€šè¿‡æ¨¡æ¿è¯­æ³•åœ¨markdownæ–‡ç« é‡Œå¼•å…¥ï¼Œå†™æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer "url=https://ä»€ä¹ˆä»€ä¹ˆä»€ä¹ˆ.mp4" "pic=https://å°é¢å›¾.jpg" "api=https://api.prprpr.me/dplayer/" "id=" "loop=false" %&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœè¦ä½¿ç”¨å¼¹å¹•ï¼Œå¿…é¡»æœ‰ <code>api</code>å’Œ <code>id</code>ä¸¤é¡¹ï¼Œå¹¶ä¸”è‹¥ä½¿ç”¨çš„æ˜¯å®˜æ–¹çš„ api åœ°å€ï¼ˆå³ä¸Šé¢çš„ï¼‰ï¼Œid çš„å€¼ä¸èƒ½ä¸<a href="https://api.prprpr.me/dplayer/list" target="_blank" rel="noopener">è¿™ä¸ªåˆ—è¡¨</a>çš„å€¼ä¸€æ ·ã€‚id çš„å€¼è‡ªå·±éšä¾¿å–ï¼Œä½†å»ºè®®ä½¿ç”¨è§†é¢‘çš„å“ˆå¸Œå€¼ï¼Œå¯å‚è€ƒhttp://tool.oschina.net/encrypt?type=2ã€‚</p><p>ç›®å‰å‘ç°å®˜æ–¹apiä¸èƒ½ä½¿ç”¨ï¼Œå¯ä»¥å¯»æ±‚å…¶ä»–å…è´¹çš„å¼¹å¹•æœåŠ¡å™¨ã€‚ä¹Ÿå¯è‡ªè¡Œæ­å»ºï¼Œå¯å‚è€ƒ:</p><p>ğŸ“š	<a href="https://alone88.cn/archives/484.html" target="_blank" rel="noopener">https://alone88.cn/archives/484.html</a></p><p>ğŸ“š	<a href="https://dandoc.u2sb.top/" target="_blank" rel="noopener">https://dandoc.u2sb.top/</a></p><p>å…³äºè¿™ä¸ªæ’ä»¶çš„æ›´å¤šå†…å®¹å¯ä»¥å» <a href="https://github.com/MoePlayer/hexo-tag-dplayer" target="_blank" rel="noopener">README</a> å’Œè¿™æ’ä»¶çš„â€œæ¯äº²â€ Dplayer çš„<a href="https://dplayer.js.org/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>çœ‹çœ‹ã€‚</p></blockquote><h3 id="3-éŸ³ä¹é¢æ¿ç»¼åˆæ¡ˆä¾‹"><a class="header-anchor" href="#3-éŸ³ä¹é¢æ¿ç»¼åˆæ¡ˆä¾‹">Â¶</a>3) éŸ³ä¹é¢æ¿ç»¼åˆæ¡ˆä¾‹</h3><p>æ–°å»ºä¸€ä¸ªhexo markdownæ–‡ç« æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n music</span><br></pre></td></tr></table></figure><p>åœ¨æ–°å»ºçš„<code>music.md</code>æ–‡ä»¶é‡ŒåŠ å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: å…³äºæˆ‘</span><br><span class="line">date: 2018-10-05 22:32:49</span><br><span class="line">comments: true</span><br><span class="line">---</span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- more --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="code">	.description &#123;</span></span><br><span class="line"><span class="code">		margin: 0 auto;</span></span><br><span class="line"><span class="code">		text-align: center;</span></span><br><span class="line"><span class="code">	&#125;</span></span><br><span class="line"><span class="code">	.logoimg&#123;</span></span><br><span class="line"><span class="code">		display: block;</span></span><br><span class="line"><span class="code">		margin: 0 auto;</span></span><br><span class="line"><span class="code">		padding: 2px;</span></span><br><span class="line"><span class="code">		max-width: 96px;</span></span><br><span class="line"><span class="code">		height: auto;</span></span><br><span class="line"><span class="code">		border: 2px solid #333;</span></span><br><span class="line"><span class="code">		border-radius: 50%;</span></span><br><span class="line"><span class="code">		transition: 2s all;</span></span><br><span class="line"><span class="code">	&#125;</span></span><br><span class="line"><span class="code">	.logoimg:hover&#123;</span></span><br><span class="line"><span class="code">		transform: rotate(360deg);</span></span><br><span class="line"><span class="code">	&#125;</span></span><br><span class="line"><span class="code">	.aboutbox &#123;</span></span><br><span class="line"><span class="code">		width: 90%;</span></span><br><span class="line"><span class="code">		height: 90%;</span></span><br><span class="line"><span class="code">		margin: 0 auto;</span></span><br><span class="line"><span class="code">		margin-top: 30px;</span></span><br><span class="line"><span class="code">		box-shadow: 0 0 10px 0 rgba(0,0,0,.5);</span></span><br><span class="line"><span class="code">	&#125;</span></span><br><span class="line"><span class="code">	.musicbox &#123;</span></span><br><span class="line"><span class="code">		width: 90%;</span></span><br><span class="line"><span class="code">		margin: 60px auto;</span></span><br><span class="line"><span class="code">		padding: 10px;</span></span><br><span class="line"><span class="code">	&#125;</span></span><br><span class="line"><span class="code">	.days&#123;</span></span><br><span class="line"><span class="code">		margin: 0 auto;</span></span><br><span class="line"><span class="code">		text-align: center;</span></span><br><span class="line"><span class="code">		font-weight: bold;</span></span><br><span class="line"><span class="code">		margin-top: 30px;</span></span><br><span class="line"><span class="code">		margin-bottom: 35px;</span></span><br><span class="line"><span class="code">	&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aboutbox"</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"description"</span>&gt;</span></span></span><br><span class="line"><span class="code">	&lt;br/&gt;</span></span><br><span class="line"><span class="code">	&lt;a href="/"&gt;&lt;img class="logoimg nofancybox" itemprop="image" src="/images/logo.jpg"&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="code">	&lt;br /&gt;</span></span><br><span class="line"><span class="code">	æœ¬ç«™äº2018å¹´9æœˆ22æ—¥åˆ›å»ºï¼Œç«™ç‚¹ä¸»è¦ç”¨äºä¸ªäººå­¦ä¹ ä»¥åŠç”Ÿæ´»è®°å½•ã€‚</span></span><br><span class="line"><span class="code">	&lt;br /&gt;</span></span><br><span class="line"><span class="code">	åšä¸»ï¼šqcmoke</span></span><br><span class="line"><span class="code">	&lt;br /&gt;</span></span><br><span class="line"><span class="code">	è”ç³»æ–¹å¼ï¼šqcmoke@gmail.com</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"musicbox"</span>&gt;</span></span></span><br><span class="line"><span class="code">	&#123;% aplayerlist %&#125;</span></span><br><span class="line"><span class="code">	&#123;</span></span><br><span class="line"><span class="code">		"autoplay": false,</span></span><br><span class="line"><span class="code">		"showlrc": 3,</span></span><br><span class="line"><span class="code">		"mutex": true,</span></span><br><span class="line"><span class="code">		"music": [</span></span><br><span class="line"><span class="code">			&#123;</span></span><br><span class="line"><span class="code">				"title": "ç‹ç‰Œå†¤å®¶",</span></span><br><span class="line"><span class="code">				"author": "æè£æµ©",</span></span><br><span class="line"><span class="code">				"url": "https://source.qcmoke.cn/music/wangpaiyuanjia.mp3",</span></span><br><span class="line"><span class="code">				"pic": "https://source.qcmoke.cn/music/wangpaiyuanjia.jpg",</span></span><br><span class="line"><span class="code">				"lrc": "https://source.qcmoke.cn/music/wangpaiyuanjia.lrc"</span></span><br><span class="line"><span class="code">			&#125;,</span></span><br><span class="line"><span class="code">			&#123;</span></span><br><span class="line"><span class="code">				"title": "if you",</span></span><br><span class="line"><span class="code">				"author": "Bigbang",</span></span><br><span class="line"><span class="code">				"url": "https://source.qcmoke.cn/music/ifyou.mp3",</span></span><br><span class="line"><span class="code">				"pic": "https://source.qcmoke.cn/music/ifyou.jpg",</span></span><br><span class="line"><span class="code">				"lrc": "https://source.qcmoke.cn/music/ifyou.lrc"</span></span><br><span class="line"><span class="code">			&#125;,</span></span><br><span class="line"><span class="code">			&#123;</span></span><br><span class="line"><span class="code">				"title": "åä¼šæ— æœŸ",</span></span><br><span class="line"><span class="code">				"author": "G.E.M. é‚“ç´«æ£‹",</span></span><br><span class="line"><span class="code">				"url": "https://source.qcmoke.cn/music/houhuiwuqi.mp3",</span></span><br><span class="line"><span class="code">				"pic": "https://source.qcmoke.cn/music/houhuiwuqi.jpg",</span></span><br><span class="line"><span class="code">				"lrc": "https://source.qcmoke.cn/music/houhuiwuqi.lrc"</span></span><br><span class="line"><span class="code">			&#125;,</span></span><br><span class="line"><span class="code">			&#123;</span></span><br><span class="line"><span class="code">				"title": "ç©ºç©ºå¦‚ä¹Ÿ",</span></span><br><span class="line"><span class="code">				"author": "ä»»ç„¶",</span></span><br><span class="line"><span class="code">				"url": "https://source.qcmoke.cn/music/kongkongruye.mp3",</span></span><br><span class="line"><span class="code">				"pic": "https://source.qcmoke.cn/music/kongkongruye.jpg",</span></span><br><span class="line"><span class="code">				"lrc": "https://source.qcmoke.cn/music/kongkongruye.lrc"</span></span><br><span class="line"><span class="code">			&#125;,</span></span><br><span class="line"><span class="code">			&#123;</span></span><br><span class="line"><span class="code">				"title": "æ—¥è½å¤§é“",</span></span><br><span class="line"><span class="code">				"author": "æ¢åš",</span></span><br><span class="line"><span class="code">				"url": "https://source.qcmoke.cn/music/riluodadao.mp3",</span></span><br><span class="line"><span class="code">				"pic": "https://source.qcmoke.cn/music/riluodadao.jpg",</span></span><br><span class="line"><span class="code">				"lrc": "https://source.qcmoke.cn/music/riluodadao.lrc"</span></span><br><span class="line"><span class="code">			&#125;,</span></span><br><span class="line"><span class="code">			&#123;</span></span><br><span class="line"><span class="code">				"title": "çº¢æ˜­æ„¿",</span></span><br><span class="line"><span class="code">				"author": "éŸ³é˜™è¯—å¬",</span></span><br><span class="line"><span class="code">				"url": "https://source.qcmoke.cn/music/hongzhaoyuan.mp3",</span></span><br><span class="line"><span class="code">				"pic": "https://source.qcmoke.cn/music/hongzhaoyuan.jpg",</span></span><br><span class="line"><span class="code">				"lrc": "https://source.qcmoke.cn/music/hongzhaoyuan.lrc"</span></span><br><span class="line"><span class="code">			&#125;,</span></span><br><span class="line"><span class="code">			&#123;</span></span><br><span class="line"><span class="code">				"title": "ç¬”è®°",</span></span><br><span class="line"><span class="code">				"author": "å‘¨ç¬”ç•…",</span></span><br><span class="line"><span class="code">				"url": "https://source.qcmoke.cn/music/biji.mp3",</span></span><br><span class="line"><span class="code">				"pic": "https://source.qcmoke.cn/music/biji.jpg",</span></span><br><span class="line"><span class="code">				"lrc": "https://source.qcmoke.cn/music/biji.lrc"</span></span><br><span class="line"><span class="code">			&#125;</span></span><br><span class="line"><span class="code">		]</span></span><br><span class="line"><span class="code">	&#125;</span></span><br><span class="line"><span class="code">	&#123;% endaplayerlist %&#125;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//rf.revolvermaps.com/0/0/8.js?i=5xixmgxe8az<span class="symbol">&amp;amp;</span>m=0<span class="symbol">&amp;amp;</span>c=ff0000<span class="symbol">&amp;amp;</span>cr1=ffffff<span class="symbol">&amp;amp;</span>f=arial<span class="symbol">&amp;amp;</span>l=33"</span> <span class="attr">async</span>=<span class="string">"async"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"days"</span> <span class="attr">class</span>=<span class="string">"days"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="code">	function show_date_time()&#123;</span></span><br><span class="line"><span class="code">		window.setTimeout("show_date_time()", 1000);</span></span><br><span class="line"><span class="code">		BirthDay=new Date("09/22/2018 15:13:14");</span></span><br><span class="line"><span class="code">		today=new Date();</span></span><br><span class="line"><span class="code">		timeold=(today.getTime()-BirthDay.getTime());</span></span><br><span class="line"><span class="code">		sectimeold=timeold/1000</span></span><br><span class="line"><span class="code">		secondsold=Math.floor(sectimeold);</span></span><br><span class="line"><span class="code">		msPerDay=24*60*60*1000</span></span><br><span class="line"><span class="code">		e_daysold=timeold/msPerDay</span></span><br><span class="line"><span class="code">		daysold=Math.floor(e_daysold);</span></span><br><span class="line"><span class="code">		e_hrsold=(e_daysold-daysold)*24;</span></span><br><span class="line"><span class="code">		hrsold=setzero(Math.floor(e_hrsold));</span></span><br><span class="line"><span class="code">		e_minsold=(e_hrsold-hrsold)*60;</span></span><br><span class="line"><span class="code">		minsold=setzero(Math.floor((e_hrsold-hrsold)*60));</span></span><br><span class="line"><span class="code">		seconds=setzero(Math.floor((e_minsold-minsold)*60));</span></span><br><span class="line"><span class="code">		document.getElementById('days').innerHTML="å·²è¿è¡Œ"+daysold+"å¤©"+hrsold+"å°æ—¶"+minsold+"åˆ†"+seconds+"ç§’";</span></span><br><span class="line"><span class="code">	&#125;</span></span><br><span class="line"><span class="code">	function setzero(i)&#123;</span></span><br><span class="line"><span class="code">		if (i&lt;10)</span></span><br><span class="line"><span class="code">			&#123;i="0" + i&#125;;</span></span><br><span class="line"><span class="code">			return i;</span></span><br><span class="line"><span class="code">	&#125;</span></span><br><span class="line"><span class="code">	show_date_time();</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœ</strong></p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/image-20200302224536365.png" alt="image-20200302224536365"></p><h3 id="4-è§†é¢‘é¢æ¿ç»¼åˆæ¡ˆä¾‹"><a class="header-anchor" href="#4-è§†é¢‘é¢æ¿ç»¼åˆæ¡ˆä¾‹">Â¶</a>4) è§†é¢‘é¢æ¿ç»¼åˆæ¡ˆä¾‹</h3><p>æ–°å»ºä¸€ä¸ªhexo markdownæ–‡ç« æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n video</span><br></pre></td></tr></table></figure><p>åœ¨æ–°å»ºçš„video.mdæ–‡ä»¶é‡ŒåŠ å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: æˆ‘çš„è§†é¢‘é¡µé¢</span><br><span class="line">date: 2020-03-02 22:21:39</span><br><span class="line">---</span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- more --&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">video</span> <span class="attr">poster</span>=<span class="string">"http://localhost:4000/images/logo.jpg"</span> <span class="attr">src</span>=<span class="string">"https://source.qcmoke.cn/video/VID_20190503_143115.mp4"</span> <span class="attr">style</span>=<span class="string">"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;"</span> <span class="attr">controls</span>=<span class="string">"controls"</span> <span class="attr">loop</span>=<span class="string">"loop"</span> <span class="attr">preload</span>=<span class="string">"meta"</span>&gt;</span></span>Your browser does not support the video tag.<span class="xml"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% dplayer "url=https://source.qcmoke.cn/video/VID<span class="emphasis">_20190503_</span>143115.mp4" "http://localhost:4000/images/logo.jpg" "api=https://api.prprpr.me/dplayer/" "id=" "loop=false" %&#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/image-20200302233729240.png" alt="image-20200302233729240"></p><h2 id="34-æ·»åŠ çœ‹æ¿å¨˜"><a class="header-anchor" href="#34-æ·»åŠ çœ‹æ¿å¨˜">Â¶</a>34) æ·»åŠ çœ‹æ¿å¨˜</h2><p>ç›®çš„æ˜¯ç»™åšå®¢é¡µé¢æ·»åŠ å°èŒå® ï¼Œç»™åšå®¢æ·»åŠ ä¸€ç‚¹è¶£å‘³æ€§ï¼Œä¸‹é¢å°±ä»‹ç»ä½¿ç”¨live2dæ’ä»¶æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</p><p>ï¼ˆ1ï¼‰ä¸‹è½½å¹¶å®‰è£…æ’ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰ä¸‹è½½å¹¶å®‰è£…èŒå® æ¨¡å‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install æ¨¡å‹åç§°</span><br></pre></td></tr></table></figure><p>å®˜æ–¹æä¾›äº†ä»¥ä¸‹æ¨¡å‹åç§°ï¼š</p><blockquote><ul><li><code>live2d-widget-model-chitose</code></li><li><code>live2d-widget-model-epsilon2_1</code></li><li><code>live2d-widget-model-gf</code></li><li><code>live2d-widget-model-haru/01</code> (use <code>npm install --save live2d-widget-model-haru</code>)</li><li><code>live2d-widget-model-haru/02</code> (use <code>npm install --save live2d-widget-model-haru</code>)</li><li><code>live2d-widget-model-haruto</code></li><li><code>live2d-widget-model-hibiki</code></li><li><code>live2d-widget-model-hijiki</code></li><li><code>live2d-widget-model-izumi</code></li><li><code>live2d-widget-model-koharu</code></li><li><code>live2d-widget-model-miku</code></li><li><code>live2d-widget-model-ni-j</code></li><li><code>live2d-widget-model-nico</code></li><li><code>live2d-widget-model-nietzsche</code></li><li><code>live2d-widget-model-nipsilon</code></li><li><code>live2d-widget-model-nito</code></li><li><code>live2d-widget-model-shizuku</code></li><li><code>live2d-widget-model-tororo</code></li><li><code>live2d-widget-model-tsumiki</code></li><li><code>live2d-widget-model-unitychan</code></li><li><code>live2d-widget-model-wanko</code></li><li><code>live2d-widget-model-z16</code></li></ul></blockquote><p>ä½ å¯ä»¥æŸ¥çœ‹<a href="https://huaji8.top/post/live2d-plugin-2.0/" target="_blank" rel="noopener">demoæ¼”ç¤º</a>åå†å†³å®šåšé€‰æ‹©ã€‚</p><p>ï¼ˆ3ï¼‰ç¼–è¾‘Hexoä¸»é…ç½®æ–‡ä»¶ <code>myblog/_config.yml</code>,æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Live2D</span></span><br><span class="line"><span class="comment">## https://github.com/EYHN/hexo-helper-live2d</span></span><br><span class="line"><span class="attr">live2d:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># enable: false</span></span><br><span class="line">    <span class="attr">scriptFrom:</span> <span class="string">local</span> <span class="comment"># é»˜è®¤</span></span><br><span class="line">    <span class="attr">pluginRootPath:</span> <span class="string">live2dw/</span> <span class="comment"># æ’ä»¶åœ¨ç«™ç‚¹ä¸Šçš„æ ¹ç›®å½•(ç›¸å¯¹è·¯å¾„)</span></span><br><span class="line">    <span class="attr">pluginJsPath:</span> <span class="string">lib/</span> <span class="comment"># è„šæœ¬æ–‡ä»¶ç›¸å¯¹ä¸æ’ä»¶æ ¹ç›®å½•è·¯å¾„</span></span><br><span class="line">    <span class="attr">pluginModelPath:</span> <span class="string">assets/</span> <span class="comment"># æ¨¡å‹æ–‡ä»¶ç›¸å¯¹ä¸æ’ä»¶æ ¹ç›®å½•è·¯å¾„</span></span><br><span class="line">  <span class="comment"># scriptFrom: jsdelivr # jsdelivr CDN</span></span><br><span class="line">  <span class="comment"># scriptFrom: unpkg # unpkg CDN</span></span><br><span class="line">  <span class="comment"># scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js # ä½ çš„è‡ªå®šä¹‰ url</span></span><br><span class="line">    <span class="attr">tagMode:</span> <span class="literal">false</span> <span class="comment"># æ ‡ç­¾æ¨¡å¼, æ˜¯å¦ä»…æ›¿æ¢ live2d tagæ ‡ç­¾è€Œéæ’å…¥åˆ°æ‰€æœ‰é¡µé¢ä¸­</span></span><br><span class="line">    <span class="attr">debug:</span> <span class="literal">false</span> <span class="comment"># è°ƒè¯•, æ˜¯å¦åœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—</span></span><br><span class="line">    <span class="attr">model:</span></span><br><span class="line">      <span class="attr">use:</span> <span class="string">live2d-widget-model-haruto</span> <span class="comment"># npm-module package name</span></span><br><span class="line">    <span class="comment"># use: wanko # åšå®¢æ ¹ç›®å½•/live2d_models/ ä¸‹çš„ç›®å½•å</span></span><br><span class="line">    <span class="comment"># use: ./wives/wanko # ç›¸å¯¹äºåšå®¢æ ¹ç›®å½•çš„è·¯å¾„</span></span><br><span class="line">    <span class="comment"># use: https://cdn.jsdelivr.net/npm/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # ä½ çš„è‡ªå®šä¹‰ url</span></span><br><span class="line">    <span class="attr">display:</span> <span class="comment"># æ¨¡å‹ä½ç½®ï¼Œæ ¹æ®ä¸åŒçš„æ¨¡å‹è‡ªè¡Œè°ƒæ•´</span></span><br><span class="line">      <span class="attr">position:</span> <span class="string">left</span></span><br><span class="line">      <span class="attr">width:</span> <span class="number">100</span></span><br><span class="line">      <span class="attr">height:</span> <span class="number">150</span></span><br><span class="line">    <span class="attr">mobile:</span> <span class="comment"># æ˜¯å¦é€‚ç”¨äºç§»åŠ¨ç«¯</span></span><br><span class="line">      <span class="attr">show:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h1 id="ç¬¬ä¸‰æ–¹æœåŠ¡ç¯‡"><a class="header-anchor" href="#ç¬¬ä¸‰æ–¹æœåŠ¡ç¯‡">Â¶</a>ç¬¬ä¸‰æ–¹æœåŠ¡ç¯‡</h1><h2 id="1-æ·»åŠ è¯„åˆ†åŠŸèƒ½"><a class="header-anchor" href="#1-æ·»åŠ è¯„åˆ†åŠŸèƒ½">Â¶</a>1. æ·»åŠ è¯„åˆ†åŠŸèƒ½</h2><p>æ·˜å®ä¹°ä¸œè¥¿ï¼Œä½œä¸ºæ¶ˆè´¹è€…çš„æˆ‘ä»¬ï¼Œçœ‹è¯„ä»·å¾ˆé‡è¦ã€‚ç°åœ¨ä½œä¸ºåšä¸»ï¼Œå†™äº†ä¸€ç¯‡æ–‡ç« ï¼Œå¾ˆæœŸå¾…è¯»è€…çš„åé¦ˆã€‚è€Œä¸æ·˜å®ä¸€æ ·ï¼Œç¡®è®¤æ”¶è´§åï¼Œç›¸æ¯”è¯„è®ºï¼Œæ›´æ„¿æ„äº”æ˜Ÿå¥½è¯„ã€‚é‚£ä¹ˆåšå®¢æ–‡ç« æ€ä¹ˆåŠ ä¸Šå‘¢ï¼Ÿé¦–å…ˆæ‰“å¼€<strong>ä¸»é¢˜</strong>é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Star rating support to each article.</span></span><br><span class="line"><span class="comment"># To get your ID visit https://widgetpack.com</span></span><br><span class="line"><span class="attr">rating:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">id:</span> <span class="number">23</span><span class="string">****</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">fc6423</span></span><br></pre></td></tr></table></figure><p>å…ˆå»https://widgetpack.comæ³¨å†Œä¸ªå¸å·ï¼Œå¡«ä¸€ä¸‹è‡ªå·±åšå®¢çš„ä¿¡æ¯ï¼ŒæŠŠå·¦ä¸Šè§’çš„ IDå€¼ï¼Œå¡«è¿›ä¸Šé¢çš„ <code>rating.id</code>ä¸­ï¼Œ<code>color</code>æ”¹æˆè‡ªå·±å–œæ¬¢çš„å³å¯ã€‚</p><blockquote><p>ğŸ’â€â™‚è¯´æ˜ï¼š</p><ol><li>å¯ä»¥é…ç½®è¯„åˆ†æ–¹å¼ï¼Œä¾§æ  &gt; Rating &gt; Settingï¼Œå»ºè®®ç”¨ IP address æˆ– Device(cookie)ï¼Œå…ç™»å½•ï¼Œæ¯•ç«Ÿ Socials é‡Œé¢çš„é€‰é¡¹å‡ ä¹éƒ½è¢«å¢™ï¼Œä¸é€‚åˆå›½å†…ç½‘ç»œç¯å¢ƒã€‚</li><li>å»ºè®®åœ¨ä¾§æ  &gt; Site &gt; Setting ä¸­å‹¾é€‰ Private é€‰é¡¹ã€‚</li><li>ä¸Šé¢ä¸¤æ­¥å‹¾é€‰ååˆ«å¿˜äº†ç‚¹å‡»é¡µé¢å³ä¸‹æ–¹çš„ <em>SAVE SETTING</em> ç»¿è‰²æŒ‰é’®ä¿å­˜ã€‚</li></ol></blockquote><p>å¦‚æœä½ æƒ³ç»™è¯„åˆ†çš„æ˜Ÿæ˜Ÿå‘¨å›´åŠ å†…å®¹ï¼Œå¯ä»¥ä¿®æ”¹æ–‡ä»¶ï¼š<code>themes/next/layout/_macro/post.swig</code>ï¼Œä¾‹å¦‚æ·»åŠ ä¸‹é¢ <code>+</code>ç›¸å…³çš„å†…å®¹ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.rating.enable %&#125;</span><br><span class="line">	&lt;div class="wp_rating"&gt;</span><br><span class="line"><span class="addition">+            &lt;div style="color: rgba(0, 0, 0, 0.75); font-size:13px; letter-spacing:3px"&gt;(&gt;çœ‹å®Œè®°å¾—äº”æ˜Ÿå¥½è¯„å“¦äº²&lt;)&lt;/div&gt;</span></span><br><span class="line">			&lt;div id="wpac-rating"&gt;&lt;/div&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><h2 id="2-ç½‘ç«™è®¿é—®ç»Ÿè®¡"><a class="header-anchor" href="#2-ç½‘ç«™è®¿é—®ç»Ÿè®¡">Â¶</a>2. ç½‘ç«™è®¿é—®ç»Ÿè®¡</h2><p>nextä¸»é¢˜é»˜è®¤é›†æˆäº†ä¸€äº›ç¬¬ä¸‰æ–¹è®¿é—®ç»Ÿè®¡æ’ä»¶ã€‚å…¶ä¸­æ¨èä½¿ç”¨ä¸è’œå­ç»Ÿè®¡æœåŠ¡æˆ–è€…leancloudç»Ÿè®¡æœåŠ¡ã€‚é€‰æ‹©ä¸€ç§å°±è¡Œã€‚</p><blockquote><p>ğŸ’â€â™‚ å¯¹æ¯”ï¼š</p><p>ä¸è’œå­ç»Ÿè®¡ï¼šæ”¯æŒâ€œæœ¬ç«™è®¿å®¢æ•°â€ã€â€œæœ¬ç«™æ€»è®¿é—®é‡â€å’Œâ€œæœ¬æ–‡æ€»é˜…è¯»é‡â€ï¼›æš‚ä¸å¼€æ”¾æ³¨å†Œï¼Œæ²¡æœ‰ç”¨æˆ· åå°ï¼Œä¸æ”¯æŒæ•°æ®ç»´æŠ¤ã€‚</p><p>leancloudç»Ÿè®¡ï¼šåªæ”¯æŒâ€œæœ¬æ–‡æ€»é˜…è¯»é‡â€ç»Ÿè®¡ï¼›æœ‰ç”¨æˆ·åå°ï¼Œæ”¯æŒæ•°æ®ç»´æŠ¤ã€‚</p></blockquote><p>ç”±äºä»¥ä¸Šå¯çœ‹å‡ºå„è‡ªçš„é•¿çŸ­ï¼Œæ‰€ä»¥é…Œæƒ…é€‰æ‹©ã€‚å¦‚æœä¸å…³å¿ƒæ•°æ®ç»´æŠ¤çš„è¯ï¼Œæˆ‘ä¸ªäººæ¯”è¾ƒæ¨èä½¿ç”¨ä¸è’œå­ç»Ÿè®¡ï¼Œå› ä¸ºç®€å•æ˜“ç”¨ã€‚</p><h3 id="1-ä¸è’œå­ç»Ÿè®¡"><a class="header-anchor" href="#1-ä¸è’œå­ç»Ÿè®¡">Â¶</a>1) ä¸è’œå­ç»Ÿè®¡</h3><p>å®˜ç½‘ï¼š<a href="http://busuanzi.ibruce.info" target="_blank" rel="noopener">http://busuanzi.ibruce.info</a></p><p>åªéœ€è¦æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>busuanzi_count</code>ã€‚ å°† <code>enable</code>çš„å€¼æ”¹ä¸º <code>true</code>,å¹¶å¯¹ç«™ç‚¹UVé…ç½®ã€ç«™ç‚¹PVé…ç½®ã€å•é¡µé¢PVè¿›è¡Œé…ç½®ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line">  <span class="comment"># count values only if the other configs are false</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># custom uv span for the whole site</span></span><br><span class="line">  <span class="comment"># æ•ˆæœï¼šæœ¬ç«™è®¿å®¢æ•°12345äººæ¬¡</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_uv_header:</span> <span class="string">æœ¬ç«™è®¿å®¢æ•°</span></span><br><span class="line">  <span class="attr">site_uv_footer:</span> <span class="string">äººæ¬¡</span></span><br><span class="line">  <span class="comment"># custom pv span for the whole site</span></span><br><span class="line">  <span class="comment"># æ•ˆæœï¼šæœ¬ç«™æ€»è®¿é—®é‡12345æ¬¡</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_pv_header:</span> <span class="string">æœ¬ç«™æ€»è®¿é—®é‡</span></span><br><span class="line">  <span class="attr">site_pv_footer:</span> <span class="string">æ¬¡</span></span><br><span class="line">  <span class="comment"># custom pv span for one page only</span></span><br><span class="line">  <span class="comment"># æ•ˆæœï¼šæœ¬æ–‡æ€»é˜…è¯»é‡12345æ¬¡</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page_pv_header:</span> <span class="string">æœ¬æ–‡æ€»é˜…è¯»é‡</span></span><br><span class="line">  <span class="attr">page_pv_footer:</span> <span class="string">æ¬¡</span></span><br></pre></td></tr></table></figure><p>å®Œæˆåé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œï¼Œä½ ä¼šå‘ç°æ¯ç¯‡åšå®¢æ–‡ç« å’Œç½‘é¡µåº•éƒ¨å·²ç»å‡ºç°äº†è®¿é—®ç»Ÿè®¡ä¿¡æ¯äº†ã€‚</p><p>ğŸ’â€â™‚ æ¸©é¦¨æç¤ºï¼š</p><p>ç›®å‰ä¸è’œå­ã€<a href="http://dn-lbstatics.qbox.me" target="_blank" rel="noopener">dn-lbstatics.qbox.me</a>ã€åŸŸåè¿‡æœŸï¼Œæ›´æ¢åŸŸååˆ°ã€<a href="http://busuanzi.ibruce.info" target="_blank" rel="noopener">busuanzi.ibruce.info</a>ã€ï¼æ•…ä½ å¯èƒ½éœ€è¦ä¿®æ”¹ä»¥ä¸‹æ–‡ä»¶ç›¸å…³ä¿¡æ¯ï¼š</p><p>ç¼–è¾‘ <code>myblog/themes/next/layout/_third-party/analytics/busuanzi-counter.swig</code>ï¼Œæ‰¾åˆ°ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸º:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><em>å¦‚æœä¸è’œå­åˆæ‹¿å›åŸæ¥çš„åŸŸåï¼Œé‚£ä¹ˆå†æ”¹å›åŸæ¥çš„åŸŸåå§~~~</em></p><h3 id="2-leancloudç»Ÿè®¡"><a class="header-anchor" href="#2-leancloudç»Ÿè®¡">Â¶</a>2) leancloudç»Ÿè®¡</h3><p>ï¼ˆ1ï¼‰ç™»å½•leancloudå®˜ç½‘æ³¨å†Œè´¦æˆ·ã€‚</p><blockquote><p>ğŸ’â€â™‚è¯´æ˜ï¼š</p><p>ç°åœ¨leancloudå®˜æ–¹çš„äº‘æœåŠ¡ç³»ç»Ÿæ˜¯å›½å†…å’Œå›½é™…åˆ†åˆ«è¿è¥ï¼Œæ‰€ä»¥å®˜æ–¹ç½‘å€ä¹Ÿåˆ†ä¸ºå›½å†…ç½‘å€å’Œå›½é™…ç½‘å€ï¼Œä¸ªäººå»ºè®®å›½é™…çš„ã€‚</p><ul><li>å›½å†…ç½‘å€ï¼š<a href="https://leancloud.cn" target="_blank" rel="noopener">https://leancloud.cn</a></li><li>å›½é™…ç½‘å€ï¼š<a href="https://leancloud.app" target="_blank" rel="noopener">https://leancloud.app</a></li></ul></blockquote><p>ï¼ˆ2ï¼‰ç™»å½•leancloudåå°ï¼Œç„¶ååˆ›å»ºåº”ç”¨</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/5d0c995c86fac81746.jpg" alt="img"></p><p>ï¼ˆ3ï¼‰åˆ›å»ºåº”ç”¨å®Œæˆåå°±å¾—åˆ°äº† <code>appid</code>å’Œ <code>appkey</code>:</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/image-20200306103635845.png" alt="image-20200306103635845"></p><p>ï¼ˆ4ï¼‰ç„¶åè®¾ç½®å®‰å…¨åŸŸå</p><p>å°†ä½ ç½‘ç«™é¦–é¡µçš„åŸŸåè¯·æ±‚åœ°å€å¡«è¿›å»å³å¯ï¼Œå¯ä»¥é˜²æ­¢å…¶ä»–äººæ”»å‡»ã€‚</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/image-20230619165215201.png" alt="image-20230619165215201"></p><blockquote><p>å¦‚æœä½ æ˜¯ä¸€ä¸ªå¼€å‘çˆ±å¥½è€…ï¼Œå¯ä»¥å°†æœ¬åœ°localhostï¼ˆåŒ…æ‹¬ç«¯å£å·ï¼‰æ·»åŠ è¿›å»ï¼Œå¼€å‘å®Œæˆåå†åˆ é™¤å³å¯</p></blockquote><p>ï¼ˆ5ï¼‰åˆ›å»ºä¸€ä¸ªåç§°ä¸ºCounterçš„Classï¼Œç”¨äºæ•°æ®å­˜å‚¨ã€‚</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/image-20200307024608388.png" alt="image-20200307024608388"></p><p>ï¼ˆ6ï¼‰ç»‘å®šè‡ªå®šä¹‰åŸŸåä½œä¸ºapiè®¿é—®å…¥å£ã€‚</p><p>2022 å¹´ 8 æœˆèµ·ï¼Œå›½é™…ç‰ˆå…±äº«åŸŸåä¸å†å‘ä¸­å›½å¤§é™†æä¾›æœåŠ¡ï¼Œè§ï¼š<a href="https://forum.leancloud.cn/t/2022-8/25408%E3%80%82%E6%95%85%E5%A6%82%E6%9E%9C%E4%B8%8D%E7%BB%91%E5%AE%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E5%88%99%E6%97%A0%E6%B3%95%E9%80%9A%E8%BF%87%E5%9B%BD%E5%86%85%E7%BD%91%E7%BB%9C%E6%AD%A3%E8%AE%BF%E9%97%AE%EF%BC%88%E4%B8%BB%E8%A6%81%E6%98%AF%E4%BC%9A%E6%8A%A5%E2%80%9C%E8%B7%A8%E5%9F%9F%E2%80%9D%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF%EF%BC%89%EF%BC%8C%E8%8B%A5%E6%83%B3%E8%A6%81%E7%BB%A7%E7%BB%AD%E6%AD%A3%E5%B8%B8%E4%BD%BF%E7%94%A8%E8%A6%81%E4%B9%88%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E6%88%96%E8%80%85%E6%94%B9%E4%B8%BA%E5%9B%BD%E5%86%85%E7%89%88%EF%BC%8C%E5%8F%88%E6%88%96%E8%80%85%E5%9C%A8%E5%9B%BD%E9%99%85%E7%89%88%E4%B8%8A%E7%BB%91%E5%AE%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E3%80%82%E5%85%B6%E4%B8%AD%E5%9C%A8%E5%9B%BD%E9%99%85%E7%89%88%E4%B8%8A%E7%BB%91%E5%AE%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E6%93%8D%E4%BD%9C%E5%A6%82%E4%B8%8B%EF%BC%9A" target="_blank" rel="noopener">https://forum.leancloud.cn/t/2022-8/25408ã€‚æ•…å¦‚æœä¸ç»‘å®šè‡ªå®šä¹‰åŸŸååˆ™æ— æ³•é€šè¿‡å›½å†…ç½‘ç»œæ­£è®¿é—®ï¼ˆä¸»è¦æ˜¯ä¼šæŠ¥â€œè·¨åŸŸâ€é”™è¯¯ä¿¡æ¯ï¼‰ï¼Œè‹¥æƒ³è¦ç»§ç»­æ­£å¸¸ä½¿ç”¨è¦ä¹ˆç§‘å­¦ä¸Šç½‘æˆ–è€…æ”¹ä¸ºå›½å†…ç‰ˆï¼Œåˆæˆ–è€…åœ¨å›½é™…ç‰ˆä¸Šç»‘å®šè‡ªå®šä¹‰åŸŸåã€‚å…¶ä¸­åœ¨å›½é™…ç‰ˆä¸Šç»‘å®šè‡ªå®šä¹‰åŸŸåæ“ä½œå¦‚ä¸‹ï¼š</a></p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/image-20230619165407595.png" alt="image-20230619165407595"></p><p>ï¼ˆ7ï¼‰ç¼–è¾‘ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ å°†leancloudåå°å¾—åˆ°çš„ <code>appid</code>å’Œ <code>appkey</code>å¡«å…¥é…ç½®ä¸­ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Show number of visitors to each article.</span></span><br><span class="line"><span class="comment"># You can visit https://leancloud.cn / https://leancloud.app get AppID and AppKey.</span></span><br><span class="line"><span class="attr">leancloud_visitors:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">app_id:</span> <span class="string">6LNbUE*********XbMMI</span></span><br><span class="line">  <span class="attr">app_key:</span> <span class="string">d2FLy*********uDWx</span></span><br><span class="line">  <span class="attr">server_api:</span> <span class="string">https://leancloud.qcmoke.cn</span></span><br></pre></td></tr></table></figure><blockquote><p>ğŸ‘€ æ³¨æ„ï¼š</p><p>enable è¦è®¾ç½®ä¸º true è¡¨ç¤ºå¼€å¯è¿™ä¸ªåŠŸèƒ½ã€‚</p></blockquote><p>ï¼ˆ8ï¼‰å¦‚æœå’Œæˆ‘ä¸€æ ·ä½¿ç”¨çš„nextç‰ˆæœ¬æ˜¯5.1.4ï¼Œå¹¶ä¸”ä½¿ç”¨çš„leancloudæ˜¯å›½é™…ç‰ˆï¼ˆleancloudæ˜¯å›½å†…ç‰ˆçš„å¯ä»¥è·³è¿‡ï¼‰ï¼Œå°±è¿˜è¦åšå…¼å®¹å¤„ç†ï¼Œå› ä¸ºå›½é™…ç‰ˆleancloudæ˜¯åæ¥æ‰æœ‰çš„ï¼Œä»¥è‡´äºæ—§ç‰ˆçš„nextä¸å…¼å®¹ã€‚</p><p>ä¿®æ”¹ <code>themes/next/layout/_third-party/analytics/lean-analytics.swig</code>,å°†å…¶å†…å®¹æ›¿æ¢æˆä¸‹é¢ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--åˆ‡æ¢å›½é™…ç‰ˆleancloudæ›¿æ¢ä»£ç --&gt;</span></span><br><span class="line">&#123;% if theme.leancloud_visitors.enable and !theme.valine.visitor %&#125;</span><br><span class="line">  &#123;# custom analytics part create by xiamo; edited by LEAFERx #&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    &#123;% <span class="keyword">if</span> page.layout === <span class="string">'post'</span> %&#125;</span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">addCount</span><span class="params">(Counter)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $visitors = $(<span class="string">'.leancloud_visitors'</span>);</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> url = $visitors.attr(<span class="string">'id'</span>).trim();</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> title = $visitors.attr(<span class="string">'data-flag-title'</span>).trim();</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      Counter(<span class="string">'get'</span>, <span class="string">'/classes/Counter'</span>, &#123; <span class="attr">where</span>: <span class="built_in">JSON</span>.stringify(&#123; url &#125;) &#125;)</span></span><br><span class="line"><span class="actionscript">        .done(<span class="function"><span class="keyword">function</span><span class="params">(&#123; results &#125;)</span> </span>&#123;</span></span><br><span class="line">          if (results.length &gt; 0) &#123;</span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> counter = results[<span class="number">0</span>];</span></span><br><span class="line">            &#123;% if theme.leancloud_visitors.betterPerformance %&#125;</span><br><span class="line"><span class="javascript">              <span class="keyword">var</span> $element = $(<span class="built_in">document</span>.getElementById(url));</span></span><br><span class="line"><span class="actionscript">              $element.find(<span class="string">'.leancloud-visitors-count'</span>).text(counter.time + <span class="number">1</span>);</span></span><br><span class="line">            &#123;% endif %&#125;</span><br><span class="line"><span class="javascript">            Counter(<span class="string">'put'</span>, <span class="string">'/classes/Counter/'</span> + counter.objectId, <span class="built_in">JSON</span>.stringify(&#123; <span class="attr">time</span>: &#123; <span class="string">'__op'</span>: <span class="string">'Increment'</span>, <span class="string">'amount'</span>: <span class="number">1</span> &#125; &#125;))</span></span><br><span class="line">            &#123;% if not theme.leancloud_visitors.betterPerformance %&#125;</span><br><span class="line"><span class="actionscript">              .done(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $element = $(<span class="built_in">document</span>.getElementById(url));</span></span><br><span class="line"><span class="actionscript">                $element.find(<span class="string">'.leancloud-visitors-count'</span>).text(counter.time + <span class="number">1</span>);</span></span><br><span class="line">              &#125;)</span><br><span class="line">            &#123;% endif %&#125;</span><br><span class="line"><span class="actionscript">              .fail(<span class="function"><span class="keyword">function</span> <span class="params">(&#123; responseJSON &#125;)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">'Failed to save Visitor num, with error message: '</span> + responseJSON.error);</span></span><br><span class="line">              &#125;)</span><br><span class="line"><span class="actionscript">          &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line">            &#123;% if theme.leancloud_visitors.security %&#125;</span><br><span class="line"><span class="javascript">              <span class="keyword">var</span> $element = $(<span class="built_in">document</span>.getElementById(url));</span></span><br><span class="line"><span class="actionscript">              $element.find(<span class="string">'.leancloud-visitors-count'</span>).text(<span class="string">'Counter not initialized! More info at console err msg.'</span>);</span></span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.error(<span class="string">'ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.'</span>);</span></span><br><span class="line"><span class="actionscript">            &#123;% <span class="keyword">else</span> %&#125;</span></span><br><span class="line"><span class="javascript">              Counter(<span class="string">'post'</span>, <span class="string">'/classes/Counter'</span>, <span class="built_in">JSON</span>.stringify(&#123; <span class="attr">title</span>: title, <span class="attr">url</span>: url, <span class="attr">time</span>: <span class="number">1</span> &#125;))</span></span><br><span class="line"><span class="actionscript">                .done(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                  <span class="keyword">var</span> $element = $(<span class="built_in">document</span>.getElementById(url));</span></span><br><span class="line"><span class="actionscript">                  $element.find(<span class="string">'.leancloud-visitors-count'</span>).text(<span class="number">1</span>);</span></span><br><span class="line">                &#125;)</span><br><span class="line"><span class="actionscript">                .fail(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                  <span class="built_in">console</span>.log(<span class="string">'Failed to create'</span>);</span></span><br><span class="line">                &#125;);</span><br><span class="line">            &#123;% endif %&#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="actionscript">        .fail(<span class="function"><span class="keyword">function</span> <span class="params">(&#123; responseJSON &#125;)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">'LeanCloud Counter Error: '</span> + responseJSON.code + <span class="string">' '</span> + responseJSON.error);</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    &#123;% <span class="keyword">else</span> %&#125;</span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">showTime</span><span class="params">(Counter)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> entries = [];</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $visitors = $(<span class="string">'.leancloud_visitors'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">      $visitors.each(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        entries.push( $(<span class="keyword">this</span>).attr(<span class="string">'id'</span>).trim() );</span></span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">      Counter(<span class="string">'get'</span>, <span class="string">'/classes/Counter'</span>, &#123; <span class="attr">where</span>: <span class="built_in">JSON</span>.stringify(&#123; <span class="attr">url</span>: &#123; <span class="string">'$in'</span>: entries &#125; &#125;) &#125;)</span></span><br><span class="line"><span class="actionscript">        .done(<span class="function"><span class="keyword">function</span><span class="params">(&#123; results &#125;)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> COUNT_CONTAINER_REF = <span class="string">'.leancloud-visitors-count'</span>;</span></span><br><span class="line"></span><br><span class="line">          if (results.length === 0) &#123;</span><br><span class="line">            $visitors.find(COUNT_CONTAINER_REF).text(0);</span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span>;</span></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">          <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; results.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> item = results[i];</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> url = item.url;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> time = item.time;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> element = <span class="built_in">document</span>.getElementById(url);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            $(element).find(COUNT_CONTAINER_REF).text(time);</span></span><br><span class="line">          &#125;</span><br><span class="line"><span class="actionscript">          <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; entries.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> url = entries[i];</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> element = <span class="built_in">document</span>.getElementById(url);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> countSpan = $(element).find(COUNT_CONTAINER_REF);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (countSpan.text() == <span class="string">''</span>) &#123;</span></span><br><span class="line">              countSpan.text(0);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="actionscript">        .fail(<span class="function"><span class="keyword">function</span> <span class="params">(&#123; responseJSON &#125;)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">'LeanCloud Counter Error: '</span> + responseJSON.code + <span class="string">' '</span> + responseJSON.error);</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      $.<span class="keyword">get</span>('https://app-router.leancloud.cn/2/route?appId=' + '&#123;&#123; theme.leancloud_visitors.app_id &#125;&#125;<span class="string">')</span></span></span><br><span class="line"><span class="actionscript">        .done(<span class="function"><span class="keyword">function</span><span class="params">(&#123; api_server &#125;)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> Counter = <span class="function"><span class="keyword">function</span><span class="params">(method, url, data)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> $.ajax(&#123;</span></span><br><span class="line">              method: method,</span><br><span class="line"><span class="actionscript">              <span class="comment">//url: 'https://' + api_server + '/1.1' + url,</span></span></span><br><span class="line"><span class="actionscript">              url: (<span class="string">'&#123;&#123; theme.leancloud_visitors.server_api &#125;&#125;'</span> || api_server) + <span class="string">'/1.1'</span> + url,</span></span><br><span class="line">              headers: &#123;</span><br><span class="line"><span class="actionscript">                <span class="string">'X-LC-Id'</span>: <span class="string">'&#123;&#123; theme.leancloud_visitors.app_id &#125;&#125;'</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">'X-LC-Key'</span>: <span class="string">'&#123;&#123; theme.leancloud_visitors.app_key &#125;&#125;'</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,</span></span><br><span class="line">              &#125;,</span><br><span class="line">              data: data</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;;</span><br><span class="line"><span class="actionscript">          &#123;% <span class="keyword">if</span> page.layout === <span class="string">'post'</span> %&#125;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> localhost = <span class="regexp">/http:\/\/(localhost|127.0.0.1|0.0.0.0)/</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (localhost.test(<span class="built_in">document</span>.URL)) <span class="keyword">return</span>;<span class="comment">//æœ¬åœ°è°ƒè¯•æ—¶ä¸è¿›è¡Œç»Ÿè®¡</span></span></span><br><span class="line">            addCount(Counter);</span><br><span class="line"><span class="actionscript">          &#123;% <span class="keyword">else</span> %&#125;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> ($(<span class="string">'.post-title-link'</span>).length &gt;= <span class="number">1</span>) &#123;</span></span><br><span class="line">              showTime(Counter);</span><br><span class="line">            &#125;</span><br><span class="line">          &#123;% endif %&#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--nextåŸæ¥çš„ç‰ˆæœ¬--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">&#123;% if theme.leancloud_visitors.enable %&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  &#123;# custom analytics part create by xiamo #&#125;</span></span><br><span class="line"><span class="comment">  &lt;script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="comment">  &lt;script&gt;AV.initialize("&#123;&#123;theme.leancloud_visitors.app_id&#125;&#125;", "&#123;&#123;theme.leancloud_visitors.app_key&#125;&#125;");&lt;/script&gt;</span></span><br><span class="line"><span class="comment">  &lt;script&gt;</span></span><br><span class="line"><span class="comment">    function showTime(Counter) &#123;</span></span><br><span class="line"><span class="comment">      var query = new AV.Query(Counter);</span></span><br><span class="line"><span class="comment">      var entries = [];</span></span><br><span class="line"><span class="comment">      var $visitors = $(".leancloud_visitors");</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      $visitors.each(function () &#123;</span></span><br><span class="line"><span class="comment">        entries.push( $(this).attr("id").trim() );</span></span><br><span class="line"><span class="comment">      &#125;);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      query.containedIn('url', entries);</span></span><br><span class="line"><span class="comment">      query.find()</span></span><br><span class="line"><span class="comment">        .done(function (results) &#123;</span></span><br><span class="line"><span class="comment">          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">          if (results.length === 0) &#123;</span></span><br><span class="line"><span class="comment">            $visitors.find(COUNT_CONTAINER_REF).text(0);</span></span><br><span class="line"><span class="comment">            return;</span></span><br><span class="line"><span class="comment">          &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">          for (var i = 0; i &lt; results.length; i++) &#123;</span></span><br><span class="line"><span class="comment">            var item = results[i];</span></span><br><span class="line"><span class="comment">            var url = item.get('url');</span></span><br><span class="line"><span class="comment">            var time = item.get('time');</span></span><br><span class="line"><span class="comment">            var element = document.getElementById(url);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            $(element).find(COUNT_CONTAINER_REF).text(time);</span></span><br><span class="line"><span class="comment">          &#125;</span></span><br><span class="line"><span class="comment">          for(var i = 0; i &lt; entries.length; i++) &#123;</span></span><br><span class="line"><span class="comment">            var url = entries[i];</span></span><br><span class="line"><span class="comment">            var element = document.getElementById(url);</span></span><br><span class="line"><span class="comment">            var countSpan = $(element).find(COUNT_CONTAINER_REF);</span></span><br><span class="line"><span class="comment">            if( countSpan.text() == '') &#123;</span></span><br><span class="line"><span class="comment">              countSpan.text(0);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">          &#125;</span></span><br><span class="line"><span class="comment">        &#125;)</span></span><br><span class="line"><span class="comment">        .fail(function (object, error) &#123;</span></span><br><span class="line"><span class="comment">          console.log("Error: " + error.code + " " + error.message);</span></span><br><span class="line"><span class="comment">        &#125;);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    function addCount(Counter) &#123;</span></span><br><span class="line"><span class="comment">      var $visitors = $(".leancloud_visitors");</span></span><br><span class="line"><span class="comment">      var url = $visitors.attr('id').trim();</span></span><br><span class="line"><span class="comment">      var title = $visitors.attr('data-flag-title').trim();</span></span><br><span class="line"><span class="comment">      var query = new AV.Query(Counter);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      query.equalTo("url", url);</span></span><br><span class="line"><span class="comment">      query.find(&#123;</span></span><br><span class="line"><span class="comment">        success: function(results) &#123;</span></span><br><span class="line"><span class="comment">          if (results.length &gt; 0) &#123;</span></span><br><span class="line"><span class="comment">            var counter = results[0];</span></span><br><span class="line"><span class="comment">            counter.fetchWhenSave(true);</span></span><br><span class="line"><span class="comment">            counter.increment("time");</span></span><br><span class="line"><span class="comment">            counter.save(null, &#123;</span></span><br><span class="line"><span class="comment">              success: function(counter) &#123;</span></span><br><span class="line"><span class="comment">                var $element = $(document.getElementById(url));</span></span><br><span class="line"><span class="comment">                $element.find('.leancloud-visitors-count').text(counter.get('time'));</span></span><br><span class="line"><span class="comment">              &#125;,</span></span><br><span class="line"><span class="comment">              error: function(counter, error) &#123;</span></span><br><span class="line"><span class="comment">                console.log('Failed to save Visitor num, with error message: ' + error.message);</span></span><br><span class="line"><span class="comment">              &#125;</span></span><br><span class="line"><span class="comment">            &#125;);</span></span><br><span class="line"><span class="comment">          &#125; else &#123;</span></span><br><span class="line"><span class="comment">            var newcounter = new Counter();</span></span><br><span class="line"><span class="comment">            /* Set ACL */</span></span><br><span class="line"><span class="comment">            var acl = new AV.ACL();</span></span><br><span class="line"><span class="comment">            acl.setPublicReadAccess(true);</span></span><br><span class="line"><span class="comment">            acl.setPublicWriteAccess(true);</span></span><br><span class="line"><span class="comment">            newcounter.setACL(acl);</span></span><br><span class="line"><span class="comment">            /* End Set ACL */</span></span><br><span class="line"><span class="comment">            newcounter.set("title", title);</span></span><br><span class="line"><span class="comment">            newcounter.set("url", url);</span></span><br><span class="line"><span class="comment">            newcounter.set("time", 1);</span></span><br><span class="line"><span class="comment">            newcounter.save(null, &#123;</span></span><br><span class="line"><span class="comment">              success: function(newcounter) &#123;</span></span><br><span class="line"><span class="comment">                var $element = $(document.getElementById(url));</span></span><br><span class="line"><span class="comment">                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));</span></span><br><span class="line"><span class="comment">              &#125;,</span></span><br><span class="line"><span class="comment">              error: function(newcounter, error) &#123;</span></span><br><span class="line"><span class="comment">                console.log('Failed to create');</span></span><br><span class="line"><span class="comment">              &#125;</span></span><br><span class="line"><span class="comment">            &#125;);</span></span><br><span class="line"><span class="comment">          &#125;</span></span><br><span class="line"><span class="comment">        &#125;,</span></span><br><span class="line"><span class="comment">        error: function(error) &#123;</span></span><br><span class="line"><span class="comment">          console.log('Error:' + error.code + " " + error.message);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">      &#125;);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    $(function() &#123;</span></span><br><span class="line"><span class="comment">      var Counter = AV.Object.extend("Counter");</span></span><br><span class="line"><span class="comment">      if ($('.leancloud_visitors').length == 1) &#123;</span></span><br><span class="line"><span class="comment">        addCount(Counter);</span></span><br><span class="line"><span class="comment">      &#125; else if ($('.post-title-link').length &gt; 1) &#123;</span></span><br><span class="line"><span class="comment">        showTime(Counter);</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">    &#125;);</span></span><br><span class="line"><span class="comment">  &lt;/script&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">&#123;% endif %&#125;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>ğŸ™‰æ³¨æ„ï¼šæœ¬åœ°è°ƒè¯•æ—¶ä¸è¿›è¡Œç»Ÿè®¡ã€‚å¦‚æœçœ‹æ‡‚ä¸Šé¢æºç å¯ä»¥è®©å…¶åœ¨æœ¬åœ°è°ƒè¯•æ˜¯èƒ½è¿›è¡Œç»Ÿè®¡ã€‚ä½†å°ç™½ç›´æ¥å¤åˆ¶ç²˜è´´å°±å¥½ï¼Œå‘å¸ƒéƒ¨ç½²æ—¶ï¼Œé€šè¿‡åŸŸåè®¿é—®å°±èƒ½ç»Ÿè®¡äº†ã€‚</p></blockquote><p>ä¸ºäº†è®©ç§»åŠ¨ç«¯æ˜¾ç¤ºæ›´å‹å¥½ï¼Œæˆ‘ä¿®æ”¹äº† <code>themes/next/layout/_macro/post.swig</code>æ–‡ä»¶ï¼ŒåŠ äº†ä¸€ä¸ªspanæ ‡ç­¾è¿›è¡Œä¿®é¥°ï¼Œè®©å°çœ¼ç›å’Œè®¿é—®æ•°å€¼å§‹ç»ˆåœ¨åŒä¸€è¡Œã€‚</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">          &#123;# LeanCould PageView #&#125;</span><br><span class="line">          &#123;% if theme.leancloud_visitors.enable %&#125;</span><br><span class="line">             &lt;span id="&#123;&#123; url_for(post.path) &#125;&#125;" class="leancloud_visitors" data-flag-title="&#123;&#123; post.title &#125;&#125;"&gt;</span><br><span class="line">              &lt;span class="post-meta-divider"&gt;|&lt;/span&gt;</span><br><span class="line"><span class="addition">+             &lt;span class="lv-inline-block" style="display: inline-block;"&gt;</span></span><br><span class="line">                &lt;span class="post-meta-item-icon"&gt;</span><br><span class="line">                  &lt;i class="fa fa-eye"&gt;&lt;/i&gt;</span><br><span class="line">                &lt;/span&gt;</span><br><span class="line">                &#123;% if theme.post_meta.item_text %&#125;</span><br><span class="line">                  &lt;span class="post-meta-item-text"&gt;&#123;&#123;__('post.visitors')&#125;&#125;:&lt;/span&gt;</span><br><span class="line">                &#123;% endif %&#125;</span><br><span class="line">                  &lt;span class="leancloud-visitors-count"&gt;&lt;/span&gt;</span><br><span class="line"><span class="addition">+             &lt;/span&gt;</span></span><br><span class="line">             &lt;/span&gt;</span><br><span class="line">          &#123;% endif %&#125;</span><br></pre></td></tr></table></figure><h3 id="3-é¢å¤–è¡¥å……"><a class="header-anchor" href="#3-é¢å¤–è¡¥å……">Â¶</a>3) é¢å¤–è¡¥å……</h3><p>ç”±äºä¸è’œå­ç»Ÿè®¡å’Œleancloudç»Ÿè®¡éƒ½å­˜åœ¨ç€ä¸€äº›ç¼ºå¤±çš„é—®é¢˜ï¼Œä½†æ˜¯å®ƒä»¬ä¹‹é—´åˆå†¥å†¥ä¸­æœ‰ç€äº’è¡¥çš„å…³ç³»ï¼Œæ‰€ä»¥æˆ‘é€šè¿‡ä¸€æ³¢è€ƒè™‘åï¼Œé€‰æ‹©äº†æŠ˜ä¸­çš„æ–¹æ¡ˆï¼Œé‚£å°±æ˜¯ä½¿ç”¨ä¸è’œå­ç»Ÿè®¡çš„â€œæœ¬ç«™è®¿å®¢æ•°â€ã€â€œæœ¬ç«™æ€»è®¿é—®é‡â€ï¼Œè€Œä½¿ç”¨leancloudç»Ÿè®¡çš„â€œæœ¬æ–‡æ€»é˜…è¯»é‡â€ç»Ÿè®¡ã€‚é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Show PV/UV of the website/page with busuanzi.</span></span><br><span class="line"><span class="comment"># Get more information on http://ibruce.info/2015/04/04/busuanzi/</span></span><br><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line">  <span class="comment"># count values only if the other configs are false</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># custom uv span for the whole site</span></span><br><span class="line">  <span class="comment"># æ•ˆæœï¼šæœ¬ç«™è®¿å®¢æ•°12345äººæ¬¡</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_uv_header:</span> <span class="string">æœ¬ç«™è®¿å®¢æ•°</span></span><br><span class="line">  <span class="attr">site_uv_footer:</span> <span class="string">äººæ¬¡</span></span><br><span class="line">  <span class="comment"># custom pv span for the whole site</span></span><br><span class="line">  <span class="comment"># æ•ˆæœï¼šæœ¬ç«™æ€»è®¿é—®é‡12345æ¬¡</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_pv_header:</span> <span class="string">æœ¬ç«™æ€»è®¿é—®é‡</span></span><br><span class="line">  <span class="attr">site_pv_footer:</span> <span class="string">æ¬¡</span></span><br><span class="line">  <span class="comment"># custom pv span for one page only</span></span><br><span class="line">  <span class="comment"># æ•ˆæœï¼šæœ¬æ–‡æ€»é˜…è¯»é‡12345æ¬¡</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">page_pv_header:</span> <span class="string">æœ¬æ–‡æ€»é˜…è¯»é‡</span></span><br><span class="line">  <span class="attr">page_pv_footer:</span> <span class="string">æ¬¡</span></span><br></pre></td></tr></table></figure><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Show number of visitors to each article.</span></span><br><span class="line"><span class="comment"># You can visit https://leancloud.cn / https://leancloud.app get AppID and AppKey.</span></span><br><span class="line"><span class="attr">leancloud_visitors:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">app_id:</span> <span class="string">6LNbUERxbG0OAnWfmJSbmXiW-MdYXbMMI</span></span><br><span class="line">  <span class="attr">app_key:</span> <span class="string">d2FLy9fmXOTiM8TrokuIuDWx</span></span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’â€â™‚å¦‚æœä½ å¯¹è¿™è®¿é—®ç»Ÿè®¡è¿™ä¸€å—å¾ˆæ„Ÿå…´è¶£å¹¶ä¸”æ‡‚ç‚¹ç¼–ç¨‹çŸ¥è¯†çš„è¯ï¼Œä½ å®Œå…¨å¯ä»¥é€šè¿‡leancloudçš„sdkæ¥å¼€å‘å‡ºå®Œæ•´çš„ç»Ÿè®¡åŠŸèƒ½ã€‚è¿™æ ·çš„è¯å°±å¯ä»¥ä¸ç”¨ä¸è’œå­ç»Ÿè®¡äº†ã€‚è¦æ˜¯ä½ è¿˜æœ‰ä¸€å°å¯ä»¥é•¿æœŸä½¿ç”¨çš„vpsçš„è¯ï¼Œä½ ç”šè‡³å¯ä»¥ä¸ç”¨leancloudçš„æœåŠ¡ï¼Œè€Œæ˜¯è‡ªå·±å®ç°ä¸€ä¸ªè®¿é—®è®¡æ•°çš„åç«¯æœåŠ¡ã€‚è¿™é‡Œæˆ‘å°±ä¸æ·±å…¥äº†ã€‚</p></blockquote><h2 id="3-åŠ å…¥è¯„è®ºé¢æ¿"><a class="header-anchor" href="#3-åŠ å…¥è¯„è®ºé¢æ¿">Â¶</a>3. åŠ å…¥è¯„è®ºé¢æ¿</h2><h3 id="1-gitalk"><a class="header-anchor" href="#1-gitalk">Â¶</a>1) Gitalk</h3><p>ä¸Šç½‘æ‰¾è¿‡å¾ˆå¤šä¸hexoç›¸å…³çš„è¯„è®ºé¢æ¿ï¼Œä½†å‘ç°å¾ˆå¤šç¬¬ä¸‰æ–¹çš„è¯„è®ºé¢æ¿æä¾›çš„è¯„è®ºé¢æ¿éƒ½æœ‰ä¸€ä¸ªè‡´å‘½çš„å¼±ç‚¹ï¼Œé‚£å°±æ˜¯åœ¨ä¸å¯é¢„æ–™çš„ä¸€å¤©çªç„¶åœ¨å›½å†…è¢«å’Œè°äº†ï¼Œæˆ–è€…å‡ºç°å„ç§å„æ ·çš„é—®é¢˜ï¼Œè¿™å¾ˆè®©äººå¤´ç–¼ã€‚åæ¥åœ¨ç½‘ä¸Šå‘ç°æœ‰äººé€šè¿‡è°ƒç”¨githubæä¾›çš„Issues apiåšæˆäº†æ¯”è¾ƒç¾è§‚çš„è¯„è®ºé¢æ¿ï¼Œè¿™å…¶ä¸­æˆ‘å‘ç°äº†ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯<a href="https://github.com/imsun/gitment" target="_blank" rel="noopener">gitment</a>ï¼Œç¬¬äºŒç§å°±æ˜¯è¿™é‡Œè¦è®²çš„<a href="https://github.com/gitalk/gitalk" target="_blank" rel="noopener">gitalk</a>ã€‚ä¹‹å‰ä¹Ÿå°è¯•è¿‡åŠ å…¥gitmentï¼Œä½†æ˜¯å‘ç°è£…å¥½åå‡ºç°äº†å„ç§é—®é¢˜ã€‚æœ€ä¸¥é‡çš„é—®é¢˜å°±æ˜¯æ— æ³•é€šè¿‡ç™»é™†è¯„è®ºé¢æ¿è¿›è¡Œåˆå§‹åŒ–æ–‡ç« çš„è¯„è®ºåŠŸèƒ½ï¼Œæ‰€ä»¥ä¹Ÿå°±æ”¾å¼ƒäº†è¿™ç§é€”å¾„ã€‚åæ¥åœ¨<a href="https://t.me/theme_next" target="_blank" rel="noopener">nextçš„Telegramç¾¤</a>é‡Œå‘ç°äº†gitalkè¿™ä¸ªå¹²è´§ï¼Œäºæ˜¯å¼€å§‹ä¸Šç½‘æ‰¾å„ç§æ•™ç¨‹å°è¯•æ­å»ºï¼Œä½†åœ¨è¿™è¿‡ç¨‹ä¸­ä¹Ÿè¿˜æ˜¯å‘ç°äº†ä¸€äº›é—®é¢˜ã€‚æ‰€ä»¥åœ¨è¿™é‡Œæˆ‘å°†å°½å¯èƒ½è¯¦ç»†è§£é‡Šæ¸…æ¥šï¼Œé¿å…è¯¯å¯¼å¤§å®¶ã€‚</p><p>ï¼ˆ1ï¼‰é¦–å…ˆä½ å¾—å…ˆåˆ°githubä¸Šç”³è¯·ä¸€ä¸ª Github Applicationï¼Œç”±äºéœ€è¦è°ƒç”¨ Github API ,é¦–å…ˆ<a href="https://github.com/settings/applications/new" target="_blank" rel="noopener">ç‚¹å‡»æ³¨å†Œ</a>ä¸€ä¸ª Github Application ã€‚</p><p>ç”³è¯·é¡µå¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/4198945318.png" alt="1537368382709.png"></p><p>å‚æ•°è¯´æ˜ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Application nameï¼š          #åº”ç”¨åç§°ï¼Œéšæ„å¡«</span><br><span class="line">Homepage URLï¼š              #åº”ç”¨åœ°å€ï¼Œå¡«ä½ çš„åšå®¢åœ°å€ï¼Œå¦‚https://youname.github.io </span><br><span class="line">Application description     #æè¿°ï¼Œéšæ„å¡«</span><br><span class="line">Authorization callback URLï¼š#å›è°ƒåœ°å€ï¼Œå¡«ä½ çš„åšå®¢åœ°å€ï¼Œå¦‚https://youname.github.io</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰ç”¨è‡ªè´­çš„åŸŸåï¼Œ<code>Homepage URL</code>å’Œ <code>Authorization callback URL</code>ç»Ÿä¸€å¡«https://youname.github.io (younameæ˜¯ä½ çš„githubç”¨æˆ·å)ã€‚</p><p>å¡«å†™å®Œæˆåï¼Œç‚¹å‡»register applicationã€‚</p><p>åˆ›å»ºæˆåŠŸåï¼Œä¼šçœ‹åˆ° <code>clientID: XXX</code>å’Œ <code>clientSecret: XXX</code> è¿™ä¸¤ä¸ªå‚æ•°ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1150547369.png" alt="1537370272870.png"></p><p>ï¼ˆ2ï¼‰åˆ›å»ºä¸€ä¸ªä»“åº“ç”¨æ¥å­˜æ”¾issueæ•°æ®ï¼Œå‘½åå¯ä»¥éšæ„ï¼Œä½†ä¸ºäº†å’Œæˆ‘ç»Ÿä¸€ï¼Œæœ€å¥½ä¹Ÿå‘½åä¸º <code>gitalk</code>ã€‚</p><p>ï¼ˆ3ï¼‰æ·»åŠ gitalk.swigé…ç½®æ–‡ä»¶</p><p>åœ¨ç›®å½• <code>myblog/themes/next/layout/_third-party/comments</code>ä¸‹åˆ›å»ºä¸€ä¸ª <code>gitalk.swig</code>æ–‡ä»¶ã€‚</p><p>å°†ä»¥ä¸‹ä»£ç å…¨éƒ¨å¤åˆ¶åˆ° <code>gitalk.swig</code>ä¸­ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.gitalk.enable %&#125;</span><br><span class="line">  &#123;% if page.comments %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://unpkg.com/gitalk/dist/gitalk.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/gitalk/dist/gitalk.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">const</span> gitalk = <span class="keyword">new</span> Gitalk(&#123;</span></span><br><span class="line"><span class="actionscript">        clientID: <span class="string">'&#123;&#123;theme.gitalk.clientID&#125;&#125;'</span>,</span></span><br><span class="line"><span class="actionscript">        clientSecret: <span class="string">'&#123;&#123;theme.gitalk.clientSecret&#125;&#125;'</span>,</span></span><br><span class="line"><span class="actionscript">        repo: <span class="string">'&#123;&#123;theme.gitalk.repo&#125;&#125;'</span>,</span></span><br><span class="line"><span class="actionscript">        owner: <span class="string">'&#123;&#123;theme.gitalk.owner&#125;&#125;'</span>,</span></span><br><span class="line"><span class="actionscript">        admin: <span class="string">'&#123;&#123;theme.gitalk.admin&#125;&#125;'</span>.split(<span class="string">','</span>),</span></span><br><span class="line">        id: location.pathname,</span><br><span class="line"><span class="actionscript">        <span class="comment">// facebook-like distraction free mode</span></span></span><br><span class="line"><span class="actionscript">        distractionFreeMode: <span class="string">'&#123;&#123; theme.gitalk.distractionFreeMode &#125;&#125;'</span>,</span></span><br><span class="line"><span class="actionscript">        createIssueManually: <span class="string">'&#123;&#123; theme.gitalk.createIssueManually &#125;&#125;'</span></span></span><br><span class="line">      &#125;)</span><br><span class="line"><span class="actionscript">      gitalk.render(<span class="string">'gitalk-container'</span>)</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰ä¿®æ”¹index.swigé…ç½®æ–‡ä»¶</p><p>åœ¨ <code>myblog/themes/next/layout/_third-party/comments</code>ç›®å½•ä¸‹çš„ <code>index.swig</code>æ–‡ä»¶æœ€ååŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include <span class="string">'gitalk.swig'</span> %&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ5ï¼‰ä¿®æ”¹comments.swigé…ç½®æ–‡ä»¶</p><p>æ‰“å¼€ <code>myblog/themes/next/layout/_partials</code> ç›®å½•ä¸‹çš„ <code>comments.swig</code>æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­— <code>valine</code>æ‰¾åˆ°ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% elseif theme.valine.appid and theme.valine.appkey %&#125;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"comments"</span> id=<span class="string">"comments"</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&#123;% endif %&#125;</span></span><br></pre></td></tr></table></figure><p>å°†ä»¥ä¸Šä»£ç æ”¹æˆä»¥ä¸‹ä»£ç :</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% elseif theme.valine.appid and theme.valine.appkey %&#125;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"comments"</span> id=<span class="string">"comments"</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &#123;% elseif theme.gitalk.enable %&#125;</span></span><br><span class="line"><span class="regexp">    &lt;div class="comments" id="comments"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;div id="gitalk-container"&gt;&lt;/</span>div&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&#123;% endif %&#125;</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ6ï¼‰ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶</p><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µæ·»åŠ å¦‚ä¸‹ä»£ç :</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Gitalk</span></span><br><span class="line"><span class="comment"># more info please open https://github.com/gitalk/gitalk</span></span><br><span class="line"><span class="attr">gitalk:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> </span><br><span class="line">  <span class="attr">clientID:</span> <span class="string">d933e443cdfe503ce05a</span>  <span class="comment">#åˆ›å»ºGithub Applicationæ—¶ç”Ÿæˆçš„clientID</span></span><br><span class="line">  <span class="attr">clientSecret:</span> <span class="string">149d163f4b10cedf7a68993289da9c0f0836bd34</span>   <span class="comment">#åˆ›å»ºGithub Applicationæ—¶ç”Ÿæˆçš„clientSecret</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">mygitalk</span>    <span class="comment">#å¡«ä¹‹å‰åˆ›å»ºå¥½çš„å­˜æ”¾issueçš„ä»“åº“å</span></span><br><span class="line">  <span class="attr">owner:</span> <span class="string">qcmoke</span>   <span class="comment">#å¡«Github ç”¨æˆ·å</span></span><br><span class="line">  <span class="attr">admin:</span> <span class="string">qcmoke</span>   <span class="comment">#å¡«Github ç”¨æˆ·å</span></span><br><span class="line">  <span class="attr">distractionFreeMode:</span> <span class="literal">true</span>   <span class="comment">#ç±»ä¼¼Facebookè¯„è®ºæ¡†çš„å…¨å±é®ç½©æ•ˆæœ.</span></span><br><span class="line">  <span class="attr">createIssueManually:</span> <span class="literal">true</span>  <span class="comment">#å¦‚æœå½“å‰é¡µé¢æ²¡æœ‰ç›¸åº”çš„ isssue ï¼Œä¸”ç™»å½•çš„ç”¨æˆ·å±äº adminï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ›å»º issueã€‚å¦‚æœè®¾ç½®ä¸º trueï¼Œåˆ™æ˜¾ç¤ºä¸€ä¸ªåˆå§‹åŒ–é¡µé¢ï¼Œåˆ›å»º issue éœ€è¦ç‚¹å‡» init æŒ‰é’®ã€‚</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†ä¸å‡ºé”™åŒæ—¶ä¹Ÿæ–¹ä¾¿ç®¡ç†ï¼Œä½ å¯å°†è¿™äº›ä»£ç æ”¾åœ¨gitmentï¼ˆå¦‚æœä¹‹å‰æœ‰é…ç½®çš„è¯ï¼‰æ¿å—åã€‚å¦‚æˆ‘çš„ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1181121489.png" alt="1537366863938.png"></p><p>ï¼ˆ7ï¼‰éƒ¨ç½²åˆ°github</p><p>æœ€åé€šè¿‡ hexo éƒ¨ç½²ä½ çš„åšå®¢ï¼Œå³å¯çœ‹åˆ°gitalkè¯„è®ºé¢æ¿çš„æ•ˆæœã€‚</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/3837116534.png" alt="1537367186506.png"></p><p>ï¼ˆ8ï¼‰åˆå§‹åŒ–æ¯ç¯‡æ–‡ç« çš„Issue</p><p>ä½ å¯èƒ½ä¼šå‘ç°è¿˜ä¸èƒ½è¯„è®ºï¼Œå¾ˆç®€å•ï¼Œä½ åªéœ€è¦ç‚¹å‡» <code>åˆå§‹åŒ–Issue</code>,ä¹‹åå°±è¦ä»¥githubè´¦å·ç™»å½•ã€‚ç™»å½•æˆåŠŸåä¾¿è‡ªåŠ¨å®Œæˆåˆå§‹åŒ–ã€‚ï¼ˆæ³¨æ„ï¼Œåªèƒ½é€šè¿‡è‡ªå·±çš„githubè´¦å·æ¥åˆå§‹åŒ–ï¼‰ã€‚åˆå§‹åŒ–éœ€è¦åˆ·æ–°ä¸€ä¸‹ï¼Œç»“æœå¦‚ä¸‹å›¾ï¼Œgithubç”¨æˆ·å°±èƒ½é€šè¿‡ç™»å½•githubè´¦å·è¿›è¡Œè¯„è®ºäº†ã€‚</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/627571429.png" alt="1537367817100.png"></p><p>åŒæ—¶å­˜æ”¾è¯„è®ºæ•°æ®çš„ä»“åº“ï¼Œ<code>Issues</code>ä¸‹ä¹Ÿç”Ÿæˆäº†Issueæ•°æ®</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/2491529604.png" alt="1537367920673.png"></p><p>è‡³æ­¤ï¼ŒåŠ å…¥Gitalkè¯„è®ºé¢æ¿å®Œç»“ã€‚</p><h3 id="2-vssue"><a class="header-anchor" href="#2-vssue">Â¶</a>2) Vssue</h3><p>ç›®å‰å‘ç°Gitalkæ˜¯å¾ˆå¥½çš„ï¼Œä½†æ˜¯ç›®å‰å®ƒåªæ”¯æŒgithubä»£ç æ‰˜ç®¡å¹³å°ï¼Œä½†ç¢äºgithubæœåŠ¡å™¨åœ¨å›½å¤–ï¼Œè¯„è®ºé¢æ¿æœ‰æ—¶å€™ä¼šç”±äºç½‘ç»œçš„åŸå› å¯¼è‡´æ— æ³•è¯·æ±‚apiï¼Œæ‰€ä»¥è¿™æ‰è®¤è¯†åˆ°äº†Vssueï¼ŒVssueå’ŒGitalkçš„åŠŸèƒ½å·®ä¸å¤šï¼Œå®ƒæ”¯æŒå¤šä¸ªä»£ç æ‰˜ç®¡å¹³å°ï¼ˆGitHubã€GitLabã€Bitbucketã€Giteeã€Giteaï¼‰ï¼Œå¦‚æœä½¿ç”¨Giteeä½œä¸ºè¯„è®ºapiçš„è¯ï¼Œç½‘ç»œå»¶æ—¶çš„é—®é¢˜å°±ä¼šå¾—åˆ°æ¯”è¾ƒå¥½çš„è§£å†³ã€‚æ¥ä¸‹æ¥å°±å¥‰ä¸Šæ•™ç¨‹ã€‚</p><p>ï¼ˆ1ï¼‰åœ¨ç›®å½• <code>myblog/themes/next/layout/_third-party/comments</code>ä¸‹åˆ›å»ºä¸€ä¸ª <code>vssue.swig</code>æ–‡ä»¶ã€‚å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.vssue.enable %&#125;</span><br><span class="line">  &#123;% if page.comments %&#125;</span><br><span class="line">  <span class="comment">&lt;!-- Vssue çš„æ ·å¼æ–‡ä»¶ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; theme.vssue.vssueCss &#125;&#125;"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Vue è¿è¡Œæ—¶ç‰ˆ (runtime only)  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; theme.vssue.vueRuntimeJs &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åœ¨ Vue ä¹‹åå¼•å…¥ Vssue --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; theme.vssue.vssueTypeJs &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å°† Vssue ä½œä¸º Vue ç»„ä»¶ä½¿ç”¨,å¯¹äº Vue è¿è¡Œæ—¶ç‰ˆï¼Œä½¿ç”¨æ¸²æŸ“å‡½æ•°ï¼ˆrender functionï¼‰ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">      el: <span class="string">'#vssue'</span>,</span></span><br><span class="line"><span class="javascript">      render: <span class="function"><span class="params">h</span> =&gt;</span> h(<span class="string">'Vssue'</span>, &#123;</span></span><br><span class="line">        props: &#123;</span><br><span class="line"><span class="actionscript">          <span class="comment">// åœ¨è¿™é‡Œè®¾ç½®å½“å‰é¡µé¢å¯¹åº”çš„ Issue æ ‡é¢˜</span></span></span><br><span class="line"><span class="actionscript">          title: <span class="string">'&#123;&#123;theme.vssue.title&#125;&#125;'</span>,</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// åœ¨è¿™é‡Œè®¾ç½®ä½ ä½¿ç”¨çš„å¹³å°çš„ OAuth App é…ç½®</span></span></span><br><span class="line">          options: &#123;</span><br><span class="line"><span class="actionscript">            owner: <span class="string">'&#123;&#123;theme.vssue.owner&#125;&#125;'</span>,</span></span><br><span class="line"><span class="actionscript">            repo: <span class="string">'&#123;&#123;theme.vssue.repo&#125;&#125;'</span>,</span></span><br><span class="line"><span class="actionscript">            clientId: <span class="string">'&#123;&#123;theme.vssue.clientId&#125;&#125;'</span>,</span></span><br><span class="line"><span class="actionscript">            clientSecret: <span class="string">'&#123;&#123;theme.vssue.clientSecret&#125;&#125;'</span>,</span></span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--è‡ªå®šä¹‰æ ·å¼--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.vssue</span> &#123;</span></span><br><span class="line">      width: 96%;</span><br><span class="line"><span class="css">      <span class="selector-tag">color</span>: <span class="selector-id">#60676d</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.vssue</span> <span class="selector-class">.vssue-button</span> &#123;</span></span><br><span class="line">      padding: unset;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.vssue</span> <span class="selector-class">.vssue-button</span><span class="selector-pseudo">:not(</span><span class="selector-pseudo">:disabled).vssue-button-primary</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">color</span>: <span class="selector-id">#60676d</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">border-color</span>: <span class="selector-id">#60676d</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.vssue</span> <span class="selector-pseudo">:not(.vssue-comment-content)</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰åœ¨ <code>myblog/themes/next/layout/_third-party/comments</code>ç›®å½•ä¸‹çš„ <code>index.swig</code>æ–‡ä»¶æœ€ååŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include 'vssue.swig' %&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰æ‰“å¼€ <code>myblog/themes/next/layout/_partials</code> ç›®å½•ä¸‹çš„ <code>comments.swig</code>æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹ <code>+</code>çš„å†…å®¹ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">   &#123;% elseif theme.valine.appid and theme.valine.appkey %&#125;</span><br><span class="line">    &lt;div class="comments" id="comments"&gt;&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">   &#123;% elseif theme.gitalk.enable %&#125;</span><br><span class="line">    &lt;div class="comments" id="comments"&gt;</span><br><span class="line">      &lt;div id="gitalk-container"&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="addition">+   &#123;% elseif theme.vssue.enable %&#125;</span></span><br><span class="line"><span class="addition">+    &lt;div class="comments" id="comments"&gt;</span></span><br><span class="line"><span class="addition">+      &lt;div id="vssue"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="addition">+    &lt;/div&gt;</span></span><br><span class="line">  </span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶</p><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µæ·»åŠ å¦‚ä¸‹ä»£ç :</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Vssue</span></span><br><span class="line"><span class="comment"># more info please open https://vssue.js.org</span></span><br><span class="line"><span class="attr">vssue:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>  <span class="comment">#æ˜¯å¦å¼€å¯vssueè¯„è®ºé¢æ¿</span></span><br><span class="line">  <span class="attr">owner:</span> <span class="string">qcmoke</span> <span class="comment">#gitç®¡ç†ç”¨æˆ·</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">myvssue</span> <span class="comment">#gitä»“åº“åç§°</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">Vssue</span> <span class="string">Dev</span> <span class="comment">#å¯¹åº”çš„Issueæ ‡é¢˜</span></span><br><span class="line">  <span class="attr">clientId:</span> <span class="string">b0634**********1012aa</span> <span class="comment">#OAuth App clientId</span></span><br><span class="line">  <span class="attr">clientSecret:</span> <span class="string">7a3********620313</span> <span class="comment">#OAuth App clientSecret</span></span><br><span class="line">  <span class="comment">#Vssue jsæ–‡ä»¶ï¼ˆæ”¯æŒå¤šä¸ªä»£ç æ‰˜ç®¡å¹³å°ï¼Œåˆ‡æ¢å¹³å°æ—¶è¦åˆ‡æ¢ç›¸åº”çš„jsæ–‡ä»¶ï¼‰</span></span><br><span class="line">  <span class="comment">#GitHubï¼šhttps://unpkg.com/vssue/dist/vssue.github.min.js</span></span><br><span class="line">  <span class="comment">#GitLabï¼šhttps://unpkg.com/vssue/dist/vssue.gitlab.min.js</span></span><br><span class="line">  <span class="comment">#Bitbucketï¼šhttps://unpkg.com/vssue/dist/vssue.bitbucket.min.js</span></span><br><span class="line">  <span class="comment">#Giteeï¼šhttps://unpkg.com/vssue/dist/vssue.gitee.min.js</span></span><br><span class="line">  <span class="comment">#Giteaï¼šhttps://unpkg.com/vssue/dist/vssue.gitea.min.js</span></span><br><span class="line">  <span class="attr">vssueTypeJs:</span> <span class="string">https://unpkg.com/vssue/dist/vssue.gitee.min.js</span></span><br><span class="line">  <span class="attr">vssueCss:</span> <span class="string">https://unpkg.com/vssue/dist/vssue.min.css</span> <span class="comment">#Vssue çš„æ ·å¼æ–‡ä»¶</span></span><br><span class="line">  <span class="attr">vueRuntimeJs:</span> <span class="string">https://unpkg.com/vue/dist/vue.runtime.min.js</span> <span class="comment">#Vue è¿è¡Œæ—¶ç‰ˆ (runtime only)</span></span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼ŒåŠ å…¥Vssueè¯„è®ºé¢æ¿å®Œç»“ã€‚</p><blockquote><p>ğŸ’â€â™‚ æç¤ºï¼š</p><p>clientIdå’ŒclientSecretå’ŒGitalkçš„ç”³è¯·å·®ä¸å¤šï¼Œå¯ä»¥è‡ªè¡Œå»ç›¸åº”çš„gitä»£ç æ‰˜ç®¡å¹³å°è¿›è¡Œç”³è¯·ã€‚å½“ç„¶æˆ‘æ¨èä½ å»å‚è€ƒéå¸¸è¯¦ç»†çš„å®˜æ–¹æŒ‡å—ï¼š<a href="https://vssue.js.org/zh/guide" target="_blank" rel="noopener">https://vssue.js.org/zh/guide</a></p></blockquote><h3 id="3-valine"><a class="header-anchor" href="#3-valine">Â¶</a>3) Valine</h3><p>valineæ˜¯ä¸€ä¸ªä¼˜ç§€çš„è¯„è®ºç³»ç»Ÿè½¯ä»¶ï¼Œåå°çš„è¯„è®ºæ•°æ®ä¾èµ–äºleancloudçš„äº‘å­˜å‚¨ï¼Œæ‰€ä»¥è¿˜éœ€è¦å»leancloudå®˜ç½‘è®¾ç½®æ•°æ®å­˜å‚¨åŠŸèƒ½ã€‚</p><p>ï¼ˆ1ï¼‰é¦–å…ˆå°±æ˜¯å»leancloudè·å– <code>appid</code>å’Œ <code>appkey</code>ï¼Œæ€ä¹ˆè·å–å¯ä»¥å‚è€ƒä¸Šæ–‡ä¸­çš„&quot;ç½‘ç«™è®¿é—®ç»Ÿè®¡=&gt;leandcloudç»Ÿè®¡â€ã€‚</p><blockquote><p>ğŸ’â€â™‚æç¤ºï¼š å…¶ä¸­ <code>appid</code>å’Œ <code>appkey</code>ä¸leandcloudç»Ÿè®¡ä¸€æ ·å°±è¡Œã€‚</p></blockquote><p>ï¼ˆ2ï¼‰å¦å¤–ï¼Œè¿˜éœ€è¦åœ¨leancloudåå°åˆ›å»ºä¸€ä¸ªCommentçš„Classï¼Œç”¨äºæ•°æ®å­˜å‚¨ã€‚</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/image-20200306115321197.png" alt="image-20200306115321197"></p><blockquote><p>è™½ç„¶ç½‘ä¸Šæœ‰äººè¯´valineä¼šè‡ªåŠ¨åˆ›å»ºè¿™ä¸ªClassï¼Œä½†æ˜¯æˆ‘åœ¨ç”¨å›½é™…ç‰ˆæµ‹è¯•çš„æ—¶å€™å‘ç°ä¸€ç›´æ— æƒé™æˆ–è€…æç¤ºæ²¡è¿™ä¸ªClassï¼Œé‚£å€’ä¸å¦‚ç›´æ¥åˆ›å»ºå°±å¥½ã€‚</p></blockquote><p>ï¼ˆ3ï¼‰ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œé…ç½® <code>valine</code>ã€‚ä¿®æ”¹ <code>enable</code>ä¸º <code>true</code>ï¼Œå¹¶ä¸”æ·»åŠ  <code>appid</code>å’Œ <code>appkey</code>å³å¯ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Valine.</span></span><br><span class="line"><span class="comment"># You can get your appid and appkey from https://leancloud.cn</span></span><br><span class="line"><span class="comment"># more info please open https://valine.js.org</span></span><br><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">appid:</span>  <span class="string">75OSy9**********zoHsz</span> <span class="comment"># your leancloud application appid</span></span><br><span class="line">  <span class="attr">appkey:</span>  <span class="string">LKk**************GeB</span> <span class="comment"># your leancloud application appkey</span></span><br><span class="line">  <span class="attr">notify:</span> <span class="literal">false</span> <span class="comment"># mail notifier , https://github.com/xCss/Valine/wiki</span></span><br><span class="line">  <span class="attr">verify:</span> <span class="literal">false</span> <span class="comment"># Verification code</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">Just</span> <span class="string">go</span> <span class="string">go</span> <span class="comment"># comment box placeholder</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">mm</span> <span class="comment"># gravatar style</span></span><br><span class="line">  <span class="attr">guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment"># custom comment header</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment"># pagination size</span></span><br><span class="line">  <span class="attr">server_api:</span> <span class="string">https://leancloud.qcmoke.cn</span></span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’â€â™‚è¯´æ˜ï¼š</p><p>avatar æ˜¯è®¾ç½®é»˜è®¤å¤´åƒï¼Œå¯ä»¥å»https://valine.js.org/avatar é€‰æ‹©é»˜è®¤å¤´åƒ</p><p>æ›´å¤šè¯¦ç»†å†…å®¹è¯·æŸ¥é˜…valineçš„å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://valine.js.org" target="_blank" rel="noopener">https://valine.js.org</a></p></blockquote><p>ä¸‹è½½av-min.jså’Œav-min.js.mapæ”¾åˆ°themes/next/source/js/src`ä¸‹ï¼š</p><blockquote><p><a href="https://code.bdstatic.com/npm/leancloud-storage@4.12.0/dist/av-min.js" target="_blank" rel="noopener">https://code.bdstatic.com/npm/leancloud-storage@4.12.0/dist/av-min.js</a></p><p><a href="https://code.bdstatic.com/npm/leancloud-storage@4.12.0/dist/av-min.js.map" target="_blank" rel="noopener">https://code.bdstatic.com/npm/leancloud-storage@4.12.0/dist/av-min.js.map</a></p></blockquote><p>ï¼ˆ2ï¼‰ç„¶åä¿®æ”¹ <code>themes/next/layout/_third-party/comments/valine.swig</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.valine.enable %&#125;</span><br><span class="line">  &#123;% if page.comments %&#125;</span><br><span class="line">    <span class="comment">&lt;!--Leancloud æ“ä½œåº“--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/src/av-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Valine çš„æ ¸å¿ƒä»£ç åº“--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">'//unpkg.com/valine/dist/Valine.min.js'</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> emoticonList=[]</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">164</span>; i++)&#123;</span></span><br><span class="line"><span class="actionscript">        emoticonList.push(<span class="string">"aru ("</span>+i+<span class="string">").png"</span>)</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="actionscript">      <span class="keyword">new</span> Valine(&#123;</span></span><br><span class="line"><span class="actionscript">          lang: <span class="string">'zh-cn'</span>,</span></span><br><span class="line"><span class="actionscript">          admin_email: <span class="string">'qcmoke@gmail.com'</span>,</span></span><br><span class="line"><span class="actionscript">          el: <span class="string">'#comments-valine'</span> ,</span></span><br><span class="line"><span class="actionscript">          appId: <span class="string">'&#123;&#123; theme.valine.appid &#125;&#125;'</span>,</span></span><br><span class="line"><span class="actionscript">          appKey: <span class="string">'&#123;&#123; theme.valine.appkey &#125;&#125;'</span>,</span></span><br><span class="line"><span class="actionscript">          placeholder: <span class="string">'&#123;&#123; theme.valine.placeholder &#125;&#125;'</span>,</span></span><br><span class="line"><span class="actionscript">          serverURLs: <span class="string">'&#123;&#123; theme.valine.server_api &#125;&#125;'</span>,</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">//ç‚¹å‡»é‚®ä»¶ä¸­çš„é“¾æ¥è·³è½¬è‡³ç›¸åº”è¯„è®º</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span>(<span class="built_in">window</span>.location.hash)&#123;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> checkExist = setInterval(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> ($(<span class="built_in">window</span>.location.hash).length) &#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">'html, body'</span>).animate(&#123;<span class="attr">scrollTop</span>: $(<span class="built_in">window</span>.location.hash).offset().top<span class="number">-90</span>&#125;, <span class="number">1000</span>);</span></span><br><span class="line">                clearInterval(checkExist);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;, 100);</span><br><span class="line">      &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ1ï¼‰å…³äºè‡ªå®šä¹‰ç¯å¢ƒå˜é‡</p><p>ç›´æ¥å‚è€ƒæˆ‘ä¸‹é¢çš„å¯ä»¥å°½é‡é¿å…å‡ºé”™ã€‚ä¸‹é¢é™„ä¸Šæˆ‘çš„leancloudç®¡ç†åå°è‡ªå®šä¹‰ç¯å¢ƒå˜é‡ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/image-20200307175642685.png" alt="image-20200307175642685"></p><p>ğŸ’â€â™‚è¡¥å……è¯´æ˜ï¼š</p><p>ï¼ˆ1ï¼‰æˆ‘é…ç½®çš„smtpè´¦å·å’Œå¯†ç æ˜¯Gmailçš„ï¼Œå½“ç„¶è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–çš„ï¼Œæ¯”å¦‚QQï¼ŒOutlookç­‰ï¼Œå…·ä½“å¯å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a href="http://help.cy-email.com/yxtj-cyyx" target="_blank" rel="noopener">http://help.cy-email.com/yxtj-cyyx</a></p><p>ï¼ˆ2ï¼‰å¦‚æœæœºå™¨æ­£åœ¨å¯åŠ¨ç„¶åå°±ä¿®æ”¹è¿™äº›ç¯å¢ƒå˜é‡çš„è¯æ˜¯éœ€è¦åˆ°â€œéƒ¨ç½²â€é‚£é‡Œé‡å¯çš„ã€‚</p><p>ï¼ˆ3ï¼‰æœ‰å‡ ä¸ªé‚®ä»¶æ¨¡æ¿ç¯å¢ƒå˜é‡å›¾ç‰‡ä¸­æ˜¾ç¤ºä¸å…¨ï¼Œä¸‹é¢æ˜¯å®Œæ•´çš„ã€‚</p><p>MAIL_SUBJECT</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;PARENT_NICK&#125;ï¼Œæ‚¨åœ¨ã€$&#123;SITE_NAME&#125;ã€ä¸Šçš„è¯„è®ºæ”¶åˆ°äº†å›å¤</span><br></pre></td></tr></table></figure><p>MAIL_TEMPLATE</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"border-radius: 10px 10px 10px 10px;font-size:13px;color: #555555;width: 666px;font-family:'Century Gothic','Trebuchet MS','Hiragino Sans GB',å¾®è½¯é›…é»‘,'Microsoft Yahei',Tahoma,Helvetica,Arial,'SimSun',sans-serif;margin:50px auto;border:1px solid #eee;max-width:100%;background: #ffffff repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width:100%;background:#49BDAD;color:#ffffff;border-radius: 10px 10px 0 0;background-image: -moz-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));background-image: -webkit-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));height: 66px;"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"font-size:15px;word-break:break-all;padding: 23px 32px;margin:0;background-color: hsla(0,0%,100%,.4);border-radius: 10px 10px 0 0;"</span>&gt;</span>æ‚¨åœ¨<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">"text-decoration:none;color: #ffffff;"</span> <span class="attr">href</span>=<span class="string">"$&#123;SITE_URL&#125;"</span>&gt;</span>ã€$&#123;SITE_NAME&#125;ã€<span class="tag">&lt;/<span class="name">a</span>&gt;</span>ä¸Šçš„ç•™è¨€æœ‰æ–°å›å¤å•¦ï¼ï¼ï¼<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"margin:40px auto;width:90%"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>"<span class="tag">&lt;<span class="name">strong</span>&gt;</span>$&#123;PARENT_NICK&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>" åŒå­¦ï¼Œæ‚¨æ›¾å‘è¡¨è¯„è®ºï¼š<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"background: #fafafa repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);margin:20px 0px;padding:15px;border-radius:5px;font-size:14px;color:#555555;"</span>&gt;</span>$&#123;PARENT_COMMENT&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>"<span class="tag">&lt;<span class="name">strong</span>&gt;</span>$&#123;NICK&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>" ç»™æ‚¨çš„å›å¤å¦‚ä¸‹ï¼š<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"background: #fafafa repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);margin:20px 0px;padding:15px;border-radius:5px;font-size:14px;color:#555555;"</span>&gt;</span>$&#123;COMMENT&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>æ‚¨å¯ä»¥ç‚¹å‡»ï¼š<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">"text-decoration:none; color:#12addb"</span> <span class="attr">href</span>=<span class="string">"$&#123;POST_URL&#125;"</span>&gt;</span>[å›å¤çš„å®Œæ•´å†…å®¹] <span class="tag">&lt;/<span class="name">a</span>&gt;</span>è¿›è¡ŒæŸ¥çœ‹ã€‚æ¬¢è¿å†æ¬¡å…‰ä¸´<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">"text-decoration:none; color:#12addb"</span> <span class="attr">href</span>=<span class="string">"$&#123;SITE_URL&#125;"</span>&gt;</span> ã€$&#123;SITE_NAME&#125;ã€<span class="tag">&lt;/<span class="name">a</span>&gt;</span>ï¼ï¼ï¼<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span>&#123;<span class="attribute">text-decoration</span>:none&#125;<span class="selector-tag">a</span><span class="selector-pseudo">:visited</span>&#123;<span class="attribute">text-decoration</span>:none&#125;<span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;<span class="attribute">text-decoration</span>:none&#125;<span class="selector-tag">a</span><span class="selector-pseudo">:active</span>&#123;<span class="attribute">text-decoration</span>:none&#125;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>MAIL_SUBJECT_ADMIN</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®å’šï¼ã€$&#123;SITE_NAME&#125;ã€ä¸Šæœ‰äº†æ–°è¯„è®ºï¼</span><br></pre></td></tr></table></figure><p>MAIL_TEMPLATE_ADMIN</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"border-radius: 10px 10px 10px 10px;font-size:13px; color: #555555;width: 666px;font-family:'Century Gothic','Trebuchet MS','Hiragino Sans GB',å¾®è½¯é›…é»‘,'Microsoft Yahei',Tahoma,Helvetica,Arial,'SimSun',sans-serif;margin:50px auto;border:1px solid #eee;max-width:100%;background: #ffffff repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width:100%;background:#49BDAD;color:#ffffff;border-radius: 10px 10px 0 0;background-image: -moz-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));background-image: -webkit-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));height: 66px;"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"font-size:15px;word-break:break-all;padding: 23px 32px;margin:0;background-color: hsla(0,0%,100%,.4);border-radius: 10px 10px 0 0;"</span>&gt;</span>æ‚¨çš„<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">"text-decoration:none;color: #ffffff;"</span> <span class="attr">href</span>=<span class="string">"$&#123;SITE_URL&#125;"</span>&gt;</span> ã€$&#123;SITE_NAME&#125;ã€ <span class="tag">&lt;/<span class="name">a</span>&gt;</span>ä¸Šæœ‰äº†æ–°çš„è¯„è®º <span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"margin:40px auto;width:90%"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>"$&#123;NICK&#125;"<span class="tag">&lt;/<span class="name">strong</span>&gt;</span> å‘è¡¨è¯„è®ºï¼š<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"background: #fafafa repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);margin:20px 0px;padding:15px;border-radius:5px;font-size:14px;color:#555555;"</span>&gt;</span>$&#123;COMMENT&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">"text-decoration:none; color:#12addb"</span> <span class="attr">href</span>=<span class="string">"$&#123;POST_URL&#125;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>[æŸ¥çœ‹è¯¦æƒ…]<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span>&#123;<span class="attribute">text-decoration</span>:none&#125;<span class="selector-tag">a</span><span class="selector-pseudo">:visited</span>&#123;<span class="attribute">text-decoration</span>:none&#125;<span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;<span class="attribute">text-decoration</span>:none&#125;<span class="selector-tag">a</span><span class="selector-pseudo">:active</span>&#123;<span class="attribute">text-decoration</span>:none&#125;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨å›½é™…ç‰ˆleancloudï¼Œé‚£ä¹ˆleancloudçš„å®šæ—¶ä»»åŠ¡è¦åšä¸€äº›è°ƒæ•´ã€‚ä¸»è¦å°±æ˜¯å°†å®˜æ–¹çš„ä»‹ç»æ—¶é—´è°ƒæ•´æˆåŒ—äº¬æ—¶åŒºçš„æ—¶é—´ã€‚</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/image-20200306133741358.png" alt="image-20200306133741358"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŒ—äº¬æ—¶é—´æ¯å¤©æ—©8ç‚¹æ£€æŸ¥è¿‡å»24å°æ—¶å†…æ¼å‘çš„é€šçŸ¥é‚®ä»¶ä¸€å¹¶è¡¥å‘</span></span><br><span class="line">0 0 0 * * ?</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¯å¤©æ—©0ç‚¹åˆ°æ™š23ç‚¹æ¯éš”30åˆ†é’Ÿè®¿é—®äº‘å¼•æ“</span></span><br><span class="line">0 0/30 0-23 * * ?</span><br></pre></td></tr></table></figure><h3 id="4-æ•´åˆå¤šä¸ªè¯„è®ºé¢æ¿"><a class="header-anchor" href="#4-æ•´åˆå¤šä¸ªè¯„è®ºé¢æ¿">Â¶</a>4) æ•´åˆå¤šä¸ªè¯„è®ºé¢æ¿</h3><p>ç¼–è¾‘ <code>/themes/next/layout/_third-party/comments/valine.swig</code>ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">	new Valine(&#123;</span><br><span class="line"><span class="deletion">-        el: '#comments' ,      </span></span><br><span class="line"><span class="addition">+        el: '#comments-valine' ,</span></span><br></pre></td></tr></table></figure><p>ç¼–è¾‘ <code>themes/next/layout/_partials/comments.swig</code>ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">  &#123;% elseif theme.gitment.enable %&#125;</span><br><span class="line">    &lt;div class="comments" id="comments"&gt;</span><br><span class="line">      &#123;% if theme.gitment.lazy %&#125;</span><br><span class="line">        &lt;div onclick="showGitment()" id="gitment-display-button"&gt;&#123;&#123; __('gitmentbutton') &#125;&#125;&lt;/div&gt;</span><br><span class="line">        &lt;div id="gitment-container" style="display:none"&gt;&lt;/div&gt;</span><br><span class="line">      &#123;% else %&#125;</span><br><span class="line">        &lt;div id="gitment-container"&gt;&lt;/div&gt;</span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="addition">+  &#123;% elseif theme.gitalk.enable and theme.valine.enable %&#125;</span></span><br><span class="line"><span class="addition">+    &lt;div class="comments" id="comments"&gt;</span></span><br><span class="line"><span class="addition">+      &lt;div class="tablink-li"&gt;</span></span><br><span class="line"><span class="addition">+          &lt;button class="tablink" onclick="openPage('tabs-gitalk',this)" id="defaultOpen"&gt;Gitalk&lt;/button&gt;</span></span><br><span class="line"><span class="addition">+          &lt;button class="tablink" onclick="openPage('tabs-valine',this)"&gt;Valine&lt;/button&gt;</span></span><br><span class="line"><span class="addition">+      &lt;/div&gt;</span></span><br><span class="line"><span class="addition">+      &lt;div class="tabcontent-li"&gt;</span></span><br><span class="line"><span class="addition">+          &lt;div id="tabs-gitalk" class="tabcontent"&gt;</span></span><br><span class="line"><span class="addition">+              &lt;div id="gitalk-container"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="addition">+          &lt;/div&gt;</span></span><br><span class="line"><span class="addition">+          &lt;div id="tabs-valine" class="tabcontent"&gt;</span></span><br><span class="line"><span class="addition">+              &lt;div id="comments-valine"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="addition">+          &lt;/div&gt;</span></span><br><span class="line"><span class="addition">+      &lt;/div&gt;</span></span><br><span class="line"><span class="addition">+    &lt;/div&gt;</span></span><br><span class="line"><span class="addition">+    &lt;script&gt;</span></span><br><span class="line"><span class="addition">+      function openPage(pageName, elmnt) &#123;</span></span><br><span class="line"><span class="addition">+        var i, tabcontent;</span></span><br><span class="line"><span class="addition">+        tabcontent = document.getElementsByClassName("tabcontent");</span></span><br><span class="line"><span class="addition">+        for (i = 0; i &lt; tabcontent.length; i++) &#123;</span></span><br><span class="line"><span class="addition">+          tabcontent[i].style.display = "none";</span></span><br><span class="line"><span class="addition">+        &#125;</span></span><br><span class="line"><span class="addition">+        tablinks = document.getElementsByClassName("tablink");</span></span><br><span class="line"><span class="addition">+        for (i = 0; i &lt; tablinks.length; i++) &#123;</span></span><br><span class="line"><span class="addition">+          tablinks[i].classList.remove("currentTabcontent");</span></span><br><span class="line"><span class="addition">+        &#125;</span></span><br><span class="line"><span class="addition">+        document.getElementById(pageName).style.display = "block";</span></span><br><span class="line"><span class="addition">+        elmnt.classList.add("currentTabcontent");</span></span><br><span class="line"><span class="addition">+      &#125;</span></span><br><span class="line"><span class="addition">+      document.getElementById("defaultOpen").click();;</span></span><br><span class="line"><span class="addition">+    &lt;/script&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="deletion">- &#123;% elseif theme.valine.appid and theme.valine.appkey %&#125;</span></span><br><span class="line"><span class="deletion">-   &lt;div class="comments" id="comments"&gt;&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+  &#123;% elseif theme.valine.enable %&#125;</span></span><br><span class="line"><span class="addition">+    &lt;div class="comments" id="comments"&gt;</span></span><br><span class="line"><span class="addition">+      &lt;div id="comments-valine"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="addition">+    &lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">  &#123;% elseif theme.gitalk.enable %&#125;</span><br><span class="line">    &lt;div class="comments" id="comments"&gt;</span><br><span class="line">      &lt;div id="gitalk-container"&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &#123;% elseif theme.vssue.enable %&#125;</span><br><span class="line">    &lt;div class="comments" id="comments"&gt;</span><br><span class="line">      &lt;div id="vssue"&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>åˆ›å»º <code>themes/next/source/css/_custom/comments.styl</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯„è®ºåŒºæ ·å¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="selector-class">.main-inner</span> <span class="selector-class">.comments</span> &#123;</span><br><span class="line">  <span class="comment">// margin: 60px 0 20px 0;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// å»æ‰é“¾æ¥ä¸‹çš„ä¸‹åˆ’çº¿</span></span><br><span class="line">  <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.highlight</span> pre &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#24292e</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é˜²æ­¢ä»£ç åŒºè¾¹ç¼˜é»‘çº¿</span></span><br><span class="line">  <span class="selector-class">.highlight</span>,</span><br><span class="line">  pre &#123;</span><br><span class="line">    <span class="attribute">background</span>: unset;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.highlight</span> ::selection &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#2593a6</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#24292e</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.tablink-li</span> &#123;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">30px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.tabcontent-li</span> &#123;</span><br><span class="line">    <span class="attribute">border-top</span>: solid <span class="number">1px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.tablink</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ddd</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#60676d</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.tablink</span>:hover &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#222</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.tabcontent</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.currentTabcontent</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#222</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="selector-id">#tabs-valine</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">25px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.valine</span> &#123;</span><br><span class="line">    <span class="selector-class">.vwrap</span> &#123;</span><br><span class="line">      <span class="selector-class">.textarea-wrapper</span> <span class="selector-class">.comment_trigger</span> &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#f6f6f6</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.textarea-wrapper</span> <span class="selector-tag">textarea</span> &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#f6f6f6</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.auth-section</span> <span class="selector-class">.input-wrapper</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#f6f6f6</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.auth-section</span> &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#f6f6f6</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.auth-section</span> <span class="selector-class">.post-action</span> <span class="selector-tag">button</span> &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#333</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>âœ‰ï¸ ç”±äºæ•´åˆvssueçš„è¿‡ç¨‹ä¸­å‘ç°å•ç‹¬ä½¿ç”¨æ²¡é—®é¢˜ï¼Œä½†æ˜¯å’Œå…¶ä»–è¯„è®ºé¢æ¿åœ¨ä¸€èµ·å‘ç”Ÿå›è°ƒåœ°å€ä¸æ­£ç¡®çš„é—®é¢˜ï¼Œäºæ˜¯è¿™é‡Œæš‚ä¸”åªæ•´åˆäº†Gitalkå’ŒValineï¼Œå¦‚æœæœ‰å°ä¼™ä¼´æ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆï¼Œæ¬¢è¿è”ç³»æœ¬äººï¼Œé²œèŠ±å¥‰ä¸Šï¼ğŸŒ¹</p></blockquote><h2 id="4-æ·»åŠ çƒ­é—¨æ–‡ç« é¡µé¢"><a class="header-anchor" href="#4-æ·»åŠ çƒ­é—¨æ–‡ç« é¡µé¢">Â¶</a>4. æ·»åŠ çƒ­é—¨æ–‡ç« é¡µé¢</h2><blockquote><p>ğŸ’â€â™‚è¯´æ˜ï¼š</p><p>è¿™é‡Œæ·»åŠ çƒ­é—¨æ–‡ç« é¡µé¢çš„åŸç†æ˜¯é€šè¿‡leancloudè®¿é—®ç»Ÿè®¡ç”Ÿæˆçš„æ•°æ®å®ç°çš„ï¼Œæ•…éœ€è¦ç¼–è¾‘ <code>themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶å¼€å¯ <code>leancloud_visitors</code>çš„åŠŸèƒ½ã€‚å…·ä½“æ“ä½œè¯·å‚è€ƒä¸Šæ–‡çš„â€œleancloudç»Ÿè®¡â€ã€‚</p></blockquote><p>åˆ›å»º <code>themes/next/layout/top.swig</code>æ–‡ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block content %&#125;</span><br><span class="line">  &#123;######################&#125;</span><br><span class="line">  &#123;### LINKS BLOCK ###&#125;</span><br><span class="line">  &#123;######################&#125;</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"top"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--ä¸‹è½½av-min.jsæ”¾åˆ°themes/next/source/js/srcä¸‹ï¼šhttps://code.bdstatic.com/npm/leancloud-storage@4.12.0/dist/av-min.js --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/src/av-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> appId = <span class="string">'&#123;&#123; theme.leancloud_visitors.app_id &#125;&#125;'</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> appKey = <span class="string">'&#123;&#123; theme.leancloud_visitors.app_key &#125;&#125;'</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> serverApi = <span class="string">'&#123;&#123; theme.leancloud_visitors.server_api &#125;&#125;'</span></span></span><br><span class="line">    if(serverApi)&#123;</span><br><span class="line">      AV.init(&#123;appId, appKey,serverURLs: serverApi&#125;);</span><br><span class="line"><span class="actionscript">    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line">      AV.initialize(appId, appKey)</span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> time = <span class="number">0</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> title = <span class="string">""</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> url = <span class="string">""</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> query = <span class="keyword">new</span> AV.Query(<span class="string">'Counter'</span>);</span></span><br><span class="line"><span class="actionscript">    query.notEqualTo(<span class="string">'id'</span>, <span class="number">0</span>);</span></span><br><span class="line"><span class="actionscript">    query.descending(<span class="string">'time'</span>);</span></span><br><span class="line">    query.limit(1000);</span><br><span class="line"><span class="actionscript">    query.find().then(<span class="function"><span class="keyword">function</span> <span class="params">(dataArray)</span> </span>&#123;</span></span><br><span class="line">      if(!dataArray)&#123;</span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span></span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="actionscript">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; dataArray.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> item = dataArray[i]</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> result = item.attributes;</span></span><br><span class="line">        time = result.time;</span><br><span class="line">        title = result.title;</span><br><span class="line">        url = result.url;</span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> content = <span class="string">"&lt;p&gt;"</span> + <span class="string">"&lt;font color='#1C1C1C'&gt;"</span> + <span class="string">"ã€æ–‡ç« çƒ­åº¦:"</span> + time + <span class="string">"â„ƒã€‘"</span> + <span class="string">"&lt;/font&gt;"</span> + <span class="string">"&lt;a href='"</span> + url + <span class="string">"'&gt;"</span> + title + <span class="string">"&lt;/a&gt;"</span> + <span class="string">"&lt;/p&gt;"</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">"top"</span>).innerHTML+=content</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="actionscript">    &#125;, <span class="function"><span class="keyword">function</span> <span class="params">(error)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">"error"</span>,error);</span></span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.post-description</span> &#123;</span></span><br><span class="line">      display: none;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  &#123;##########################&#125;</span><br><span class="line">  &#123;### END LINKS BLOCK ###&#125;</span><br><span class="line">  &#123;##########################&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’â€â™‚ æé†’ï¼š</p><p>å¦‚æœä½ çš„åšå®¢ä½¿ç”¨äº† Valine è¯„è®ºç³»ç»Ÿï¼Œé‚£ä¹ˆå¯èƒ½ä¼šæœ‰ä»£ç å†²çªé—®é¢˜ã€‚éœ€è¦ä¿®æ”¹ <code>themes/next/layout/_third-party/comments/valine.swig</code> åŠ å…¥ <code>{% if page.comments %}</code>è¿™ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œé»˜è®¤æ—§ç‰ˆçš„nextæ²¡æœ‰è¿™ä¸ªæ¡ä»¶ã€‚å¯å‚è€ƒä¸Šæ–‡â€œå¢å¼ºç‰ˆvalineâ€ç›¸å…³ä»£ç ã€‚</p></blockquote><p>ç¼–è¾‘ <code>themes/next/layout/page.swig</code>,ä¿®æ”¹ä¸¤å¤„ä»£ç </p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  &#123;% block title %&#125;&#123;#</span><br><span class="line">  #&#125;&#123;% set page_title_suffix = ' | ' + config.title %&#125;&#123;#</span><br><span class="line"></span><br><span class="line">  #&#125;&#123;% if page.type <span class="comment">=== "categories" and not page.title %&#125;&#123;#</span></span><br><span class="line">    #&#125;&#123;&#123; __('title.category') + page_title_suffix &#125;&#125;&#123;#</span><br><span class="line">  #&#125;&#123;% elif page.type <span class="comment">=== "tags" and not page.title %&#125;&#123;#</span></span><br><span class="line">    #&#125;&#123;&#123; __('title.tag') + page_title_suffix &#125;&#125;&#123;#</span><br><span class="line">  &lt;!-- å‹æƒ…é“¾æ¥--&gt;</span><br><span class="line">  #&#125;&#123;% elif page.type <span class="comment">=== 'links' and not page.title %&#125;&#123;#</span></span><br><span class="line">    #&#125;&#123;&#123; __('title.links') + page_title_suffix &#125;&#125;&#123;#</span><br><span class="line"><span class="addition">+ &lt;!-- topé¡µé¢--&gt;</span></span><br><span class="line"><span class="addition">+ #&#125;&#123;% elif page.type === 'top' and not page.title %&#125;&#123;#</span></span><br><span class="line"><span class="addition">+   #&#125;&#123;&#123; __('title.top') + page_title_suffix &#125;&#125;&#123;#</span></span><br><span class="line">  #&#125;&#123;% else %&#125;&#123;#</span><br><span class="line">    #&#125;&#123;&#123; page.title + page_title_suffix &#125;&#125;&#123;#</span><br><span class="line">  #&#125;&#123;% endif %&#125;&#123;#</span><br><span class="line">#&#125;&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  &#123;% elif page.type <span class="comment">=== 'categories' %&#125;</span></span><br><span class="line">          &lt;div class="category-all-page"&gt;</span><br><span class="line">            &lt;div class="category-all-title"&gt;</span><br><span class="line">                &#123;&#123; _p('counter.categories', site.categories.length) &#125;&#125;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div class="category-all"&gt;</span><br><span class="line">              &#123;&#123; list_categories() &#125;&#125;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;!-- å‹æƒ…é“¾æ¥--&gt;</span><br><span class="line">        &#123;% elif page.type <span class="comment">=== 'links' %&#125;</span></span><br><span class="line">          &#123;% include 'links.swig' %&#125;</span><br><span class="line"><span class="addition">+       &lt;!-- topé¡µé¢--&gt;</span></span><br><span class="line"><span class="addition">+       &#123;% elif page.type === 'top' %&#125;</span></span><br><span class="line"><span class="addition">+         &#123;% include 'top.swig' %&#125;</span></span><br><span class="line">        &#123;% else %&#125;</span><br><span class="line">          &#123;&#123; page.content &#125;&#125;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">      &lt;/div&gt;</span><br></pre></td></tr></table></figure><p>åˆ›å»º <code>myblog/source/top/index.md</code>æ–‡ä»¶</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: æ–‡ç« é˜…è¯»é‡æ’è¡Œæ¦œ</span><br><span class="line">type: top</span><br><span class="line">comments: false</span><br><span class="line">keywords: top,æ–‡ç« é˜…è¯»é‡æ’è¡Œæ¦œ,çƒ­æ–‡,æ–‡ç« çƒ­åº¦,çƒ­é—¨æ–‡ç« </span><br><span class="line">description: åšå®¢æ–‡ç« é˜…è¯»é‡æ’è¡Œæ¦œ</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>ç„¶åç¼–è¾‘ <code>themes/next/_config.yml</code>ï¼Œæ·»åŠ èœå•é¡¹</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br><span class="line">  <span class="attr">links:</span> <span class="string">/links/</span> <span class="string">||</span> <span class="string">link</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">user</span></span><br><span class="line">  <span class="string">çƒ­æ–‡:</span> <span class="string">/top/</span> <span class="string">||</span> <span class="string">fire</span></span><br></pre></td></tr></table></figure><h2 id="5-æ·»åŠ åœ¨çº¿è”ç³»åŠŸèƒ½"><a class="header-anchor" href="#5-æ·»åŠ åœ¨çº¿è”ç³»åŠŸèƒ½">Â¶</a>5. æ·»åŠ åœ¨çº¿è”ç³»åŠŸèƒ½</h2><p>åœ¨è¿™ä½¿ç”¨çš„æ˜¯DaoVoiceåšåœ¨çº¿è”ç³»åŠŸèƒ½ã€‚<br>é¦–å…ˆåˆ°<a href="https://dashboard.daovoice.io/" target="_blank" rel="noopener">DaoVoice</a>ä¸Šæ³¨å†Œä¸€ä¸ªè´¦å·,æ³¨å†Œå®Œæˆåä¼šå¾—åˆ°ä¸€ä¸ªapp_idï¼Œè·å–appidçš„æ­¥éª¤å¦‚ä¸‹å›¾æ‰€ç¤º:</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1538456184961.png" alt="1538456184961"></p><p>æ‰“å¼€myblog/themes/next/layout/_partials/head.swigæ–‡ä»¶æ‰¾åˆ°å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include &#39;head&#x2F;custom-head.swig&#39; %&#125;</span><br></pre></td></tr></table></figure><p>å¦èµ·ä¸€è¡Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼ˆå®é™…æˆ‘å°±æ˜¯æ·»åŠ åˆ°æœ€åï¼‰ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.daovoice %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  (<span class="function"><span class="keyword">function</span>(<span class="params">i,s,o,g,r,a,m</span>)</span>&#123;i[<span class="string">"DaoVoiceObject"</span>]=r;i[r]=i[r]||<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;(i[r].q=i[r].q||[]).push(<span class="built_in">arguments</span>)&#125;,i[r].l=<span class="number">1</span>*<span class="keyword">new</span> <span class="built_in">Date</span>();a=s.createElement(o),m=s.getElementsByTagName(o)[<span class="number">0</span>];a.async=<span class="number">1</span>;a.src=g;a.charset=<span class="string">"utf-8"</span>;m.parentNode.insertBefore(a,m)&#125;)(<span class="built_in">window</span>,<span class="built_in">document</span>,<span class="string">"script"</span>,(<span class="string">'https:'</span> == <span class="built_in">document</span>.location.protocol ? <span class="string">'https:'</span> : <span class="string">'http:'</span>) + <span class="string">"//widget.daovoice.io/widget/0f81ff2f.js"</span>,<span class="string">"daovoice"</span>)</span></span><br><span class="line"><span class="actionscript">  daovoice(<span class="string">'init'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">      app_id: <span class="string">"&#123;&#123;theme.daovoice_app_id&#125;&#125;"</span></span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="actionscript">  daovoice(<span class="string">'update'</span>);</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Online contact </span></span><br><span class="line"><span class="attr">daovoice:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">daovoice_app_id:</span> <span class="number">33</span><span class="string">***da4</span>  <span class="comment">#è¿™é‡Œè¾“å…¥å‰é¢è·å–çš„app_id</span></span><br></pre></td></tr></table></figure><p>æœ€åæ‰§è¡Œ <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code>,æ‰“å¼€åšå®¢å°±èƒ½çœ‹åˆ°æ•ˆæœäº†ã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1538456671856.png" alt="1538456671856"></p><p>å½“ç„¶ä¸ºäº†è°ƒæ•´å›¾æ ‡çš„ä½ç½®ï¼Œä½ å¯ä»¥ç™»é™†daovoiceåå°è¿›è¡Œä¿®æ”¹ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1538456771783.png" alt="1538456771783"></p><p>æœ€ååˆ°å³ä¸Šè§’é€‰æ‹©ç®¡ç†å‘˜ï¼Œå¾®ä¿¡ç»‘å®š,å¯ä»¥ç»‘å®šä½ çš„å¾®ä¿¡å·ï¼Œå…³æ³¨å…¬ä¼—å·åæ‰“å¼€å°ç¨‹åºï¼Œåœ¨å¾®ä¿¡ä¸­ç™»é™†daovoiceï¼Œå°±å¯ä»¥å®æ—¶æ”¶å‘æ¶ˆæ¯ï¼Œæœ‰æ–°çš„æ¶ˆæ¯ä¹Ÿä¼šé€šè¿‡å¾®ä¿¡çš„å°ç¨‹åºé€šçŸ¥ï¼Œè®¾ç½®é¡µé¢å¦‚ä¸‹:</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1538456906088.png" alt="1538456906088"></p><h1 id="é«˜çº§å®šåˆ¶ç¯‡"><a class="header-anchor" href="#é«˜çº§å®šåˆ¶ç¯‡">Â¶</a>é«˜çº§å®šåˆ¶ç¯‡</h1><h2 id="1-è‡ªå®šä¹‰é¦–é¡µæ‘˜è¦å›¾ç‰‡å’Œæ‘˜è¦æè¿°"><a class="header-anchor" href="#1-è‡ªå®šä¹‰é¦–é¡µæ‘˜è¦å›¾ç‰‡å’Œæ‘˜è¦æè¿°">Â¶</a>1. è‡ªå®šä¹‰é¦–é¡µæ‘˜è¦å›¾ç‰‡å’Œæ‘˜è¦æè¿°</h2><h3 id="1-æ¦‚è¿°"><a class="header-anchor" href="#1-æ¦‚è¿°">Â¶</a>1) æ¦‚è¿°</h3><p>æ–‡ç« å°é¢çš„æ„æ€å°±æ˜¯ï¼šåœ¨åšå®¢é¦–é¡µçš„æ—¶å€™ä¼šæ˜¾ç¤ºæ–‡ç« çš„å°é¢å›¾ç‰‡å’Œæ‘˜è¦æè¿°ï¼Œè¿›å…¥è¿™ç¯‡æ–‡ç« çš„è¯¦ç»†é¡µé¢åï¼Œå°†ä¸æ˜¾ç¤ºè¿™å¼ å›¾ç‰‡å’Œæ‘˜è¦æè¿°ã€‚</p><p>å¦‚æœæƒ³æ·»åŠ æ–‡ç« å°é¢çš„è¯ï¼Œéœ€è¦æ·»åŠ å­—æ®µå±æ€§ï¼š<code>summary_img</code>ï¼Œ<code>summary_img</code>çš„å€¼æ˜¯å›¾ç‰‡çš„è·¯å¾„ã€‚</p><p>å¦‚æœæƒ³è¦æ·»åŠ æ‘˜è¦æè¿°çš„è¯ï¼Œå¯ä»¥æ·»åŠ å­—æ®µå±æ€§ï¼š<code>summary_description</code> ï¼Œ<code>summary_description</code> çš„å€¼æ˜¯æè¿°çš„å†…å®¹ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: CSS å„ç§Hackæ‰‹æ®µ</span><br><span class="line">date: 2017-06-25 03:25:24</span><br><span class="line">categories: å‰ç«¯</span><br><span class="line">tags: [CSS]</span><br><span class="line">comments: false</span><br><span class="line">summary_img: /images/css-hack-1.png</span><br><span class="line">summary_description: å°é¢æ‘˜è¦æè¿°ï¼Œäº†è§£ä¸€ä¸‹ï¼</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h3 id="2-å…·ä½“å®ç°"><a class="header-anchor" href="#2-å…·ä½“å®ç°">Â¶</a>2) å…·ä½“å®ç°</h3><p>ä¿®æ”¹ <code>myblog/themes/next/layout/_macro/post.swig</code> æ–‡ä»¶ã€‚<br>å°†ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è‡ªå®šä¹‰æ‘˜è¦å›¾ç‰‡å¼€å§‹ --&gt;</span></span><br><span class="line"> &#123;% if post.summary_img  %&#125;</span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"out-img-topic"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#123;&#123;</span> <span class="attr">post.summary_img</span> &#125;&#125; <span class="attr">class</span>=<span class="string">"img-topic"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> &#123;% endif %&#125;</span><br><span class="line"> <span class="comment">&lt;!-- è‡ªå®šä¹‰æ‘˜è¦å›¾ç‰‡ç»“æŸ --&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- è‡ªå®šä¹‰æ‘˜è¦æè¿°å¼€å§‹ --&gt;</span></span><br><span class="line"> &#123;% if post.summary_description  %&#125;</span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-button text-center"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; post.summary_description &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> &#123;% endif %&#125;</span><br><span class="line"> <span class="comment">&lt;!-- è‡ªå®šä¹‰æ‘˜è¦æè¿°ç»“æŸ --&gt;</span></span><br></pre></td></tr></table></figure><p>æ·»åŠ åˆ°ä»¥ä¸‹æ‰€ç¤ºçš„ä½ç½®</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">  &#123;% if is_index %&#125;</span><br><span class="line">    <span class="comment">&lt;!-- è‡ªå®šä¹‰æ‘˜è¦å›¾ç‰‡å¼€å§‹ --&gt;</span></span><br><span class="line">    &#123;% if post.summary_img  %&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"out-img-topic"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#123;&#123;</span> <span class="attr">post.summary_img</span> &#125;&#125; <span class="attr">class</span>=<span class="string">"img-topic"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">    <span class="comment">&lt;!-- è‡ªå®šä¹‰æ‘˜è¦å›¾ç‰‡ç»“æŸ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è‡ªå®šä¹‰æ‘˜è¦æè¿°å¼€å§‹ --&gt;</span></span><br><span class="line">    &#123;% if post.summary_description  %&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-button text-center"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; post.summary_description &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">    <span class="comment">&lt;!-- è‡ªå®šä¹‰æ‘˜è¦æè¿°ç»“æŸ --&gt;</span></span><br><span class="line">    &#123;% if post.description and theme.excerpt_description %&#125;</span><br><span class="line">      &#123;&#123; post.description &#125;&#125;</span><br><span class="line">      <span class="comment">&lt;!--noindex--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-button text-center"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(post.path) &#125;&#125;"</span>&gt;</span></span><br><span class="line">          &#123;&#123; __('post.read_more') &#125;&#125; Â»</span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--/noindex--&gt;</span></span><br><span class="line">    &#123;% elif post.excerpt  %&#125;</span><br><span class="line">      &#123;&#123; post.excerpt &#125;&#125;</span><br><span class="line">      <span class="comment">&lt;!--noindex--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-button text-center"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(post.path) &#125;&#125;&#123;% if theme.scroll_to_more %&#125;#&#123;&#123; __('post.more') &#125;&#125;&#123;% endif %&#125;"</span> <span class="attr">rel</span>=<span class="string">"contents"</span>&gt;</span></span><br><span class="line">          &#123;&#123; __('post.read_more') &#125;&#125; Â»</span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--/noindex--&gt;</span></span><br><span class="line">    &#123;% elif theme.auto_excerpt.enable %&#125;</span><br><span class="line">      &#123;% set content = post.content | striptags %&#125;</span><br><span class="line">      &#123;&#123; content.substring(0, theme.auto_excerpt.length) &#125;&#125;</span><br><span class="line">      &#123;% if content.length &gt; theme.auto_excerpt.length %&#125;...&#123;% endif %&#125;</span><br><span class="line">      <span class="comment">&lt;!--noindex--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-button text-center"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(post.path) &#125;&#125;&#123;% if theme.scroll_to_more %&#125;#&#123;&#123; __('post.more') &#125;&#125;&#123;% endif %&#125;"</span> <span class="attr">rel</span>=<span class="string">"contents"</span>&gt;</span></span><br><span class="line">          &#123;&#123; __('post.read_more') &#125;&#125; Â»</span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--/noindex--&gt;</span></span><br><span class="line">    &#123;% else %&#125;</span><br><span class="line">      &#123;% if post.type === 'picture' %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(post.path) &#125;&#125;"</span>&gt;</span>&#123;&#123; post.content &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      &#123;% else %&#125;</span><br><span class="line">        &#123;&#123; post.content &#125;&#125;</span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">  &#123;% else %&#125;</span><br><span class="line">    &#123;&#123; post.content &#125;&#125;</span><br><span class="line">  &#123;% endif  %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;#####################&#125;</span><br><span class="line">&#123;### END POST BODY ###&#125;</span><br><span class="line">&#123;#####################&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·çš„è¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>summary_img: imageurl</code> å’Œ <code>summary_description: description demo</code>æ¥è®¾ç½®æ–‡ç« å°é¢å’Œæ‘˜è¦æè¿°äº†ã€‚</p><blockquote><p>ğŸ’¡å»ºè®®ï¼š</p><p>å¼€å¯äº†æ–‡ç« å°é¢å’Œæ‘˜è¦æè¿°çš„æ–‡ç« ï¼Œæˆ‘å»ºè®®å°† <code>&lt;!-- more --&gt;</code> æ”¾åœ¨æ–‡ç« æ­£æ–‡å†…å®¹çš„å¼€å¤´ã€‚</p><p>ä¸ºäº†é€‚åº”ä¸åŒå¤§å°çš„å›¾ç‰‡ï¼Œæ‘˜è¦å›¾ç‰‡çš„æ ·å¼éœ€è¦åšä¸€ä¸‹è°ƒæ•´ã€‚åœ¨ <code>myblog/themes/next/source/css/_custom/custom.styl</code>ä¸­æ·»åŠ ä»¥ä¸‹æ ·å¼ä»£ç ï¼š</p></blockquote><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¼©ç•¥å›¾æŒ‡å®šå®½åº¦å€¼æ˜¾ç¤ºã€‚</span></span><br><span class="line"><span class="selector-tag">img</span><span class="selector-class">.img-topic</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">75%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœå¸Œæœ›hexoé»˜è®¤descriptionä¹Ÿå’Œsummary_descriptionå±…ä¸­æ˜¾ç¤ºï¼ŒåŒæ ·ä¿®æ”¹ <code>myblog/themes/next/layout/_macro/post.swig</code> æ–‡ä»¶ã€‚æ‰¾åˆ°ä»¥ä¸‹ä»£ç ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if post.description and theme.excerpt_description %&#125;</span><br><span class="line">  &#123;&#123; post.description &#125;&#125;</span><br><span class="line">  <span class="comment">&lt;!--noindex--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-button text-center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(post.path) &#125;&#125;"</span>&gt;</span></span><br><span class="line">      &#123;&#123; __('post.read_more') &#125;&#125; Â»</span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--/noindex--&gt;</span></span><br><span class="line">&#123;% elif post.excerpt  %&#125;</span><br></pre></td></tr></table></figure><p>å°†ä»¥ä¸Šä»£ç æ”¹æˆï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if post.description and theme.excerpt_description %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-button text-center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; post.description &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--noindex--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-button text-center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(post.path) &#125;&#125;"</span>&gt;</span></span><br><span class="line">      &#123;&#123; __('post.read_more') &#125;&#125; Â»</span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--/noindex--&gt;</span></span><br><span class="line">&#123;% elif post.excerpt  %&#125;</span><br></pre></td></tr></table></figure><h3 id="3-ä¼˜åŒ–é¦–é¡µæ‘˜è¦æ ·å¼"><a class="header-anchor" href="#3-ä¼˜åŒ–é¦–é¡µæ‘˜è¦æ ·å¼">Â¶</a>3) ä¼˜åŒ–é¦–é¡µæ‘˜è¦æ ·å¼</h3><p>ä¸ºäº†å‡å°é¦–é¡µæ‘˜è¦æ–‡å­—çš„å¤§å°ï¼Œä½¿å¾—èƒ½å¤Ÿæ›´ç¾è§‚ï¼Œå¯é€šè¿‡ä¸‹é¢æ­¥éª¤ä¿®æ”¹ï¼š</p><p>ç¼–è¾‘ <code>themes/next/layout/_macro/post.swig</code>ã€‚åŠ å…¥å¦‚ä¸‹divã€‚</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if is_index %&#125;</span><br><span class="line"><span class="addition">+        &lt;div class="index-content"&gt;</span></span><br><span class="line">          &lt;!-- è‡ªå®šä¹‰æ‘˜è¦å›¾ç‰‡å¼€å§‹ --&gt;</span><br><span class="line">          &#123;% if post.summary_img  %&#125;</span><br><span class="line">            &lt;div class="out-img-topic"&gt;</span><br><span class="line">              &lt;img src=&#123;&#123; post.summary_img &#125;&#125; class="img-topic"&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">          &#123;% endif %&#125;</span><br><span class="line">          &lt;!-- è‡ªå®šä¹‰æ‘˜è¦å›¾ç‰‡ç»“æŸ --&gt;</span><br><span class="line">            å…¶ä»–å†…å®¹</span><br><span class="line">            å…¶ä»–å†…å®¹</span><br><span class="line">            ......</span><br><span class="line">            &#123;% if post.type <span class="comment">=== 'picture' %&#125;</span></span><br><span class="line">              &lt;a href="&#123;&#123; url_for(post.path) &#125;&#125;"&gt;&#123;&#123; post.content &#125;&#125;&lt;/a&gt;</span><br><span class="line">            &#123;% else %&#125;</span><br><span class="line">              &#123;&#123; post.content &#125;&#125;</span><br><span class="line">            &#123;% endif %&#125;</span><br><span class="line">          &#123;% endif %&#125;</span><br><span class="line"><span class="addition">+        &lt;/div&gt;</span></span><br><span class="line">      &#123;% else %&#125;</span><br><span class="line">        &#123;&#123; post.content &#125;&#125;</span><br><span class="line">      &#123;% endif  %&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åç¼–è¾‘ <code>themes/next/source/css/_custom/custom.styl</code>å¹¶åŠ å…¥å¦‚ä¸‹æ ·å¼ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‘˜è¦æ–‡å­—</span></span><br><span class="line"><span class="selector-class">.index-content</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-ä¼˜åŒ–æ ‡ç­¾äº‘é¡µé¢"><a class="header-anchor" href="#2-ä¼˜åŒ–æ ‡ç­¾äº‘é¡µé¢">Â¶</a>2. ä¼˜åŒ–æ ‡ç­¾äº‘é¡µé¢</h2><p>æ–°å»º <code>themes/next/layout/tag-color.swig</code>æ–‡ä»¶ï¼Œæ‹·è´å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">    &#123;########å½©è‰²æ ‡ç­¾äº‘##########&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> alltags = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'tag-cloud-tags'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> tags = alltags[<span class="number">0</span>].getElementsByTagName(<span class="string">'a'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; tags.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">//console.log(tags[i]);</span></span></span><br><span class="line"><span class="actionscript">      <span class="comment">//é»˜è®¤nextä¼šæ ¹æ®æ–‡ç« çš„æ•°é‡ç¡®å®šaæ ‡ç­¾å­—çš„å¤§å°ï¼Œè¿™é‡ŒæŠŠå­—ä½“ä¿®æ”¹æˆç»Ÿä¸€å¤§å°</span></span></span><br><span class="line"><span class="actionscript">      tags[i].style.background = <span class="string">"rgb(67, 67, 67)"</span>;</span></span><br><span class="line"><span class="actionscript">      tags[i].style.fontSize = <span class="string">"13px"</span>;</span></span><br><span class="line"><span class="actionscript">      tags[i].style.color = <span class="string">"#ddd"</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.tag-cloud-tags</span>&#123;</span></span><br><span class="line">    text-align: center;</span><br><span class="line">    counter-reset: tags;</span><br><span class="line">    margin-bottom: 20px;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.tag-cloud-tags</span> <span class="selector-tag">a</span>&#123;</span></span><br><span class="line">    border-radius: 6px;</span><br><span class="line">    padding-right: 5px;</span><br><span class="line">    padding-left: 5px;</span><br><span class="line">    margin: 8px 5px 0px 0px;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.tag-cloud-tags</span> <span class="selector-tag">a</span><span class="selector-pseudo">:before</span>&#123;</span></span><br><span class="line">    content: "ğŸ”–";</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.tag-cloud-tags</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="css">     <span class="selector-tag">box-shadow</span>: 0<span class="selector-tag">px</span> 5<span class="selector-tag">px</span> 15<span class="selector-tag">px</span> 0<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0,0,0,<span class="selector-class">.4</span>);</span></span><br><span class="line"><span class="css">     <span class="selector-tag">transform</span>: <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line"><span class="css">     <span class="selector-tag">transition-duration</span>: 0<span class="selector-class">.15s</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨ <code>themes/next/layout/page.swig</code>é‡Œå¼•å…¥ <code>tag-color.swig</code>ã€‚</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">        &#123;# tagcloud page support #&#125;</span><br><span class="line">        &#123;% if page.type <span class="comment">=== "tags" %&#125;</span></span><br><span class="line">          &lt;div class="tag-cloud"&gt;</span><br><span class="line">            &lt;div class="tag-cloud-title"&gt;</span><br><span class="line">                &#123;&#123; _p('counter.tag_cloud', site.tags.length) &#125;&#125;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div class="tag-cloud-tags"&gt;</span><br><span class="line">              &#123;&#123; tagcloud(&#123;min_font: 12, max_font: 30, amount: 300, color: true, start_color: '#ccc', end_color: '#111'&#125;) &#125;&#125;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="addition">+        &#123;########å½©è‰²æ ‡ç­¾äº‘##########&#125;</span></span><br><span class="line"><span class="addition">+        &#123;% include 'tag-color.swig' %&#125;</span></span><br><span class="line"></span><br><span class="line">        &#123;% elif page.type <span class="comment">=== 'categories' %&#125;</span></span><br><span class="line">          &lt;div class="category-all-page"&gt;</span><br></pre></td></tr></table></figure><h2 id="3-æ·»åŠ 404é¡µé¢"><a class="header-anchor" href="#3-æ·»åŠ 404é¡µé¢">Â¶</a>3. æ·»åŠ 404é¡µé¢</h2><p>æ–°å»ºæ–‡ä»¶ï¼š<code>themes/next/source/404.html</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æµè§ˆå™¨æ ‡ç­¾å›¾æ ‡ï¼Œæ­¤å¤„éœ€è¦åœ¨themes/next/source/imagesä¸­åŠ å…¥favicon.jpgå›¾ç‰‡ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"/images/favicon.jpg"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>404å“Ÿ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line">      body &#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">background-color</span>: <span class="selector-id">#ececec</span>;</span></span><br><span class="line">        font-family: "Open Sans", sans-serif;</span><br><span class="line">        font-size: 14px;</span><br><span class="line"><span class="css">        <span class="selector-tag">color</span>: <span class="selector-id">#3c3c3c</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">      <span class="selector-class">.demo</span> <span class="selector-tag">p</span><span class="selector-pseudo">:first-child</span> &#123;</span></span><br><span class="line">        text-align: center;</span><br><span class="line">        font-family: cursive;</span><br><span class="line">        font-size: 150px;</span><br><span class="line">        font-weight: bold;</span><br><span class="line">        line-height: 100px;</span><br><span class="line">        letter-spacing: 5px;</span><br><span class="line"><span class="css">        <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">      <span class="selector-class">.demo</span> <span class="selector-tag">p</span><span class="selector-pseudo">:first-child</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">        cursor: pointer;</span><br><span class="line"><span class="css">        <span class="selector-tag">text-shadow</span>: 0<span class="selector-tag">px</span> 0<span class="selector-tag">px</span> 2<span class="selector-tag">px</span> <span class="selector-id">#686868</span>, 0<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-id">#ddd</span>, 0<span class="selector-tag">px</span> 2<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-id">#d6d6d6</span>,</span></span><br><span class="line"><span class="css">          0<span class="selector-tag">px</span> 3<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-id">#ccc</span>, 0<span class="selector-tag">px</span> 4<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-id">#c5c5c5</span>, 0<span class="selector-tag">px</span> 5<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-id">#c1c1c1</span>,</span></span><br><span class="line"><span class="css">          0<span class="selector-tag">px</span> 6<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-id">#bbb</span>, 0<span class="selector-tag">px</span> 7<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-id">#777</span>,</span></span><br><span class="line"><span class="css">          0<span class="selector-tag">px</span> 8<span class="selector-tag">px</span> 3<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(100, 100, 100, 0<span class="selector-class">.4</span>),</span></span><br><span class="line"><span class="css">          0<span class="selector-tag">px</span> 9<span class="selector-tag">px</span> 5<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(100, 100, 100, 0<span class="selector-class">.1</span>),</span></span><br><span class="line"><span class="css">          0<span class="selector-tag">px</span> 10<span class="selector-tag">px</span> 7<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(100, 100, 100, 0<span class="selector-class">.15</span>),</span></span><br><span class="line"><span class="css">          0<span class="selector-tag">px</span> 11<span class="selector-tag">px</span> 9<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(100, 100, 100, 0<span class="selector-class">.2</span>),</span></span><br><span class="line"><span class="css">          0<span class="selector-tag">px</span> 12<span class="selector-tag">px</span> 11<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(100, 100, 100, 0<span class="selector-class">.25</span>),</span></span><br><span class="line"><span class="css">          0<span class="selector-tag">px</span> 13<span class="selector-tag">px</span> 15<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(100, 100, 100, 0<span class="selector-class">.3</span>);</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transition</span>: <span class="selector-tag">all</span> 0<span class="selector-class">.1s</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">transition</span>: <span class="selector-tag">all</span> 0<span class="selector-class">.1s</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">      <span class="selector-class">.demo</span> <span class="selector-tag">p</span><span class="selector-pseudo">:first-child</span> <span class="selector-tag">span</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">text-shadow</span>: 0<span class="selector-tag">px</span> 0<span class="selector-tag">px</span> 2<span class="selector-tag">px</span> <span class="selector-id">#686868</span>, 0<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-id">#fff</span>, 0<span class="selector-tag">px</span> 2<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-id">#fff</span>,</span></span><br><span class="line"><span class="css">          0<span class="selector-tag">px</span> 3<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-id">#fff</span>, 0<span class="selector-tag">px</span> 4<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-id">#fff</span>, 0<span class="selector-tag">px</span> 5<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-id">#fff</span>, 0<span class="selector-tag">px</span> 6<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-id">#fff</span>,</span></span><br><span class="line"><span class="css">          0<span class="selector-tag">px</span> 7<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-id">#777</span>, 0<span class="selector-tag">px</span> 8<span class="selector-tag">px</span> 3<span class="selector-tag">px</span> <span class="selector-id">#fff</span>, 0<span class="selector-tag">px</span> 9<span class="selector-tag">px</span> 5<span class="selector-tag">px</span> <span class="selector-id">#fff</span>,</span></span><br><span class="line"><span class="css">          0<span class="selector-tag">px</span> 10<span class="selector-tag">px</span> 7<span class="selector-tag">px</span> <span class="selector-id">#fff</span>, 0<span class="selector-tag">px</span> 11<span class="selector-tag">px</span> 9<span class="selector-tag">px</span> <span class="selector-id">#fff</span>, 0<span class="selector-tag">px</span> 12<span class="selector-tag">px</span> 11<span class="selector-tag">px</span> <span class="selector-id">#fff</span>,</span></span><br><span class="line"><span class="css">          0<span class="selector-tag">px</span> 13<span class="selector-tag">px</span> 15<span class="selector-tag">px</span> <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transition</span>: <span class="selector-tag">all</span> 0<span class="selector-class">.1s</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">transition</span>: <span class="selector-tag">all</span> 0<span class="selector-class">.1s</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">      <span class="selector-class">.demo</span> <span class="selector-tag">p</span><span class="selector-pseudo">:not(</span><span class="selector-pseudo">:first-child)</span> &#123;</span></span><br><span class="line">        text-align: center;</span><br><span class="line"><span class="css">        <span class="selector-tag">color</span>: <span class="selector-id">#666</span>;</span></span><br><span class="line">        font-family: cursive;</span><br><span class="line">        font-size: 20px;</span><br><span class="line"><span class="css">        <span class="selector-tag">text-shadow</span>: 0 1<span class="selector-tag">px</span> 0 <span class="selector-id">#fff</span>;</span></span><br><span class="line">        letter-spacing: 1px;</span><br><span class="line">        line-height: 2em;</span><br><span class="line">        margin-top: -50px;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"demo"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>4<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>4<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¯¥é¡µé¢ä¸å­˜åœ¨(Â´ï½¥Ï‰ï½¥`)<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>éƒ¨ç½²æœåŠ¡å™¨åï¼Œè®¿é—®ä¸å­˜åœ¨çš„èµ„æºæ—¶å³å¯æ‰“å¼€ 404 é¡µé¢ã€‚</p><p>æ³¨æ„ï¼šä¸èƒ½é€šè¿‡æœ¬åœ° localhost è®¿é—®ï¼Œè¦éƒ¨ç½²åé€šè¿‡è‡ªå·±åŸŸåæ¥è®¿é—®ã€‚</p></blockquote><h2 id="4-æ·»åŠ æœ€è¿‘æ–‡ç« æ ç›®"><a class="header-anchor" href="#4-æ·»åŠ æœ€è¿‘æ–‡ç« æ ç›®">Â¶</a>4. æ·»åŠ æœ€è¿‘æ–‡ç« æ ç›®</h2><p>ç¼–è¾‘ <code>myblog/themes/next/layout/_macro/sidebar.swig</code> ã€‚æ‰¾åˆ° <code>theme.social</code>æ¿å—ä»£ç ï¼Œåœ¨è¯¥æ¿å—æœ€åçš„ <code>endif</code>åéš”ä¸€è¡Œæ·»åŠ å¦‚ä¸‹ä»£ç ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;# recent posts #&#125;</span><br><span class="line">&#123;% if theme.recent_posts %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"links-of-blogroll motion-element &#123;&#123; "</span><span class="attr">links-of-blogroll-</span>" + <span class="attr">theme.recent_posts_layout</span>  &#125;&#125;"&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"links-of-blogroll-title"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- modify icon to fire by szw --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-history fa-&#123;&#123; theme.recent_posts_icon | lower &#125;&#125;"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      &#123;&#123; theme.recent_posts_title &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"links-of-blogroll-list"</span>&gt;</span></span><br><span class="line">      &#123;% set posts = site.posts.sort('-date') %&#125;</span><br><span class="line">      &#123;% for post in posts.slice('0', '5') %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"recent_posts_li"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(post.path) &#125;&#125;"</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; post.title &#125;&#125;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      &#123;% endfor %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>å†ç¼–è¾‘ <code>myblog/themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl</code></p><p>åœ¨æ–‡ä»¶æœ€åæ·»åŠ å¦‚ä¸‹æ ·å¼ä»£ç </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">li</span><span class="selector-class">.recent_posts_li</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">word-break</span>: keep-all;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>myblog/themes/next/_config.yml</code>,æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">recent_posts_title:</span> <span class="string">è¿‘æœŸæ–‡ç« </span></span><br><span class="line"><span class="attr">recent_posts_layout:</span> <span class="string">block</span></span><br><span class="line"><span class="attr">recent_posts:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="5-è‡ªå®šä¹‰å‹æƒ…é“¾æ¥é¡µé¢"><a class="header-anchor" href="#5-è‡ªå®šä¹‰å‹æƒ…é“¾æ¥é¡µé¢">Â¶</a>5. è‡ªå®šä¹‰å‹æƒ…é“¾æ¥é¡µé¢</h2><h3 id="æ–¹æ¡ˆ1-çº¯é™æ€æ–‡ä»¶"><a class="header-anchor" href="#æ–¹æ¡ˆ1-çº¯é™æ€æ–‡ä»¶">Â¶</a>æ–¹æ¡ˆ1 çº¯é™æ€æ–‡ä»¶</h3><p>åˆ›å»º <code>myblog/source/links-falls/index.md</code></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: å‹æƒ…é“¾æ¥</span><br><span class="line">date: 2020-02-18 22:32:49</span><br><span class="line">no_toc: true</span><br><span class="line">comments: true</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- more --&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;meta charset="UTF-8"&gt;</span></span><br><span class="line"><span class="code">    &lt;link rel="stylesheet" href="/static/links-falls/link.css"&gt;</span></span><br><span class="line"><span class="code">    &lt;script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">    &lt;script src="/static/links-falls/link.js" type="text/javascript"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;div&gt;</span></span><br><span class="line"><span class="code">        &lt;div class="links-content"&gt;</span></span><br><span class="line"><span class="code">            &lt;div class="link-navigation"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="code">        &lt;/div&gt;</span></span><br><span class="line"><span class="code">    &lt;/div&gt;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;"</span>&gt;</span></span></span><br><span class="line"><span class="code">	&lt;span class="with-love" id="animate1"&gt;&lt;i class="fa fa-heart"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="code">	ç•™è¨€äº’æ¢å‹é“¾é¸­</span></span><br><span class="line"><span class="code">	&lt;span class="with-love" id="animate2"&gt;&lt;i class="fa fa-heart"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">&#123;% note success %&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">## å‹é“¾æ ¼å¼</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">- </span>æ˜µç§°ï¼šexample</span><br><span class="line"><span class="bullet">- </span>ç½‘ç«™åœ°å€ï¼šhttps://example.com</span><br><span class="line"><span class="bullet">- </span>ç½‘ç«™Logoï¼šhttps://example.com/logo.jpg</span><br><span class="line"></span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>myblog/source/static/</code>ç›®å½•åˆ†åˆ«åˆ›å»ºæ–‡ä»¶</p><p><code>linklist.json</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"nickname"</span>: <span class="string">"example1"</span>,</span><br><span class="line">    <span class="attr">"avatar"</span>: <span class="string">"https://example.com/logo.jpg"</span>,</span><br><span class="line">    <span class="attr">"site"</span>: <span class="string">"https://example.com"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"nickname"</span>: <span class="string">"example2"</span>,</span><br><span class="line">    <span class="attr">"avatar"</span>: <span class="string">"https://example.com/logo.jpg"</span>,</span><br><span class="line">    <span class="attr">"site"</span>: <span class="string">"https://example.com"</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><blockquote><p>æ·»åŠ å‹é“¾çš„è¯ï¼Œåªè¦åœ¨è¿™ä¸ªjsonæ–‡ä»¶é‡Œæ·»åŠ æ•°æ®å³å¯ã€‚</p></blockquote><p><code>link.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  link = &#123;</span><br><span class="line">    init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> that = <span class="keyword">this</span>;</span><br><span class="line">      <span class="comment">/*åŠ è½½ linklist.json æ–‡ä»¶è·¯å¾„*/</span></span><br><span class="line">      $.getJSON(<span class="string">"/static/links-falls/linklist.json"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">        that.render(data);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    render: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">let</span> html,</span><br><span class="line">        nickname,</span><br><span class="line">        avatar,</span><br><span class="line">        site,</span><br><span class="line">        li = <span class="string">""</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">        nickname = data[i].nickname;</span><br><span class="line">        avatar = data[i].avatar;</span><br><span class="line">        site = data[i].site;</span><br><span class="line">        <span class="comment">// å°†æ•°æ®æ‹¼æ¥æˆhtml</span></span><br><span class="line">        li +=</span><br><span class="line">          <span class="string">'&lt;div class="card"&gt;'</span> </span><br><span class="line">              +<span class="string">'&lt;a href="'</span> +site +<span class="string">'" target="_blank"&gt;'</span> +<span class="string">'&lt;div class="thumb" style="background: url( '</span> + avatar +<span class="string">');"&gt;'</span> +<span class="string">"&lt;/div&gt;"</span> + <span class="string">"&lt;/a&gt;"</span> </span><br><span class="line">              +<span class="string">'&lt;div class="card-header"&gt;'</span> +<span class="string">'&lt;span class="card-site-nickname"&gt;&lt;a href="'</span> +site +<span class="string">'" target="_blank"&gt;'</span> +nickname +<span class="string">"&lt;/a&gt;&lt;/span&gt;"</span> +<span class="string">"&lt;/div&gt;"</span> +</span><br><span class="line">          <span class="string">"&lt;/div&gt;"</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      $(<span class="string">".link-navigation"</span>).append(li);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">  link.init();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>link.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.links-content</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">1rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.link-navigation</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">" "</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.5rem</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">transition-duration</span>: <span class="number">0.15s</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">6px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.12</span>);</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f5f5f5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.card</span> &#123;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">6px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.12</span>), <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.04</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card</span> <span class="selector-class">.thumb</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.posts-expand</span> <span class="selector-class">.post-body</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card</span> <span class="selector-class">.card-header</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1rem</span> <span class="number">0.25rem</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">white-space</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card</span> <span class="selector-class">.card-header</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#2bbc8a</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card</span> <span class="selector-class">.card-header</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#d480aa</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-site-nickname</span> &#123;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap; <span class="comment">/*å¼ºåˆ¶spanä¸æ¢è¡Œ*/</span></span><br><span class="line">  <span class="attribute">display</span>: inline-block; <span class="comment">/*å°†spanå½“åšå—çº§å…ƒç´ å¯¹å¾…*/</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>; <span class="comment">/*é™åˆ¶å®½åº¦*/</span></span><br><span class="line">  <span class="attribute">overflow</span>: hidden; <span class="comment">/*è¶…å‡ºå®½åº¦éƒ¨åˆ†éšè—*/</span></span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis; <span class="comment">/*è¶…å‡ºéƒ¨åˆ†ä»¥ç‚¹å·ä»£æ›¿*/</span></span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">0.9</span>; <span class="comment">/*æ•°å­—ä¸ä¹‹å‰çš„æ–‡å­—å¯¹é½*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-site-nickname</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: visible; <span class="comment">/* å†…å®¹æ˜¾ç¤ºåœ¨å…ƒç´ æ¡†å¤–é¢ */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦åœ¨ <code>myblog/_config.yml</code>ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œè¡¨ç¤ºä¸è¿›è¡Œæ¸²æŸ“çš„ç›®å½•æˆ–è€…æ–‡ä»¶</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">static/**</span></span><br></pre></td></tr></table></figure><p>æœ€åä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>themes/next/_config.xml</code>æ–‡ä»¶ï¼ŒæŠŠé“¾æ¥åŠ å…¥åˆ°èœå•æ </p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  categories: /categories/ || th</span><br><span class="line">  tags: /tags/ || tags</span><br><span class="line">  archives: /archives/ || archive</span><br><span class="line"><span class="addition">+ links: /links-falls/ || link</span></span><br><span class="line">  about: /about/ || user</span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/image-20200220155325572.png" alt="image-20200220155325572"></p><h3 id="æ–¹æ¡ˆ2-æ¨¡æ¿å¼•æ“swig"><a class="header-anchor" href="#æ–¹æ¡ˆ2-æ¨¡æ¿å¼•æ“swig">Â¶</a>æ–¹æ¡ˆ2 æ¨¡æ¿å¼•æ“swig</h3><p>æ–°å»º <code>themes/next/layout/links.swig</code>æ–‡ä»¶ï¼Œå¹¶å¤åˆ¶ç²˜è´´ä»¥ä¸‹å†…å®¹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block content %&#125;</span><br><span class="line">  &#123;######################&#125;</span><br><span class="line">  &#123;### LINKS BLOCK ###&#125;</span><br><span class="line">  &#123;######################&#125;</span><br><span class="line">  </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"links"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">div</span><span class="selector-id">#links</span> &#123;</span></span><br><span class="line">                margin-top: 20px;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/* ä¸¤åˆ— */</span></span></span><br><span class="line">                /* width: 35%;</span><br><span class="line">                padding: 10px 20px; */</span><br><span class="line"></span><br><span class="line"><span class="css">                <span class="comment">/* ä¸‰åˆ— */</span></span></span><br><span class="line">                width: 30%;</span><br><span class="line">                padding: 10px 11px;</span><br><span class="line">                margin: auto 6px;</span><br><span class="line"></span><br><span class="line"><span class="css">                <span class="comment">/* å››åˆ— */</span></span></span><br><span class="line">                /* width: 20%;</span><br><span class="line">                padding: 10px 20px; */</span><br><span class="line"></span><br><span class="line">                font-size: 1rem;</span><br><span class="line">                border-radius: 4px;</span><br><span class="line"><span class="css">                <span class="selector-tag">transition-duration</span>: 0<span class="selector-class">.15s</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">box-shadow</span>: 0<span class="selector-tag">px</span> 0<span class="selector-tag">px</span> 3<span class="selector-tag">px</span> 0<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.12</span>);</span></span><br><span class="line">                margin-bottom: 1rem;</span><br><span class="line"><span class="css">                <span class="selector-tag">background</span>: <span class="selector-id">#f5f5f5</span>;</span></span><br><span class="line">                display: flex;</span><br><span class="line">                float: left;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="comment">/* pc ç¼©æ”¾100% */</span></span></span><br><span class="line"><span class="css">            <span class="keyword">@media</span> (<span class="attribute">min-width:</span> <span class="number">1600px</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-class">.card</span>&#123;</span></span><br><span class="line">                    width: 29%;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="comment">/* pc ç¼©æ”¾125%*/</span></span></span><br><span class="line"><span class="css">            <span class="keyword">@media</span> (<span class="attribute">min-width:</span> <span class="number">1024px</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-class">.main-inner</span> &#123;</span></span><br><span class="line">                    width: 1024px;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="css">                <span class="selector-class">.links-content</span> &#123;</span></span><br><span class="line">                    margin-top: 1rem;</span><br><span class="line">                    width: 100%;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="css">                <span class="selector-class">.link-navigation</span><span class="selector-pseudo">::after</span> &#123;</span></span><br><span class="line">                    content: " ";</span><br><span class="line">                    display: block;</span><br><span class="line">                    clear: both;</span><br><span class="line">                &#125;</span><br><span class="line">                /* .card:nth-child(odd) &#123;</span><br><span class="line">                    float: left;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="css">                <span class="selector-class">.card</span><span class="selector-pseudo">:nth-child(even)</span> &#123;</span></span><br><span class="line">                    float: right;</span><br><span class="line">                &#125; */</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="comment">/* ipad pro */</span></span></span><br><span class="line"><span class="css">            <span class="keyword">@media</span> (<span class="attribute">max-width:</span> <span class="number">1024px</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-class">.card</span> &#123;</span></span><br><span class="line">                    width: 30%;</span><br><span class="line">                    padding: 10px 11px;</span><br><span class="line">                    margin: 0 6px 1rem 6px;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="keyword">@media</span> (<span class="attribute">max-width:</span> <span class="number">1023px</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-class">.main-inner</span> &#123;</span></span><br><span class="line">                    width: unset;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="css">                <span class="selector-class">.card</span> &#123;</span></span><br><span class="line">                    margin-left: 5rem;</span><br><span class="line">                    width: 85%;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="css">                <span class="selector-class">.links-content</span> &#123;</span></span><br><span class="line">                    width: unset;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="css">                <span class="selector-class">.card</span><span class="selector-pseudo">:nth-child(odd)</span> &#123;</span></span><br><span class="line">                    float: none;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="css">                <span class="selector-class">.card</span><span class="selector-pseudo">:nth-child(even)</span> &#123;</span></span><br><span class="line">                    float: none;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="comment">/* ipad */</span></span></span><br><span class="line"><span class="css">            <span class="keyword">@media</span> (<span class="attribute">max-width:</span> <span class="number">768px</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-class">.card</span> &#123;</span></span><br><span class="line">                    margin-left: 4rem;</span><br><span class="line">                    width: 80%;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="comment">/* iphone7/7 plus */</span></span></span><br><span class="line"><span class="css">            <span class="keyword">@media</span> (<span class="attribute">max-width:</span> <span class="number">767px</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-class">.card</span> &#123;</span></span><br><span class="line">                    margin-left: 2rem;</span><br><span class="line">                    width: 76%;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="comment">/* iphone 5/se */</span></span></span><br><span class="line"><span class="css">            <span class="keyword">@media</span> (<span class="attribute">max-width:</span> <span class="number">320px</span>) &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-class">.card</span> &#123;</span></span><br><span class="line">                    margin-left: 1rem;</span><br><span class="line">                    width: 82%;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.card</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/* transform: scale(1.1); */</span></span></span><br><span class="line"><span class="css">                <span class="selector-tag">box-shadow</span>: 0 2<span class="selector-tag">px</span> 6<span class="selector-tag">px</span> 0 <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.12</span>), 0 0 6<span class="selector-tag">px</span> 0 <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.04</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">                border: none;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-class">.ava</span> &#123;</span></span><br><span class="line">                width: 3rem !important;</span><br><span class="line">                height: 3rem !important;</span><br><span class="line">                margin: 0 !important;</span><br><span class="line">                margin-right: 1em !important;</span><br><span class="line">                border-radius: 50%;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-class">.card-header</span> &#123;</span></span><br><span class="line">                font-style: italic;</span><br><span class="line">                overflow: hidden;</span><br><span class="line">                width: 100%;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-class">.card-header</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">                font-style: normal;</span><br><span class="line">                font-weight: bold;</span><br><span class="line">                text-decoration: none;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-class">.card-header</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>: <span class="selector-id">#222</span>;</span></span><br><span class="line">                text-decoration: none;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-class">.card-header</span> <span class="selector-class">.info</span> &#123;</span></span><br><span class="line">                font-style: normal;</span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>: <span class="selector-id">#a3a3a3</span>;</span></span><br><span class="line">                font-size: 12px;</span><br><span class="line">                min-width: 0;</span><br><span class="line">                overflow: hidden;</span><br><span class="line">                white-space: nowrap;</span><br><span class="line">                text-overflow: ellipsis;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-tag">span</span><span class="selector-class">.focus-links</span> &#123;</span></span><br><span class="line">                font-style: normal;</span><br><span class="line">                margin-left: 10px;</span><br><span class="line">                position: unset;</span><br><span class="line">                left: 0;</span><br><span class="line">                padding: 0 7px 0 5px;</span><br><span class="line">                font-size: 11px;</span><br><span class="line">                border-radius: 40px;</span><br><span class="line">                line-height: 24px;</span><br><span class="line">                height: 22px;</span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>: <span class="selector-id">#fff</span> !<span class="selector-tag">important</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">background-color</span>: <span class="selector-id">#555</span>;</span></span><br><span class="line">                display: inline-block;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-tag">span</span><span class="selector-class">.focus-links</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">background-color</span>: <span class="selector-id">#222</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.friends-btn</span> &#123;</span></span><br><span class="line">                text-align: center;</span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>: <span class="selector-id">#555</span> !<span class="selector-tag">important</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">                border-radius: 3px;</span><br><span class="line">                font-size: 15px;</span><br><span class="line"><span class="css">                <span class="selector-tag">box-shadow</span>: <span class="selector-tag">inset</span> 0 0 10<span class="selector-tag">px</span> 0 <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.35</span>);</span></span><br><span class="line">                border: none !important;</span><br><span class="line">                transition-property: unset;</span><br><span class="line">                padding: 0 15px;</span><br><span class="line">                margin: inherit;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.friends-btn</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line">                color: rgb(255, 255, 255) !important;</span><br><span class="line">                border-radius: 3px;</span><br><span class="line">                font-size: 15px;</span><br><span class="line"><span class="css">                <span class="selector-tag">box-shadow</span>: <span class="selector-tag">inset</span> 0<span class="selector-tag">px</span> 0<span class="selector-tag">px</span> 10<span class="selector-tag">px</span> 0<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.35</span>);</span></span><br><span class="line">                background-image: linear-gradient(</span><br><span class="line">                    90deg,</span><br><span class="line"><span class="css">                    <span class="selector-id">#a166ab</span> 0%,</span></span><br><span class="line"><span class="css">                    <span class="selector-id">#ef4e7b</span> 25%,</span></span><br><span class="line"><span class="css">                    <span class="selector-id">#f37055</span> 50%,</span></span><br><span class="line"><span class="css">                    <span class="selector-id">#ef4e7b</span> 75%,</span></span><br><span class="line"><span class="css">                    <span class="selector-id">#a166ab</span> 100%</span></span><br><span class="line">                );</span><br><span class="line">                margin: inherit;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"links-content"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"link-navigation"</span>&gt;</span></span><br><span class="line">                &#123;% for link in theme.mylinks %&#125;</span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"ava"</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; link.avatar &#125;&#125;"</span> <span class="attr">style</span>=<span class="string">"border: none"</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card-header"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; link.site &#125;&#125;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span> &#123;&#123; link.nickname &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; link.site &#125;&#125;"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"focus-links"</span>&gt;</span>å…³æ³¨<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"info"</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; link.info &#125;&#125;"</span>&gt;</span>&#123;&#123; link.info &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                &#123;% endfor %&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            &#123;&#123; page.content &#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  &#123;##########################&#125;</span><br><span class="line">  &#123;### END LINKS BLOCK ###&#125;</span><br><span class="line">  &#123;##########################&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹ <code>themems/next/layout/page.swig</code>æ–‡ä»¶ï¼Œæ ¹æ®ä¸Šä¸‹æ–‡æ‰¾åˆ°ç›¸å…³ä½ç½®ç„¶åæ·»åŠ å¦‚ä¸‹ä¸¤å¤„ <code>+</code>å·ç›¸å…³çš„å†…å®¹ã€‚</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">  &#123;% block title %&#125;&#123;#</span><br><span class="line">  #&#125;&#123;% set page_title_suffix = ' | ' + config.title %&#125;&#123;#</span><br><span class="line"></span><br><span class="line">  #&#125;&#123;% if page.type <span class="comment">=== "categories" and not page.title %&#125;&#123;#</span></span><br><span class="line">    #&#125;&#123;&#123; __('title.category') + page_title_suffix &#125;&#125;&#123;#</span><br><span class="line">  #&#125;&#123;% elif page.type <span class="comment">=== "tags" and not page.title %&#125;&#123;#</span></span><br><span class="line">    #&#125;&#123;&#123; __('title.tag') + page_title_suffix &#125;&#125;&#123;#</span><br><span class="line"><span class="addition">+ &lt;!-- å‹æƒ…é“¾æ¥--&gt;</span></span><br><span class="line"><span class="addition">+ #&#125;&#123;% elif page.type === 'links' and not page.title %&#125;&#123;#</span></span><br><span class="line"><span class="addition">+   #&#125;&#123;&#123; __('title.links') + page_title_suffix &#125;&#125;&#123;#</span></span><br><span class="line">  #&#125;&#123;% else %&#125;&#123;#</span><br><span class="line">    #&#125;&#123;&#123; page.title + page_title_suffix &#125;&#125;&#123;#</span><br><span class="line">  #&#125;&#123;% endif %&#125;&#123;#</span><br><span class="line">#&#125;&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">    &#123;% elif page.type <span class="comment">=== 'categories' %&#125;</span></span><br><span class="line">      &lt;div class="category-all-page"&gt;</span><br><span class="line">        &lt;div class="category-all-title"&gt;</span><br><span class="line">            &#123;&#123; _p('counter.categories', site.categories.length) &#125;&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class="category-all"&gt;</span><br><span class="line">          &#123;&#123; list_categories() &#125;&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line"><span class="addition">+	&lt;!-- å‹æƒ…é“¾æ¥--&gt;</span></span><br><span class="line"><span class="addition">+   &#123;% elif page.type === 'links' %&#125;</span></span><br><span class="line"><span class="addition">+   	&#123;% include 'links.swig' %&#125;</span></span><br><span class="line">    &#123;% else %&#125;</span><br><span class="line">      &#123;&#123; page.content &#125;&#125;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">  &lt;/div&gt;</span><br></pre></td></tr></table></figure><p>æ–°å»º <code>hexo/source/links/index.md</code>å‹é“¾æ–‡ä»¶ï¼Œåœ¨æ ‡é¢˜å¤´ä¸­å†™å…¥ <code>type = &quot;links&quot;</code> è¿™ä¸ªå±æ€§å¤´ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: å‹æƒ…é“¾æ¥</span><br><span class="line">date: 2018-10-05 22:39:06</span><br><span class="line">no_toc: true</span><br><span class="line">comments: true</span><br><span class="line">type: "links"</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;"</span>&gt;</span></span></span><br><span class="line"><span class="code">	&lt;span class="with-love" id="animate1"&gt;&lt;i class="fa fa-heart"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="code">	ç•™è¨€äº’æ¢å‹é“¾é¸­</span></span><br><span class="line"><span class="code">	&lt;span class="with-love" id="animate2"&gt;&lt;i class="fa fa-heart"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">&#123;% note default %&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">### å‹é“¾æ ¼å¼</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">- </span>æ˜µç§°ï¼šexample</span><br><span class="line"><span class="bullet">- </span>é“¾æ¥ï¼šhttps://example.com</span><br><span class="line"><span class="bullet">- </span>å¤´åƒï¼šhttps://example.com/logo.jpg</span><br><span class="line"><span class="bullet">- </span>æè¿°ï¼šPeace &amp; Love ! Learning to think independently !</span><br><span class="line"></span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>themes/next/_config.xml</code>æ–‡ä»¶ï¼ŒæŠŠé“¾æ¥åŠ å…¥åˆ°èœå•æ </p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  categories: /categories/ || th</span><br><span class="line">  tags: /tags/ || tags</span><br><span class="line">  archives: /archives/ || archive</span><br><span class="line"><span class="addition">+ links: /links/ || link</span></span><br><span class="line">  about: /about/ || user</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæ·»åŠ å‹é“¾çš„è¯ï¼Œåªè¦åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>themes/next/_config.xml</code>æ–‡ä»¶æœ«å°¾æ·»åŠ ç›¸å…³å‹æƒ…ä¿¡æ¯å³å¯ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‹æƒ…é“¾æ¥</span></span><br><span class="line"><span class="attr">mylinks:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">nickname:</span> <span class="string">example1</span>     <span class="comment"># æ˜µç§°</span></span><br><span class="line">    <span class="attr">avatar:</span> <span class="string">https://example.com/logo.jpg</span>    <span class="comment"># å¤´åƒåœ°å€</span></span><br><span class="line">    <span class="attr">site:</span> <span class="string">https://example.com</span>  <span class="comment">#å‹é“¾åœ°å€</span></span><br><span class="line">    <span class="attr">info:</span> <span class="string">Peace</span> <span class="string">&amp;</span> <span class="string">Love</span> <span class="string">!</span> <span class="string">Learning</span> <span class="string">to</span> <span class="string">think</span> <span class="string">independently</span> <span class="string">!</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">nickname:</span> <span class="string">example2</span></span><br><span class="line">    <span class="attr">avatar:</span> <span class="string">https://example.com/logo.jpg</span></span><br><span class="line">    <span class="attr">site:</span> <span class="string">https://example.com</span></span><br><span class="line">    <span class="attr">info:</span> <span class="string">Peace</span> <span class="string">&amp;</span> <span class="string">Love</span> <span class="string">!</span> <span class="string">Learning</span> <span class="string">to</span> <span class="string">think</span> <span class="string">independently</span> <span class="string">!</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/image-20200220162053521.png" alt="image-20200220162053521"></p><h2 id="6-ä¼˜åŒ–å’Œç¾åŒ–ä»£ç å—"><a class="header-anchor" href="#6-ä¼˜åŒ–å’Œç¾åŒ–ä»£ç å—">Â¶</a>6. ä¼˜åŒ–å’Œç¾åŒ–ä»£ç å—</h2><h3 id="6-1-æ·»åŠ ä»£ç å—å…¨é€‰å¤åˆ¶åŠŸèƒ½"><a class="header-anchor" href="#6-1-æ·»åŠ ä»£ç å—å…¨é€‰å¤åˆ¶åŠŸèƒ½">Â¶</a>6.1 æ·»åŠ ä»£ç å—å…¨é€‰å¤åˆ¶åŠŸèƒ½</h3><p>ä¸‹è½½ç¬¬ä¸‰æ–¹æ’ä»¶ï¼š<a href="https://github.com/zenorocha/clipboard.js" target="_blank" rel="noopener">clipboard.js</a>, æˆ–è€…<a href="https://raw.githubusercontent.com/zenorocha/clipboard.js/master/dist/clipboard.min.js" target="_blank" rel="noopener">ç›´æ¥ä¸‹è½½</a> (å³é”®å¦å­˜ä¸º)ã€‚ä¿å­˜ <code>clipboard.min.js</code>æ–‡ä»¶åˆ° <code>theme/next/source/js/src</code> ä¸‹ã€‚ç„¶ååœ¨ <code>theme/next/source/js/src</code> ç›®å½•ä¸‹ï¼Œåˆ›å»º <code>clipboard-use.js</code>ï¼Œæ·»åŠ å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*é¡µé¢è½½å…¥å®Œæˆåï¼Œåˆ›å»ºå¤åˆ¶æŒ‰é’®*/</span></span><br><span class="line">!(<span class="function"><span class="keyword">function</span>(<span class="params">e, t, a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> initCopyCode = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> copyHtml =<span class="string">'&lt;button class="btn-copy" data-clipboard-snippet=""&gt;&lt;i class="fa fa-clipboard"&gt;&lt;/i&gt;&lt;/button&gt;'</span>;</span><br><span class="line">    $(<span class="string">".highlight .code pre"</span>).before(copyHtml);</span><br><span class="line">    <span class="keyword">var</span> clipboard = <span class="keyword">new</span> ClipboardJS(<span class="string">".btn-copy"</span>, &#123;</span><br><span class="line">      target: <span class="function"><span class="keyword">function</span>(<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    clipboard.on(<span class="string">"success"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> button = e.trigger;</span><br><span class="line">      <span class="keyword">var</span> iElement = button.querySelector(<span class="string">"i"</span>);</span><br><span class="line">      iElement.className = <span class="string">"fa fa-check"</span>;</span><br><span class="line">      button.onmouseleave = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>) </span>&#123;</span><br><span class="line">        e.clearSelection();</span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          iElement.className = <span class="string">"fa fa-clipboard"</span>;</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  initCopyCode();</span><br><span class="line">&#125;)(<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br></pre></td></tr></table></figure><p>åœ¨ <code>theme/next/source/css/_custom/custom.styl</code> æ ·å¼ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä»£ç å—å¤åˆ¶æŒ‰é’®</span></span><br><span class="line">.highlight&#123;</span><br><span class="line">  <span class="comment">//æ–¹ä¾¿copyä»£ç æŒ‰é’®ï¼ˆbtn-copyï¼‰çš„å®šä½</span></span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: linear-gradient(<span class="number">#fcfcfc</span>,<span class="number">#eee</span>);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d5d5d5</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    -webkit-user-select: <span class="attribute">none</span>;</span><br><span class="line">    -moz-user-select: <span class="attribute">none</span>;</span><br><span class="line">    -ms-user-select: <span class="attribute">none</span>;</span><br><span class="line">    user-select: <span class="attribute">none</span>;</span><br><span class="line">    -webkit-appearance: <span class="attribute">none</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">    -webkit-transition: opacity .3s ease-in-out;</span><br><span class="line">    -o-transition: opacity .3s ease-in-out;</span><br><span class="line">    transition: opacity .3s ease-in-out;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">6px</span>;</span><br><span class="line">    <span class="comment">//å›ºå®šåœ¨ä»£ç å—çš„å³ä¸Šè§’,çˆ¶relative+å­fixed==&gt;çˆ¶relative+å­absolute,è¿™é‡Œå¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µåšè°ƒæ•´fixedæˆ–è€…absolute</span></span><br><span class="line">    <span class="comment">//çˆ¶relative+å­fixed</span></span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="comment">//çˆ¶relative+å­absolute</span></span><br><span class="line">    <span class="comment">//position: absolute;</span></span><br><span class="line">    <span class="comment">//top: 5px;</span></span><br><span class="line">    <span class="attribute">right</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span>:hover .btn-copy&#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>themes/next/layout/_layout.swig</code> æ–‡ä»¶ä¸­å¼•ç”¨ï¼ˆ<code>&lt;/body&gt;</code>ï¼‰ä¹‹å‰æ·»åŠ ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ·»åŠ ä»£ç å—å…¨é€‰å¤åˆ¶åŠŸèƒ½ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/src/clipboard.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/src/clipboard-use.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="6-2-æ·»åŠ macä»£ç é¢æ¿"><a class="header-anchor" href="#6-2-æ·»åŠ macä»£ç é¢æ¿">Â¶</a>6.2 æ·»åŠ macä»£ç é¢æ¿</h3><p>åˆ›å»º <code>themes/next/scripts/codeblock.js</code>æ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> attributes = [</span><br><span class="line">  <span class="string">'autocomplete="off"'</span>,</span><br><span class="line">  <span class="string">'autocorrect="off"'</span>,</span><br><span class="line">  <span class="string">'autocapitalize="off"'</span>,</span><br><span class="line">  <span class="string">'spellcheck="false"'</span>,</span><br><span class="line">  <span class="string">'contenteditable="true"'</span></span><br><span class="line">]</span><br><span class="line"><span class="keyword">var</span> attributesStr = attributes.join(<span class="string">' '</span>)</span><br><span class="line">hexo.extend.filter.register(<span class="string">'after_post_render'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> patt = <span class="regexp">/&lt;figure class="highlight(\s?)([a-zA-Z]*)"&gt;.*?&lt;\/figure&gt;/</span>;</span><br><span class="line">  <span class="keyword">while</span> (patt.test(data.content)) &#123;</span><br><span class="line">    data.content = data.content.replace(patt, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> language = <span class="built_in">RegExp</span>.$<span class="number">2</span> || <span class="string">'plain'</span></span><br><span class="line">      <span class="keyword">var</span> lastMatch = <span class="built_in">RegExp</span>.lastMatch</span><br><span class="line">      lastMatch = lastMatch.replace(<span class="string">'&lt;figure class="highlight'</span>, <span class="string">'&lt;figure class="iseeu highlight'</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'&lt;div class="highlight-wrap"'</span> + attributesStr + <span class="string">'data-rel="'</span> + language.toUpperCase() + <span class="string">'"&gt;'</span> + lastMatch + <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> data</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åˆ›å»º <code>themes/next/source/css/_custom/macPanel.styl</code>æ–‡ä»¶</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mac Panelæ•ˆæœä»£ç å—ç›¸å…³</span></span><br><span class="line"><span class="selector-class">.highlight-wrap</span>[data-rel] &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">10px</span> <span class="number">30px</span> <span class="number">0px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.4</span>);</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">35px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">25px</span>;</span><br><span class="line"></span><br><span class="line">  &amp;::before &#123;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">content</span>: attr(data-rel);</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#21252b</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="comment">//font-family: 'Source Sans Pro', sans-serif;</span></span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;::after &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">' '</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    -webkit-<span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fc625d</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">13px</span>;</span><br><span class="line">    -webkit-<span class="attribute">box-shadow</span>: <span class="number">20px</span> <span class="number">0px</span> <span class="number">#fdbc40</span>, <span class="number">40px</span> <span class="number">0px</span> <span class="number">#35cd4b</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">20px</span> <span class="number">0px</span> <span class="number">#fdbc40</span>, <span class="number">40px</span> <span class="number">0px</span> <span class="number">#35cd4b</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">3</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.highlight</span>, pre &#123;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: unset;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">35px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>themes/next/source/css/_custom/custom.styl</code>ï¼Œåœ¨æœ€åè¿½åŠ å¦‚ä¸‹ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@require <span class="string">"macPanel"</span></span><br></pre></td></tr></table></figure><h3 id="6-3-macä»£ç é¢æ¿æ•´åˆå…¨é€‰å¤åˆ¶æŒ‰é’®"><a class="header-anchor" href="#6-3-macä»£ç é¢æ¿æ•´åˆå…¨é€‰å¤åˆ¶æŒ‰é’®">Â¶</a>6.3 macä»£ç é¢æ¿æ•´åˆå…¨é€‰å¤åˆ¶æŒ‰é’®</h3><p>ä¸ºäº†å®ç°è¿™ä¸ªæ•´åˆï¼Œæˆ‘å¯çœŸæ˜¯èŠ±äº†ä¸å°‘æ—¶é—´ï¼Œé—®äº†å¾ˆå¤šå…¶ä»–åšä¸»ï¼Œä½†éƒ½æ— æœï¼Œåæ¥å‘ç°æœ€æ–°ç‰ˆçš„nextå…¶å®å·²ç»å®ç°äº†è¿™ä¸ªæ•´åˆçš„åŠŸèƒ½ï¼Œä½†æ˜¯å¾ˆé—æ†¾çš„æ˜¯æˆ‘åšå®¢çš„nextè¿˜æ˜¯æ¯”è¾ƒæ—§çš„ç‰ˆæœ¬ï¼Œæ²¡åŠæ³•ç›´æ¥é…ç½®å®ç°ã€‚ç´¢æ€§æˆ‘ç›´æ¥å»ä¸‹è½½äº†æœ€æ–°ç‰ˆçš„nextè¿›è¡Œç ”ç©¶ï¼Œé€šè¿‡ä¸€ç•ªè¾ƒåŠ²åï¼Œæˆ‘ç»ˆäºåšå‡ºæ¥äº†ï¼Œä¸‹é¢å¥‰ä¸Šæ•™ç¨‹ï¼š</p><h4 id="è°ƒæ•´è¯´æ˜"><a class="header-anchor" href="#è°ƒæ•´è¯´æ˜">Â¶</a>è°ƒæ•´è¯´æ˜</h4><p>å¦‚æœæ˜¯æŒ‰ç…§ä¸Šæ–‡æ­¥éª¤ä¸€æ­¥ä¸€æ­¥å®ç°ä¸‹æ¥çš„ï¼Œé‚£ä¹ˆä¸ºäº†å®ç°æ•´åˆï¼Œè¿˜å¾—åšä»¥ä¸‹è°ƒæ•´ã€‚å¦‚æœæ²¡æœ‰ç»è¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œå¯ä»¥ç›´æ¥è·³åˆ°ç¬¬2ç‚¹ã€‚</p><p>ç”±äºmacé¢æ¿ç›´æ¥æ•´åˆäº†ä»£ç å…¨é€‰å¤åˆ¶æŒ‰é’®ï¼Œæ‰€ä»¥å¯ä»¥æŠŠä¸‹é¢è¿™äº›æ–‡ä»¶åˆ é™¤æ‰</p><blockquote><p>themes/next/source/js/src/clipboard-use.js</p><p>themes/next/source/css/_custom/macPanel.styl</p><p>themes/next/scripts/codeblock.js</p></blockquote><p>æ­¤å¤–è¿˜è¦åšä¸€äº›ä¿®æ”¹ï¼Œåˆ é™¤æ‰ä»¥ä¸‹æ–‡ä»¶çš„ç›¸å…³ä»£ç ï¼š</p><p>æ–‡ä»¶1ï¼š<code>themes/next/layout/_layout.swig</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ·»åŠ ä»£ç å—å…¨é€‰å¤åˆ¶åŠŸèƒ½ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/src/clipboard.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/src/clipboard-use.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ–‡ä»¶2ï¼š<code>themes/next/source/css/_custom/custom.styl</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä»£ç å—å¤åˆ¶æŒ‰é’®</span></span><br><span class="line">.highlight&#123;</span><br><span class="line">  <span class="comment">//æ–¹ä¾¿copyä»£ç æŒ‰é’®ï¼ˆbtn-copyï¼‰çš„å®šä½</span></span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: linear-gradient(<span class="number">#fcfcfc</span>,<span class="number">#eee</span>);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d5d5d5</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    -webkit-user-select: <span class="attribute">none</span>;</span><br><span class="line">    -moz-user-select: <span class="attribute">none</span>;</span><br><span class="line">    -ms-user-select: <span class="attribute">none</span>;</span><br><span class="line">    user-select: <span class="attribute">none</span>;</span><br><span class="line">    -webkit-appearance: <span class="attribute">none</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">    -webkit-transition: opacity .3s ease-in-out;</span><br><span class="line">    -o-transition: opacity .3s ease-in-out;</span><br><span class="line">    transition: opacity .3s ease-in-out;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">6px</span>;</span><br><span class="line">    <span class="comment">//å›ºå®šåœ¨ä»£ç å—çš„å³ä¸Šè§’,çˆ¶relative+å­fixed==&gt;çˆ¶relative+å­absolute,è¿™é‡Œå¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µåšè°ƒæ•´fixedæˆ–è€…absolute</span></span><br><span class="line">    <span class="comment">//çˆ¶relative+å­fixed</span></span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="comment">//çˆ¶relative+å­absolute</span></span><br><span class="line">    <span class="comment">//position: absolute;</span></span><br><span class="line">    <span class="comment">//top: 5px;</span></span><br><span class="line">    <span class="attribute">right</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span>:hover .btn-copy&#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@require <span class="string">"macPanel"</span></span><br></pre></td></tr></table></figure><h4 id="æ•´åˆæ­¥éª¤"><a class="header-anchor" href="#æ•´åˆæ­¥éª¤">Â¶</a>æ•´åˆæ­¥éª¤</h4><p>æ–°å¢æ•´åˆçš„jsé€»è¾‘ä»£ç ï¼š<code>themes/next/source/js/src/highlight-wrap.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author <span class="variable">qcmoke</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>"macé¢æ¿"å’Œ"ä»£ç å…¨é€‰å¤åˆ¶"</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Dependencies </span>https://github.com/zenorocha/clipboard.js</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version </span>2.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initMacPanel</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> highlights = $(<span class="string">".highlight"</span>).not(<span class="string">".gist .highlight"</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; highlights.length; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> figure = $(highlights[i]);</span><br><span class="line">    <span class="keyword">var</span> css = figure.attr(<span class="string">"class"</span>);</span><br><span class="line">    <span class="keyword">var</span> patt = <span class="regexp">/highlight(\s?)([a-zA-Z]*)/</span>;</span><br><span class="line">    patt.test(css);</span><br><span class="line">    <span class="comment">//å¾—åˆ°ç¬¬äºŒä¸ªå°æ‹¬å·çš„å†…å®¹ï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™è®¾ç½®ä¸ºplain</span></span><br><span class="line">    <span class="keyword">var</span> language = <span class="built_in">RegExp</span>.$<span class="number">2</span> || <span class="string">"plain"</span>;</span><br><span class="line">    <span class="keyword">var</span> newDiv = $(<span class="string">"&lt;div&gt;"</span>)</span><br><span class="line">      .attr(<span class="string">"data-rel"</span>, language.toUpperCase())</span><br><span class="line">      .addClass(<span class="string">"highlight-wrap"</span>);</span><br><span class="line">    <span class="keyword">var</span> wrap = figure.wrap(newDiv);</span><br><span class="line">    wrap.before(</span><br><span class="line">      <span class="string">'&lt;button class="copy-btn" data-clipboard-snippet=""&gt;&lt;i class="fa fa-clipboard"&gt;&lt;/i&gt;&lt;/button&gt;'</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initClipboard</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> clipboard = <span class="keyword">new</span> ClipboardJS(<span class="string">".copy-btn"</span>, &#123;</span><br><span class="line">    target: <span class="function"><span class="keyword">function</span>(<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">      <span class="comment">//return trigger.nextElementSibling;//è¿”å›å¤åˆ¶æŒ‰é’®ä¸‹ä¸€ä¸ªåˆ—è¡¨é€‰é¡¹çš„ HTML å†…å®¹</span></span><br><span class="line">      <span class="comment">///è¿”å›å¤åˆ¶æŒ‰é’®æ‰€åœ¨domä¸‹å«æœ‰classä¸ºcodeçš„ç¬¬ä¸€ä¸ªdomå¯¹è±¡(å¯ä»¥é˜²æ­¢å¤åˆ¶figcaptionçš„å†…å®¹)</span></span><br><span class="line">      <span class="keyword">var</span> wrap = trigger.parentElement;</span><br><span class="line">      <span class="keyword">var</span> code = wrap.querySelector(<span class="string">".code"</span>);</span><br><span class="line">      <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  clipboard.on(<span class="string">"success"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> button = e.trigger;</span><br><span class="line">    <span class="keyword">var</span> iElement = button.querySelector(<span class="string">"i"</span>);</span><br><span class="line">    iElement.className = <span class="string">"fa fa-check"</span>;</span><br><span class="line">    button.onmouseleave = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>) </span>&#123;</span><br><span class="line">      e.clearSelection();</span><br><span class="line">      setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        iElement.className = <span class="string">"fa fa-clipboard"</span>;</span><br><span class="line">      &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  initMacPanel();</span><br><span class="line">  initClipboard();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹é¡µé¢æ¨¡æ¿å¼•æ“æ–‡ä»¶ï¼š<code>themes/next/layout/_scripts/pages/post-details.swig</code>ï¼Œåœ¨æœ€åè¿½åŠ å¦‚ä¸‹ä»£ç ä»¥å¼•å…¥ç¬¬ä¸‰æ–¹æ’ä»¶ä¾èµ– <code>clipboard.min.js</code>å’Œä»¥ä¸Šçš„ <code>highlight-wrap.js</code>ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä»£ç å—åŒ…è£¹é¢æ¿=macé¢æ¿+ä»£ç å—å…¨é€‰å¤åˆ¶æŒ‰é’® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; url_for(theme.js) &#125;&#125;/src/clipboard.min.js?v=&#123;&#123; theme.version &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; url_for(theme.js) &#125;&#125;/src/highlight-wrap.js?v=&#123;&#123; theme.version &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>ç¬¬ä¸‰æ–¹æ’ä»¶ï¼š<a href="https://github.com/zenorocha/clipboard.js" target="_blank" rel="noopener">clipboard.js</a>, æˆ–è€…<a href="https://raw.githubusercontent.com/zenorocha/clipboard.js/master/dist/clipboard.min.js" target="_blank" rel="noopener">ç›´æ¥ä¸‹è½½</a> (å³é”®å¦å­˜ä¸º)ã€‚å¦‚æœä¹‹å‰æ²¡æœ‰ä¸‹è½½clipboard.min.jsï¼Œé‚£ä¹ˆéœ€è¦ä¸‹è½½å¹¶ä¿å­˜ <code>clipboard.min.js</code>æ–‡ä»¶åˆ° <code>theme/next/source/js/src</code> ä¸‹</p></blockquote><p>æ–°å¢æ•´åˆçš„è‡ªå®šä¹‰æ ·å¼æ–‡ä»¶ï¼š<code>themes/next/source/css/_custom/highlight-wrap.styl</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author qcmoke</span></span><br><span class="line"><span class="comment"> * @description "macé¢æ¿"å’Œ"ä»£ç å…¨é€‰å¤åˆ¶"æ ·å¼</span></span><br><span class="line"><span class="comment"> * @version 2.0</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * tips: ä¿®æ”¹hexo nextä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®ä»£ç é«˜äº®highlight_themeä¸ºnight eighties</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="selector-class">.highlight-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.highlight-wrap</span>:hover <span class="selector-class">.copy-btn</span>, <span class="selector-class">.highlight-wrap</span> <span class="selector-class">.copy-btn</span>:focus &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.copy-btn</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">background</span>: inherit;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#dfe2e5</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  transition: opacity .3s ease-in-out;</span><br><span class="line">  user-select: <span class="attribute">none</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.highlight-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">1.6em</span>;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#21252b</span>;</span><br><span class="line">  box-shadow: 0 10px 30px 0 rgba(0, 0, 0, .4);</span><br><span class="line"></span><br><span class="line">  &amp;::before &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">content</span>: attr(data-rel);</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.highlight</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> !important;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">5px</span>;</span><br><span class="line"></span><br><span class="line">    &amp;::before &#123;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">12px</span>;</span><br><span class="line">      <span class="attribute">margin-top</span>: -<span class="number">20px</span>;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">12px</span>;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#fc625d</span>;</span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="number">20px</span> <span class="number">0</span> <span class="number">#fdbc40</span>, <span class="number">40px</span> <span class="number">0</span> <span class="number">#35cd4b</span>;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">' '</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»£ç é€‰ä¸­æ—¶çš„æ ·å¼</span></span><br><span class="line">    ::selection &#123;</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#2593a6</span>;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»£ç å—æ ‡é¢˜æ </span></span><br><span class="line">    <span class="selector-tag">figcaption</span> &#123;</span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">      padding: 0 .5em .35em;</span><br><span class="line">      <span class="attribute">padding-right</span>: <span class="number">8px</span>;</span><br><span class="line">      <span class="attribute">padding-left</span>: <span class="number">27px</span>;</span><br><span class="line">      <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#111</span>;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#21252b</span>;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">      <span class="attribute">font-style</span>: italic;</span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">1em</span>;</span><br><span class="line"></span><br><span class="line">      <span class="selector-tag">a</span> &#123;</span><br><span class="line">        <span class="attribute">float</span>: right;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#2770c3</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="selector-tag">a</span>:hover &#123;</span><br><span class="line">        <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#d9534f</span>;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#d9534f</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é˜²æ­¢è°ƒè¯•ä»£ç å—å†…è¾¹æ¡†å‡ºç°ç™½çº¿çš„é—®é¢˜</span></span><br><span class="line">    table&gt;tbody&gt;<span class="selector-tag">tr</span>:nth-of-type(odd) &#123;</span><br><span class="line">      <span class="attribute">background-color</span>: unset;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.code</span> &#123;</span><br><span class="line">      +mobile() &#123;</span><br><span class="line">        <span class="comment">//background: #2593a6;</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ“ä½œç³»ç»Ÿè®¾ç½®ç¼©æ”¾æ¯”ä¾‹æ¯”è¾ƒå¤§çš„æ—¶å€™é€‚å½“è°ƒæ•´ä»£ç å­—ä½“å˜å¤§</span></span><br><span class="line">    @media (<span class="attribute">min-width</span>: <span class="number">1600px</span>) &#123;</span><br><span class="line">      pre &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸»é¢˜è‡ªå®šä¹‰æ ·å¼æ–‡ä»¶ï¼š<code>themes/next/source/css/_custom/custom.styl</code>ï¼Œåœ¨æœ€åè¿½åŠ å¦‚ä¸‹ä»£ç ä»¥å¼•å…¥æ•´åˆçš„æ ·å¼ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@require <span class="string">"highlight-wrap"</span></span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’â€â™‚æ¸©é¦¨æç¤ºï¼š</p><p>custom.stylä¸­æœ€å¥½ä¸è¦å‡ºç°å…¶ä»–ä¸é«˜äº®æœ‰å…³çš„æ ·å¼ï¼Œå¦‚æœå­˜åœ¨çš„è¯å¯èƒ½ä¼šä¸ä¸Šé¢çš„æ ·å¼å†²çªã€‚å¦‚æœå‘ç°æœ€ç»ˆæ•ˆæœä¸ç†æƒ³ï¼Œå¯ä»¥å°è¯•åœ¨custom.stylä¸­æ³¨é‡Šæ‰å†²çªçš„cssä»£ç ã€‚</p><p>å»ºè®®ä¿®æ”¹hexo nextä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®ä»£ç é«˜äº® <code>highlight_theme</code>ä¸º <code>night eighties</code>ï¼Œè¿™æ ·æ•ˆæœä¼šæ›´å¥½ã€‚</p></blockquote><p>æ•ˆæœï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/image-20200223011734366.png" alt="image-20200223011734366"></p><h2 id="7-æ·»åŠ æš—é»‘æ¨¡å¼æ”¯æŒ"><a class="header-anchor" href="#7-æ·»åŠ æš—é»‘æ¨¡å¼æ”¯æŒ">Â¶</a>7. æ·»åŠ æš—é»‘æ¨¡å¼æ”¯æŒ</h2><p>ç¼–è¾‘ <code>themes/next/layout/_scripts/vendors.swig</code>æ–‡ä»¶ï¼Œåœ¨æœ€æ–‡ä»¶åº•éƒ¨åŠ å…¥å¦‚ä¸‹ä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æš—é»‘æ¨¡å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">id</span>=<span class="string">"darkmode"</span> <span class="attr">class</span>=<span class="string">"fa fa-lightbulb-o"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="comment">// ä¾æ¬¡åˆ¤æ–­ ç³»ç»Ÿæš—é»‘æ¨¡å¼  ç¼“å­˜ dark</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> body = $(<span class="string">"body"</span>)</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> darkmode = $(<span class="string">"#darkmode"</span>)</span></span><br><span class="line"><span class="actionscript"><span class="keyword">if</span> (matchMedia(<span class="string">"(prefers-color-scheme: dark)"</span>).matches ||localStorage.getItem(<span class="string">"darkmode"</span>) === <span class="string">"1"</span>) &#123;</span></span><br><span class="line"><span class="actionscript">	<span class="keyword">if</span> (!(localStorage.getItem(<span class="string">"noDark"</span>) === <span class="string">"1"</span>)) &#123;</span></span><br><span class="line"><span class="actionscript">		body.addClass(<span class="string">"dark"</span>)</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript">body.hasClass(<span class="string">"dark"</span>)?darkmode.removeClass(<span class="string">"fa-moon-o"</span>).addClass(<span class="string">"fa-lightbulb-o"</span>):darkmode.removeClass(<span class="string">"fa-lightbulb-o"</span>).addClass(<span class="string">"fa-moon-o"</span>)</span></span><br><span class="line"><span class="actionscript">darkmode.click(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">	<span class="keyword">if</span> (body.hasClass(<span class="string">"dark"</span>)) &#123;</span></span><br><span class="line"><span class="actionscript">	darkmode.removeClass(<span class="string">"fa-lightbulb-o"</span>).addClass(<span class="string">"fa-moon-o"</span>)</span></span><br><span class="line"><span class="actionscript">	body.removeClass(<span class="string">"dark"</span>)</span></span><br><span class="line"><span class="actionscript">	localStorage.setItem(<span class="string">"darkmode"</span>, <span class="string">"0"</span>)</span></span><br><span class="line"><span class="actionscript">		localStorage.setItem(<span class="string">"noDark"</span>, <span class="string">"1"</span>)</span></span><br><span class="line"><span class="actionscript">	&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">		darkmode.removeClass(<span class="string">"fa-moon-o"</span>).addClass(<span class="string">"fa-lightbulb-o"</span>)</span></span><br><span class="line"><span class="actionscript">		body.addClass(<span class="string">"dark"</span>)</span></span><br><span class="line"><span class="actionscript">		localStorage.setItem(<span class="string">"darkmode"</span>, <span class="string">"1"</span>)</span></span><br><span class="line"><span class="actionscript">		localStorage.setItem(<span class="string">"noDark"</span>, <span class="string">"0"</span>)</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ›å»º <code>themes/next/source/css/_custom/dark.styl</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é»‘æš—åˆ‡æ¢æ¨¡å¼æŒ‰é’® */</span></span><br><span class="line"><span class="selector-id">#darkmode</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1050</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">33px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">91px</span>;</span><br><span class="line">  <span class="attribute">left</span>: unset;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1rem</span>;</span><br><span class="line"></span><br><span class="line">  @media (<span class="attribute">max-width</span>: <span class="number">960px</span>) &#123;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">110px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¹³æ»‘æ”¹å˜èƒŒæ™¯è‰² */</span></span><br><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">transition</span>: background-color <span class="number">1000ms</span>; <span class="comment">// transition: color 500ms, background-color 1000ms;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä¸‹é¢æ˜¯æš—é»‘æ¨¡å¼ä¸‹çš„ä¸ªæ€§åŒ–å®šåˆ¶æ ·å¼ */</span></span><br><span class="line">:root &#123;</span><br><span class="line">  --dark-<span class="attribute">background-color</span>: <span class="number">#222</span>;</span><br><span class="line">  --dark-post-<span class="attribute">background-color</span>: <span class="number">#292a2d</span>;</span><br><span class="line">  --dark-<span class="attribute">color</span>: <span class="number">#a9a9b3</span>;</span><br><span class="line">  --dark-a-hover-<span class="attribute">color</span>: <span class="number">#6190e8</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.dark</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: var(--dark-background-color);</span><br><span class="line">  <span class="attribute">color</span>: var(--dark-color);</span><br><span class="line"></span><br><span class="line">  ::selection &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#f4e1c0</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#101012</span>;</span><br><span class="line">    <span class="attribute">text-shadow</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* åœ¨æ·±è‰²æ¨¡å¼ä¸‹æŠŠå›¾ç‰‡äº®åº¦è°ƒåˆ° 70% */</span></span><br><span class="line">  <span class="selector-tag">img</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">filter</span>: brightness(<span class="number">0.7</span>) !important;</span><br><span class="line">    <span class="attribute">filter</span>: brightness(<span class="number">0.7</span>) !important;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: var(--dark-color);</span><br><span class="line"></span><br><span class="line">    :hover &#123;</span><br><span class="line">      <span class="attribute">color</span>: var(--dark-a-hover-color);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.header</span> &#123;</span><br><span class="line">    <span class="selector-class">.menu</span> &#123;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#565555</span>;</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.menu-item</span> &#123;</span><br><span class="line">        <span class="selector-tag">a</span> &#123;</span><br><span class="line">          <span class="attribute">color</span>: var(--dark-color);</span><br><span class="line"></span><br><span class="line">          :hover &#123;</span><br><span class="line">            <span class="attribute">color</span>: var(--dark-color);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      @media (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: var(--dark-background-color);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: var(--dark-post-background-color);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.main-inner</span> <span class="selector-class">.post</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: var(--dark-post-background-color);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">0</span> <span class="number">#555</span>;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.archive</span> &#123;</span><br><span class="line">      <span class="attribute">box-shadow</span>: unset;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* ä»£ç è¡Œ */</span></span><br><span class="line">    <span class="selector-tag">code</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#eee</span>;</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#555</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.posts-expand</span> &#123;</span><br><span class="line">    <span class="selector-class">.post-title-link</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: var(--dark-color);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    table&gt;tbody&gt;<span class="selector-tag">tr</span>:nth-of-type(odd) &#123;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#202225</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.highlight-wrap</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#1d1d1d</span>;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.copy-btn</span> &#123;</span><br><span class="line">      <span class="attribute">border</span>: unset;</span><br><span class="line">      <span class="attribute">background-color</span>: unset;</span><br><span class="line">      <span class="attribute">color</span>: var(--dark-color);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    table&gt;tbody&gt;<span class="selector-tag">tr</span>:nth-of-type(odd) &#123;</span><br><span class="line">      <span class="attribute">background-color</span>: unset;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">    <span class="attribute">border-left-color</span>: <span class="number">#666</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#929191</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.posts-expand</span> <span class="selector-class">.post-body</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: unset;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* macä»£ç é¢æ¿ */</span></span><br><span class="line">  <span class="selector-class">.highlight-wrap</span> &#123;</span><br><span class="line">    <span class="selector-class">.highlight</span> <span class="selector-class">.gutter</span> pre &#123;</span><br><span class="line">      <span class="attribute">background-color</span>: unset;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.highlight</span> <span class="selector-class">.code</span> pre &#123;</span><br><span class="line">      <span class="attribute">background-color</span>: unset;</span><br><span class="line">      <span class="attribute">border-left-color</span>: <span class="number">#333</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.highlight</span>,</span><br><span class="line">    pre &#123;</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#202225</span>;</span><br><span class="line">      <span class="attribute">color</span>: var(--dark-color);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.highlight-wrap</span>::before &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* åˆ†é¡µ */</span></span><br><span class="line">  <span class="selector-class">.pagination</span> &#123;</span><br><span class="line">    <span class="selector-class">.page-number</span><span class="selector-class">.current</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.pagination</span> <span class="selector-class">.next</span>,</span><br><span class="line">  <span class="selector-class">.pagination</span> <span class="selector-class">.page-number</span>,</span><br><span class="line">  <span class="selector-class">.pagination</span> <span class="selector-class">.prev</span> &#123;</span><br><span class="line">    <span class="attribute">border-top-color</span>: <span class="number">#333</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* æ–‡ç« åº•éƒ¨ */</span></span><br><span class="line">  <span class="selector-class">.post-footer</span> &#123;</span><br><span class="line">    <span class="selector-class">.post-widgets</span> &#123;</span><br><span class="line">      <span class="attribute">border-top-color</span>: <span class="number">#666</span>;</span><br><span class="line"></span><br><span class="line">      <span class="selector-id">#needsharebutton-postbottom</span> <span class="selector-class">.btn</span> &#123;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: var(--dark-color);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="selector-id">#needsharebutton-postbottom</span> <span class="selector-class">.btn</span>:hover &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#f6f6f6</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post-nav</span> &#123;</span><br><span class="line">      <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#666</span>;</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.post-nav-item</span> <span class="selector-tag">a</span>:hover &#123;</span><br><span class="line">        <span class="attribute">color</span>: var(--dark-a-hover-color);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* è¯„è®ºé¢æ¿ */</span></span><br><span class="line">  <span class="selector-class">.comments</span> &#123;</span><br><span class="line">    <span class="selector-class">.tablink</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#222</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.tablink</span>:hover &#123;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#ddd</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.currentTabcontent</span> &#123;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#ddd</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.tabcontent-li</span> &#123;</span><br><span class="line">      <span class="attribute">border-color</span>: <span class="number">#757474</span>;</span><br><span class="line"></span><br><span class="line">      <span class="comment">/* gitalk */</span></span><br><span class="line">      <span class="selector-class">.gt-container</span> &#123;</span><br><span class="line">        <span class="selector-class">.gt-comment-body</span> &#123;</span><br><span class="line">          <span class="attribute">color</span>: var(--dark-color) !important;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.gt-meta</span> &#123;</span><br><span class="line">          <span class="attribute">border-bottom</span>: <span class="number">#333</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.gt-header-textarea</span> &#123;</span><br><span class="line">          <span class="attribute">background-color</span>: var(--dark-post-background-color);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.gt-comment-content</span> &#123;</span><br><span class="line">          <span class="attribute">background-color</span>: var(--dark-post-background-color);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.gt-comment-content</span>:hover &#123;</span><br><span class="line">          -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0.625em</span> <span class="number">3.75em</span> <span class="number">0</span> <span class="number">#f4f4f4</span>;</span><br><span class="line">          <span class="attribute">box-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> <span class="number">1em</span> <span class="number">0</span> <span class="number">#222</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.gt-user</span> <span class="selector-class">.gt-ico</span> svg &#123;</span><br><span class="line">          fill: #ccc;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.gt-header-preview</span> &#123;</span><br><span class="line">          <span class="attribute">background-color</span>: var(--dark-post-background-color);</span><br><span class="line">          <span class="attribute">color</span>: var(--dark-color);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.valine</span> &#123;</span><br><span class="line">        * &#123;</span><br><span class="line">          <span class="attribute">color</span>: var(--dark-color);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">border-bottom</span>: <span class="number">#333</span>;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.vwrap</span> &#123;</span><br><span class="line">          <span class="attribute">border</span>: var(--dark-post-background-color);</span><br><span class="line"></span><br><span class="line">          <span class="selector-class">.textarea-wrapper</span> &#123;</span><br><span class="line">            <span class="attribute">background</span>: unset;</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="selector-class">.textarea-wrapper</span> <span class="selector-class">.comment_trigger</span> &#123;</span><br><span class="line">            <span class="attribute">background-color</span>: var(--dark-post-background-color);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="selector-class">.textarea-wrapper</span> <span class="selector-tag">textarea</span> &#123;</span><br><span class="line">            <span class="attribute">color</span>: var(--dark-color);</span><br><span class="line">            <span class="attribute">background-color</span>: var(--dark-post-background-color);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="selector-class">.auth-section</span> <span class="selector-class">.input-wrapper</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">            <span class="attribute">color</span>: var(--dark-color);</span><br><span class="line">            <span class="attribute">background-color</span>: var(--dark-post-background-color);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="selector-class">.auth-section</span> &#123;</span><br><span class="line">            <span class="attribute">background-color</span>: var(--dark-post-background-color);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="selector-class">.auth-section</span> <span class="selector-class">.post-action</span> <span class="selector-tag">button</span> &#123;</span><br><span class="line">            <span class="attribute">border</span>: var(--dark-post-background-color);</span><br><span class="line">            <span class="attribute">background-color</span>: <span class="number">#202124</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.vlist</span> <span class="selector-class">.vcard</span> <span class="selector-class">.text-wrapper</span> <span class="selector-class">.vhead</span> <span class="selector-class">.vname</span> &#123;</span><br><span class="line">          <span class="attribute">color</span>: var(--dark-a-hover-color);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-toc</span> &#123;</span><br><span class="line">    <span class="selector-tag">a</span> &#123;</span><br><span class="line">      :hover &#123;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.nav</span> .active-current&gt;<span class="selector-tag">a</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#87daff</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* æœ¬åœ°æœç´¢é¢æ¿ */</span></span><br><span class="line">  <span class="selector-class">.local-search-popup</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* å½’æ¡£é¡µ */</span></span><br><span class="line">  <span class="selector-class">.archive</span> &#123;</span><br><span class="line">    <span class="selector-class">.posts-collapse</span> <span class="selector-class">.post-title</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: var(--dark-color);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.posts-collapse</span>::after &#123;</span><br><span class="line">      <span class="attribute">background</span>: var(--dark-post-background-color);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*é˜…è¯»æ’è¡Œæ¦œ*/</span></span><br><span class="line">  <span class="selector-id">#top</span> <span class="attribute">font</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: var(--dark-color);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* å‹æƒ…é“¾æ¥ */</span></span><br><span class="line">  <span class="selector-id">#links</span> &#123;</span><br><span class="line">    <span class="selector-class">.card</span> &#123;</span><br><span class="line">      <span class="selector-class">.card-header</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.card-header</span> <span class="selector-class">.info</span> &#123;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#60676d</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘ <code>themes/next/source/css/_custom/custom.styl</code>ï¼Œåœ¨æ­¤æ–‡ä»¶ä¸­çš„æœ€åå¼•å…¥ <code>dark.styl</code>æ ·å¼æ–‡ä»¶</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@require 'dark';</span><br></pre></td></tr></table></figure><h2 id="8-é­”æ”¹nextä¸»é¢˜"><a class="header-anchor" href="#8-é­”æ”¹nextä¸»é¢˜">Â¶</a>8. é­”æ”¹nextä¸»é¢˜</h2><p>ç”±äºä¸ªäººå–œå¥½ï¼Œå’Œä¸ºé€‚é…ç§»åŠ¨ç«¯ï¼Œæœ¬åšå®¢ä»è¿™é‡Œå¼€å§‹å°†ä¿®æ”¹nextä¸»é¢˜çš„å¸ƒå±€ä¸ºMuseã€‚å¹¶åœ¨Museçš„åŸºç¡€ä¸Šåšäº†æ¯”è¾ƒå¤§çš„æ ·å¼è°ƒæ•´ï¼Œå½¢æˆäº†ç›®å‰åšå®¢ç°çŠ¶çš„åŸºæœ¬å¸ƒå±€å’Œæ ·å¼ã€‚å…¶ä¸­åŒ…æ‹¬æ•´ä½“éª¨æ¶å¸ƒå±€ã€èœå•æ ã€é¦–é¡µæ–‡ç« ç¼©ç•¥å¡ç‰‡ã€æ–‡ç« é¡µå®½ã€ç§»åŠ¨ç«¯é€‚é…ã€å­—ä½“å¤§å°ç­‰ç­‰è¯¸å¤šæ ·å¼çš„è°ƒæ•´ã€‚</p><p>å…ˆçœ‹é­”æ”¹ä¸»é¢˜æ•ˆæœï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/image-20200303022203833.png" alt="image-20200303022203833"></p><p>ä¿®æ”¹ <code>themes/next/_config.yml</code>å¯ç”¨ <code>Muset</code>:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Schemes</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Muse</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="comment">#scheme: Pisces</span></span><br><span class="line"><span class="comment">#scheme: Gemini</span></span><br></pre></td></tr></table></figure><p>ç„¶åç¼–è¾‘ <code>themes/next/source/css/_custom/custom.styl</code>æ·»åŠ è‡ªå®šä¹‰æ ·å¼ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å»æ‰é“¾æ¥ä¸‹çš„ä¸‹åˆ’çº¿</span></span><br><span class="line">* a &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">border-bottom</span>: unset;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¡µé¢é¡¶éƒ¨æ ·å¼</span></span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">    <span class="comment">// é¡¶éƒ¨èƒŒæ™¯</span></span><br><span class="line">    <span class="attribute">background-image</span>: linear-gradient(<span class="number">90deg</span>, <span class="number">#222325</span>, <span class="number">#3b3c3f</span>, <span class="number">#222325</span>);</span><br><span class="line"></span><br><span class="line">    @media (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span><br><span class="line">        <span class="attribute">background</span>: black;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é¡¶éƒ¨å®½åº¦å’Œè·ç¦»</span></span><br><span class="line">    <span class="selector-class">.header-inner</span> &#123;</span><br><span class="line">        <span class="attribute">padding-top</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">padding-bottom</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åšå®¢title</span></span><br><span class="line">    <span class="selector-class">.custom-logo-site-title</span> <span class="selector-class">.brand</span> &#123;</span><br><span class="line">        <span class="attribute">background</span>: none;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.site-title</span> &#123;</span><br><span class="line">            <span class="attribute">letter-spacing</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attribute">font-weight</span>: bold;</span><br><span class="line">            <span class="attribute">font-size</span>: <span class="number">29px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åšå®¢subtitleæè¿°</span></span><br><span class="line">    <span class="selector-class">.site-subtitle</span> &#123;</span><br><span class="line">        <span class="attribute">margin-top</span>: <span class="number">7px</span>;</span><br><span class="line">        <span class="attribute">margin-bottom</span>: <span class="number">5px</span>;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">        <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">10px</span>;</span><br><span class="line"></span><br><span class="line">        @media (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span><br><span class="line">            <span class="attribute">display</span>: block;</span><br><span class="line">            <span class="attribute">margin-top</span>: <span class="number">11px</span>;</span><br><span class="line">            <span class="attribute">padding-bottom</span>: <span class="number">2px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é¡¶éƒ¨èœå•æ </span></span><br><span class="line">    <span class="selector-class">.menu</span> &#123;</span><br><span class="line">        <span class="attribute">margin-top</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">1px</span>;</span><br><span class="line">        background-color: rgba(255, 255, 255, .75);</span><br><span class="line">        box-shadow: 0 10px 10px 0 rgba(0, 0, 0, .15);</span><br><span class="line">        <span class="attribute">text-align</span>: center;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// èœå•è¶…é“¾æ¥</span></span><br><span class="line">        <span class="selector-class">.menu-item</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">            <span class="attribute">padding-right</span>: <span class="number">20px</span>;</span><br><span class="line">            <span class="attribute">padding-left</span>: <span class="number">20px</span>;</span><br><span class="line">            <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">            <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">            <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line"></span><br><span class="line">            @media (<span class="attribute">min-width</span>: <span class="number">1600px</span>) &#123;</span><br><span class="line">                <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            :hover &#123;</span><br><span class="line">                <span class="attribute">color</span>: black;</span><br><span class="line">                <span class="attribute">font-weight</span>: bold;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§»åŠ¨ç«¯ä¸‹æ‹‰æŠ½å±‰æŒ‰é’®æ¨ªæ èƒŒæ™¯è‰²</span></span><br><span class="line">    <span class="selector-class">.site-nav-toggle</span> <span class="selector-class">.btn-bar</span> &#123;</span><br><span class="line">        <span class="attribute">background</span>: <span class="number">#f9f9f9</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§»åŠ¨ç«¯ä¸‹æ‹‰æŠ½å±‰é¢æ¿ä¸Šè¾¹è·</span></span><br><span class="line">    <span class="selector-class">.site-nav</span> &#123;</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">62px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¦–é¡µä¸»ä½“éƒ¨åˆ†</span></span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">    <span class="comment">// é¦–é¡µæ–‡ç« ç¼©ç•¥å¡ç‰‡å®½åº¦</span></span><br><span class="line">    section<span class="selector-id">#posts</span> &#123;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">78%</span>;</span><br><span class="line"></span><br><span class="line">        @media (<span class="attribute">min-width</span>: <span class="number">1600px</span>) &#123;</span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">83%</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @media (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">85%</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @media (<span class="attribute">max-width</span>: <span class="number">960px</span>) &#123;</span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">85%</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¼©ç•¥å›¾è¾¹ç¼˜æ ·å¼</span></span><br><span class="line">        <span class="selector-class">.post-body</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">            <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attribute">border</span>: none;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¼©ç•¥å›¾æŒ‡å®šå®½åº¦å€¼æ˜¾ç¤ºã€‚</span></span><br><span class="line">    <span class="selector-tag">img</span><span class="selector-class">.img-topic</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">55%</span>;</span><br><span class="line"></span><br><span class="line">        @media (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">60%</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å»é™¤ç¼©ç•¥å¡ç‰‡ä¹‹é—´çš„åˆ†å‰²çº¿</span></span><br><span class="line">    <span class="selector-class">.posts-expand</span> <span class="selector-class">.post-eof</span> &#123;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: rgba(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é¡µç </span></span><br><span class="line">    <span class="selector-class">.pagination</span> &#123;</span><br><span class="line">        <span class="comment">// å‡å°é¡µç å¤–è¾¹è·</span></span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">50px</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// å»é™¤é¡µé¢åº•éƒ¨é¡µç ä¸Šé¢çš„æ¨ªçº¿</span></span><br><span class="line">        <span class="attribute">border</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸»ä½“æ–‡ç« </span></span><br><span class="line"><span class="selector-class">.main-inner</span> &#123;</span><br><span class="line">    <span class="comment">// æ–‡ç« å®½åº¦</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">960px</span>;</span><br><span class="line"></span><br><span class="line">    @media (<span class="attribute">min-width</span>: <span class="number">1600px</span>) &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">1080px</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @media (<span class="attribute">max-width</span>: <span class="number">960px</span>) &#123;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">        <span class="attribute">width</span>: inherit;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @media (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">        <span class="attribute">width</span>: inherit;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post</span> &#123;</span><br><span class="line">        <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">45px</span> <span class="number">28px</span> <span class="number">36px</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: rgb(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">        box-shadow: 0 0 10px 0 rgba(0, 0, 0, .5);</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.code</span> &#123;</span><br><span class="line">            <span class="comment">//ä¿®å¤é€‰æ‹©ä»£ç æ—¶å…‰æ ‡è·¨è¶Šå¤šè¡Œçš„é—®é¢˜</span></span><br><span class="line">            <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        @media (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span><br><span class="line">            <span class="attribute">padding</span>: <span class="number">45px</span> <span class="number">12px</span> <span class="number">36px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.posts-expand</span> &#123;</span><br><span class="line">        <span class="comment">// æ–‡ç« æ ‡é¢˜å­—ä½“</span></span><br><span class="line">        <span class="selector-class">.post-title</span> &#123;</span><br><span class="line">            <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">            <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–‡ç« å…ƒæ•°æ®ï¼ˆmetaï¼‰ç•™ç™½æ›´æ”¹</span></span><br><span class="line">        <span class="selector-class">.post-meta</span> &#123;</span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–‡ç« çš„æè¿°description</span></span><br><span class="line">        <span class="selector-class">.post-meta</span> <span class="selector-class">.post-description</span> &#123;</span><br><span class="line">            <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span><br><span class="line">            <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">            <span class="attribute">font-style</span>: italic;</span><br><span class="line">            <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @media (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attribute">padding-top</span>: <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @media (<span class="attribute">max-width</span>: <span class="number">960px</span>) &#123;</span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‘˜è¦æ–‡å­—</span></span><br><span class="line">    <span class="selector-class">.index-content</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼</span></span><br><span class="line">    <span class="selector-class">.post-body</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">        <span class="attribute">border-bottom</span>: none;</span><br><span class="line">        <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#0593d3</span>;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#0593d3</span>;</span><br><span class="line"></span><br><span class="line">        &amp;:hover &#123;</span><br><span class="line">            <span class="attribute">border-bottom</span>: none;</span><br><span class="line">            <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fc6423</span>;</span><br><span class="line">            <span class="attribute">color</span>: <span class="number">#fc6423</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ–‡ç« åº•éƒ¨</span></span><br><span class="line">    <span class="selector-class">.post-footer</span> &#123;</span><br><span class="line">        <span class="selector-class">.post-widgets</span> &#123;</span><br><span class="line">            <span class="attribute">padding-top</span>: <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å½“ratingå’Œneedmoreshare2éƒ½å¼€å¯æ—¶è®©å®ƒä»¬å±…ä¸­ç«–ç€æ’</span></span><br><span class="line">            <span class="keyword">if</span> (hexo-config(<span class="string">'rating.enable'</span>) &amp;&amp; hexo-config(<span class="string">'needmoreshare2.enable'</span>)) &#123;</span><br><span class="line">                <span class="selector-id">#needsharebutton-postbottom</span> &#123;</span><br><span class="line">                    <span class="comment">// bottom: 25px;</span></span><br><span class="line">                    <span class="comment">// margin: auto 50%;</span></span><br><span class="line">                    <span class="comment">//ä¿®å¤åˆ†äº«æŒ‰é’®åœ¨ç«ç‹æµè§ˆå™¨æ˜¾ç¤ºæ¢è¡Œçš„é—®é¢˜</span></span><br><span class="line">                    <span class="attribute">bottom</span>: -<span class="number">10px</span>;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="selector-class">.wp_rating</span> &#123;</span><br><span class="line">                    <span class="attribute">position</span>: relative;</span><br><span class="line">                    <span class="attribute">top</span>: <span class="number">35px</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.post-nav</span> &#123;</span><br><span class="line">            <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾§æ æŠ½å±‰</span></span><br><span class="line"><span class="selector-id">#sidebar</span> &#123;</span><br><span class="line">    <span class="comment">// è¿‘æœŸæ–‡ç« </span></span><br><span class="line">    <span class="selector-class">.sidebar-inner</span> <span class="selector-tag">li</span><span class="selector-class">.recent_posts_li</span> &#123;</span><br><span class="line">        <span class="attribute">text-align</span>: center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @media (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span><br><span class="line">        <span class="selector-class">.site-overview</span> &#123;</span><br><span class="line">            <span class="attribute">overflow-x</span>: hidden;</span><br><span class="line">            <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾§æ–¹æµ®åŠ¨æŠ½å±‰æŒ‰é’®</span></span><br><span class="line"><span class="selector-class">.sidebar-toggle</span> &#123;</span><br><span class="line">    @media (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span><br><span class="line">        <span class="attribute">right</span>: <span class="number">20px</span>;</span><br><span class="line">        <span class="attribute">bottom</span>: <span class="number">58px</span>;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">        <span class="attribute">opacity</span>: unset;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.sidebar-toggle-line</span> &#123;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">3px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å›åˆ°é¡¶éƒ¨æŒ‰é’®</span></span><br><span class="line"><span class="selector-class">.back-to-top</span> &#123;</span><br><span class="line">    @media (<span class="attribute">max-width</span>: <span class="number">960px</span>) &#123;</span><br><span class="line">        <span class="attribute">right</span>: <span class="number">20px</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @media (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span><br><span class="line">        <span class="attribute">right</span>: <span class="number">20px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åšå®¢é¡µé¢æœ€åº•éƒ¨</span></span><br><span class="line"><span class="selector-class">.footer-inner</span> &#123;</span><br><span class="line">    <span class="comment">// ç§»åŠ¨ç«¯footerå­—ä½“å˜å°ï¼Œé˜²æ­¢æ¢è¡Œ</span></span><br><span class="line">    @media (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">11px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ†ç±»é¡µ</span></span><br><span class="line"><span class="selector-class">.category-all-page</span> &#123;</span><br><span class="line">    <span class="selector-class">.category-list</span> &#123;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">margin-left</span>: <span class="number">44%</span>;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">list-style</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-class">.category-list-link</span> &#123;</span><br><span class="line">        <span class="attribute">font-weight</span>: bold;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½’æ¡£é¡µä½ç½®è°ƒæ•´</span></span><br><span class="line"><span class="selector-class">.posts-collapse</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">50px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post-header</span>::before &#123;</span><br><span class="line">        <span class="attribute">left</span>: -<span class="number">4px</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.collection-title</span> &#123;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">50px</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post</span> &#123;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">margin-top</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">margin-left</span>: <span class="number">2px</span>;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">2px</span>;</span><br><span class="line">        <span class="attribute">box-shadow</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post-header</span> &#123;</span><br><span class="line">        <span class="attribute">position</span>: relative;</span><br><span class="line">        <span class="attribute">border-bottom</span>: <span class="number">1px</span> dashed <span class="number">#ccc</span>;</span><br><span class="line">        <span class="attribute">transition-delay</span>: <span class="number">0s</span>;</span><br><span class="line">        <span class="attribute">transition-timing-function</span>: ease-in-out;</span><br><span class="line">        transition-duration: .2s;</span><br><span class="line">        <span class="attribute">transition-property</span>: border;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çƒ­æ–‡é¡µ</span></span><br><span class="line"><span class="selector-id">#top</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥å…¶ä»–æ–‡ä»¶çš„æ ·å¼</span></span><br><span class="line">@require 'scrollbar';</span><br><span class="line">@require 'comments';</span><br><span class="line">@require 'highlight-wrap';</span><br><span class="line">@require 'dark';</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’â€â™‚ä¸‹é¢çš„æ–‡ä»¶æ˜¯ <code>custom.styl</code>ä¾èµ–çš„æ ·å¼æ–‡ä»¶ï¼š</p><p>ï¼ˆ1ï¼‰<code>scrollbar.styl</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span></span><br><span class="line"><span class="comment">&gt;* @author qcmoke</span></span><br><span class="line"><span class="comment">&gt;* ç¾åŒ–åšå®¢ä¸­æµè§ˆå™¨çš„æ»šåŠ¨æ¡(åªé€‚ç”¨äºwebkitå†…æ ¸æµè§ˆå™¨)</span></span><br><span class="line"><span class="comment">&gt;*/</span></span><br><span class="line">&gt;@media (<span class="attribute">min-width</span>: <span class="number">567px</span>) &#123;</span><br><span class="line">  <span class="comment">/* å®šä¹‰æ»šåŠ¨æ¡é«˜å®½åŠèƒŒæ™¯é«˜å®½åˆ†åˆ«å¯¹åº”æ¨ªç«–æ»šåŠ¨æ¡çš„å°ºå¯¸ */</span></span><br><span class="line">  ::-webkit-scrollbar &#123;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#F5F5F5</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* å®šä¹‰æ»šåŠ¨æ¡è½¨é“å†…é˜´å½±+åœ†è§’ */</span></span><br><span class="line">  ::-webkit-scrollbar-track &#123;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#F5F5F5</span>;</span><br><span class="line">      -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, .3);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* å®šä¹‰æ»‘å—å†…é˜´å½±+åœ†è§’ */</span></span><br><span class="line">  ::-webkit-scrollbar-thumb &#123;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#555</span>;</span><br><span class="line">      -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, .3);</span><br><span class="line">  &#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰<code>comments.styl</code>çš„å†…å®¹å‚è€ƒä¸Šæ–‡â€œæ•´åˆå¤šä¸ªè¯„è®ºé¢æ¿â€</p><p>ï¼ˆ3ï¼‰<code>highlight-wrap.styl</code> çš„å†…å®¹å‚è€ƒä¸Šæ–‡â€œä¼˜åŒ–å’Œç¾åŒ–ä»£ç å—â€</p><p>ï¼ˆ4ï¼‰<code>dark.styl</code> çš„å†…å®¹å‚è€ƒä¸Šæ–‡â€œæ·»åŠ æš—é»‘æ¨¡å¼æ”¯æŒâ€</p></blockquote><h2 id="9-hexoæ”¯æŒæœ¬åœ°markdownæ–‡ä»¶é“¾æ¥å¼•ç”¨"><a class="header-anchor" href="#9-hexoæ”¯æŒæœ¬åœ°markdownæ–‡ä»¶é“¾æ¥å¼•ç”¨">Â¶</a>9. hexoæ”¯æŒæœ¬åœ°Markdownæ–‡ä»¶é“¾æ¥å¼•ç”¨</h2><blockquote><p>hexo é»˜è®¤æ”¯æŒæ ‡å‡† markdown è¯­æ³•å¼•ç”¨é“¾æ¥æ ¼å¼ï¼ˆå¦‚ï¼š<code>[xxx](xxx.html)</code>ï¼‰å’Œ hexo æ ‡ç­¾æ’ä»¶è¯­æ³•å¼•ç”¨é“¾æ¥æ ¼å¼ï¼ˆå¦‚ï¼š<code></code>ï¼‰ã€‚</p><p>å¼•ç”¨æœ¬åœ°æ–‡ç« å¯ä»¥é€šè¿‡ä½¿ç”¨ä»¥ä¸Šä¸¤ç§å¼•ç”¨é“¾æ¥æ ¼å¼è¯­æ³•æ¥æ»¡è¶³åŸºæœ¬è¦æ±‚ï¼Œä½†é€šå¸¸åœ¨ç¼–å†™ Markdown æ–‡ç« æ—¶ï¼ŒMarkdown æ–‡ä»¶å¯¹åº”çš„ html é¡µé¢è¿˜æ²¡æœ‰ç¼–è¯‘å‡ºæ¥ï¼Œæ­¤æ—¶çš„å¼•ç”¨é“¾æ¥æ˜¯æ— æ•ˆçš„ï¼Œæ•…è€Œæ— æ³•ä½¿ç”¨ Markdown ç¼–è¾‘å™¨ç›´æ¥æ‰“å¼€é“¾æ¥é¡µé¢ï¼Œä½†é€šè¿‡<code>[xxx](xxx.md)</code>çš„ Markdown æ–‡ä»¶é“¾æ¥æ–¹å¼æ¥ç›´æ¥å¼•ç”¨ Markdown æ–‡ä»¶æ—¶ Markdown ç¼–è¾‘å™¨æ˜¯å¯ä»¥æ‰“å¼€é“¾æ¥é¡µé¢çš„ï¼Œç„¶è€Œä½¿ç”¨<code>[xxx](xxx.md)</code>è¿™ç§å†™æ³•ä¼šå¯¼è‡´ hexo ç¼–è¯‘æ—¶æ— æ³•æ¸²æŸ“ä¸º html é“¾æ¥ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ç»™ hexo æ·»åŠ ç¼–è¯‘è¿‡æ»¤å™¨ï¼Œè®© hexo ç¼–è¯‘æ—¶å°†<code>[xxx](xxx.md)</code> ä¿®æ”¹ä¸º<code>[xxx](xxx.html)</code>ã€‚å…·ä½“å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p></blockquote><p>åˆ›å»ºå¹¶ç¼–è¾‘ï¼š<code>themes/next/scripts/filters/hexo-md-link.js</code> æ–‡ä»¶ã€‚å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> log = <span class="built_in">require</span>(<span class="string">"hexo-log"</span>)(&#123; <span class="attr">debug</span>: <span class="literal">false</span>, <span class="attr">slient</span>: <span class="literal">false</span> &#125;);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"hexo-fs"</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span><br><span class="line"><span class="keyword">const</span> base_dir = path.join(hexo.source_dir, <span class="string">"_posts"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fileList = fs</span><br><span class="line">  .listDirSync(base_dir, &#123;</span><br><span class="line">    ignorePattern: <span class="regexp">/node_modules/</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">  .filter(<span class="function">(<span class="params">each</span>) =&gt;</span> each &amp;&amp; <span class="regexp">/\.md$/</span>.test(each))</span><br><span class="line">  .map(<span class="function">(<span class="params">each</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> array = (each + <span class="string">""</span>).split(path.sep);</span><br><span class="line">    <span class="comment">// For Windows</span></span><br><span class="line">    <span class="keyword">if</span> (path.sep === <span class="string">"\\"</span>) &#123;</span><br><span class="line">      each = each.replace(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\"</span> + path.sep, <span class="string">"g"</span>), <span class="string">"/"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      fileNameExt: array.length === <span class="number">0</span> ? <span class="string">""</span> : array[array.length - <span class="number">1</span>],</span><br><span class="line">      filePath: each,</span><br><span class="line">      articleName: each.replace(<span class="regexp">/\.md$/</span>, <span class="string">""</span>),</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fixLink</span>(<span class="params">data, regEx, func</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> &#123; content &#125; = data;</span><br><span class="line">  <span class="keyword">let</span> result = content.match(regEx);</span><br><span class="line">  <span class="keyword">if</span> (result &amp;&amp; result.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// console.log("result");</span></span><br><span class="line">    result.forEach(<span class="function">(<span class="params">linkString</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> [filepath, showName] = func(linkString);</span><br><span class="line">      <span class="comment">//   console.log(&#123; linkString, filepath, showName &#125;);</span></span><br><span class="line">      <span class="keyword">let</span> anchor = <span class="literal">null</span>;</span><br><span class="line">      <span class="keyword">if</span> (!filepath || filepath.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      filepath = filepath.trim();</span><br><span class="line">      <span class="keyword">let</span> htmlFilepath = filepath.replace(<span class="string">".md"</span>, <span class="string">".html"</span>);</span><br><span class="line">      fileName = filepath.split(<span class="string">"/"</span>).pop();</span><br><span class="line">      [fileName, anchor] = fileName.split(<span class="string">"#"</span>);</span><br><span class="line">      <span class="keyword">const</span> extName = <span class="string">".md"</span>;</span><br><span class="line">      <span class="keyword">let</span> realNameExt = fileName;</span><br><span class="line">      <span class="keyword">if</span> (!fileName.endsWith(extName)) &#123;</span><br><span class="line">        realNameExt = fileName + extName;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//console.log(&#123; realNameExt, filepath, showName &#125;);</span></span><br><span class="line">      <span class="keyword">let</span> file = fileList.find(<span class="function">(<span class="params">file</span>) =&gt;</span> file.fileNameExt === realNameExt);</span><br><span class="line">      <span class="keyword">if</span> (file) &#123;</span><br><span class="line">        <span class="comment">// console.log("file", file);</span></span><br><span class="line">        content = replaceAndIgnoreCode(</span><br><span class="line">          content,</span><br><span class="line">          linkString,</span><br><span class="line">          <span class="string">`&lt;a href="<span class="subst">$&#123;htmlFilepath&#125;</span>" name="<span class="subst">$&#123;filepath&#125;</span>" id="hexo-md-link"&gt;<span class="subst">$&#123;</span></span></span><br><span class="line"><span class="string"><span class="subst">            showName || filepath</span></span></span><br><span class="line"><span class="string"><span class="subst">          &#125;</span>&lt;/a&gt;`</span></span><br><span class="line">          <span class="comment">//   `&#123;% post_link $&#123;file.articleName&#125; '$&#123;showName || filepath&#125;' %&#125;`</span></span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  data.content = content;</span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–å­—ç¬¦ä¸²çš„ å“ˆå¸Œå€¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getHashCode</span>(<span class="params">str, caseSensitive</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!caseSensitive) &#123;</span><br><span class="line">    str = str.toLowerCase();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> hash = <span class="number">1315423911</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = str.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">let</span> ch = str.charCodeAt(i);</span><br><span class="line">    hash ^= (hash &lt;&lt; <span class="number">5</span>) + ch + (hash &gt;&gt; <span class="number">2</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> hash &amp; <span class="number">0x7fffffff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›¿æ¢å¼•ç”¨é“¾æ¥ï¼ˆæ’é™¤ä»£ç å—ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">replaceAndIgnoreCode</span>(<span class="params">markdown, oldString, newString</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// åŒ¹é…æ‰€æœ‰ä»£ç ï¼š`code`å’Œä»£ç å—ï¼š```code</span></span><br></pre></td></tr></table></figure><p>let codeBlocksRegex = /<code>{1,3}[\s\S]*?</code>{1,3}/g;<br>let originalCodeStrArr = markdown.match(codeBlocksRegex);</p><p>// åœ¨æ¯ä¸ªåŒ¹é…é¡¹ä¹‹é—´ï¼Œä½¿ç”¨å ä½ç¬¦å¡«å……åŸå§‹æ–‡æœ¬ä¸­çš„å†…å®¹<br>const PLACEHOLDER_CODE =<br>â€œ<strong>CODE_BLOCK_PLACEHOLDER</strong>â€ +<br>getHashCode(oldString) +<br>&quot;@&quot; +<br>new Date().getTime();<br>let placeholders = Array(originalCodeStrArr.length).fill(PLACEHOLDER_CODE);</p><p>//ä½¿ç”¨å ä½ç¬¦æ›¿æ¢æ‰€æœ‰ä»£ç å—ï¼ˆå…ˆè·å–æ‰€æœ‰çš„ä»£ç å—ï¼Œç„¶åä½¿ç”¨å ä½ç¬¦æ›¿æ¢æ¯ä¸ªä»£ç å—ï¼‰<br>let reconstructedMarkdown = markdown<br>.split(codeBlocksRegex)<br>.reduce((acc, cur, i) =&gt; acc.concat(cur, placeholders[i] || â€œâ€), [])<br>.join(&quot;&quot;);</p><p>// æ›¿æ¢å­—ç¬¦ä¸²ï¼ˆæ’é™¤ä»£ç å—å†…çš„å†…å®¹ï¼‰<br>let newMarkdown = reconstructedMarkdown.replace(oldString, newString);</p><p>// å°†å ä½ç¬¦æ›¿æ¢å›ä»£ç å—<br>let finalMarkdown = newMarkdown<br>.split(PLACEHOLDER_CODE)<br>.reduce(<br>(accumulator, currentValue, i) =&gt;<br>accumulator.concat(currentValue, originalCodeStrArr[i] || â€œâ€),<br>[]<br>) //å°†æ•°ç»„çš„æ‰€æœ‰å…ƒç´ æŒ‰é¡ºåºä¾æ¬¡æ‰§è¡ŒæŒ‡å®šçš„å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªç´¯ç§¯çš„ç»“æœ<br>.join(&quot;&quot;)<br>.trim();</p><p>return finalMarkdown;<br>}</p><p>hexo.extend.filter.register(<br>â€œbefore_post_renderâ€,<br>(data) =&gt; {<br>// é€‚é… <a href="xxx/xxxx.md">xxx</a> æ ¼å¼markdowné“¾æ¥<br>fixLink(data, /[.<em>?](.</em>?.md.<em>?)/g, (linkString) =&gt; {<br>let filepath = â€œâ€;<br>let showName = â€œâ€;<br>let filepathMatches = linkString.match(/((.</em>?))/);<br>if (filepathMatches &amp;&amp; filepathMatches.length &gt; 1) {<br>filepath = filepathMatches[1];<br>}<br>let showNameMatches = linkString.match(/[(.<em>?)]/);<br>if (showNameMatches &amp;&amp; showNameMatches.length &gt; 1) {<br>showName = showNameMatches[1];<br>}<br>return [filepath, showName];<br>});<br>// é€‚é… [[xxx/xxxx.md#xxx|xxx]] æ ¼å¼wikié“¾æ¥<br>fixLink(data, /[[.</em>?]]/g, (linkString) =&gt; {<br>let [filepath, showName] = (linkString + â€œâ€)<br>.replace(&quot;[[&quot;, â€œâ€)<br>.replace(&quot;]]&quot;, â€œâ€)<br>.split(&quot;|&quot;);<br>return [filepath, showName];<br>});<br>},<br>0<br>);</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt;æ­¤è„šæœ¬é™¤äº†æ”¯æŒ&#96;[xxx](xxx&#x2F;xxxx.md)&#96;æ ¼å¼çš„ markdown å¼•ç”¨é“¾æ¥è¿˜æ”¯æŒ&#96;[[xxx&#x2F;xxxx.md#xxx|xxx]]&#96;æ ¼å¼çš„ wiki å¼•ç”¨é“¾æ¥ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ·»åŠ ä»¥ä¸Šæ–‡ä»¶åï¼Œç„¶åé‡æ–°è¿›è¡Œ hexo ç¼–è¯‘å³å¯æ”¯æŒ markdown å¼•ç”¨é“¾æ¥ã€‚</span><br><span class="line"></span><br><span class="line"># è¿ç»´éƒ¨ç½²ç¯‡</span><br><span class="line"></span><br><span class="line">## 1. æ·»åŠ å¤‡æ¡ˆå·</span><br><span class="line"></span><br><span class="line">ä¿®æ”¹ &#96;themes&#x2F;next&#x2F;layout&#x2F;_layout.swig&#96;ï¼Œåœ¨footeræ ‡ç­¾é‡Œæ·»åŠ aé“¾æ¥æ ‡ç­¾ï¼Œå¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;html</span><br><span class="line">&lt;footer id&#x3D;&quot;footer&quot; class&#x3D;&quot;footer&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;footer-inner&quot;&gt;</span><br><span class="line">        &#123;% include &#39;_partials&#x2F;footer.swig&#39; %&#125;</span><br><span class="line">        &#123;% include &#39;_third-party&#x2F;analytics&#x2F;analytics-with-widget.swig&#39; %&#125;</span><br><span class="line">        &#123;% if theme.beian.enable %&#125;</span><br><span class="line">        &lt;a href&#x3D;&quot;&#123;&#123;url_for(theme.beian.url)&#125;&#125;&quot; target&#x3D;&quot;_blank&quot;&gt;&#123;&#123;theme.beian.beianNum&#125;&#125;&lt;&#x2F;a&gt;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">        &#123;% block footer %&#125;&#123;% endblock %&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;footer&gt;</span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>themes/next/_config.yml</code>læ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">beian:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">https://beian.miit.gov.cn/</span></span><br><span class="line">  <span class="attr">beianNum:</span> <span class="string">é»”ICPå¤‡20002951å·</span></span><br></pre></td></tr></table></figure><h2 id="2-æœç´¢å¼•æ“ä¼˜åŒ–-seo"><a class="header-anchor" href="#2-æœç´¢å¼•æ“ä¼˜åŒ–-seo">Â¶</a>2. æœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSEOï¼‰</h2><h3 id="1-ç”Ÿæˆç½‘ç«™åœ°å›¾æ–‡ä»¶"><a class="header-anchor" href="#1-ç”Ÿæˆç½‘ç«™åœ°å›¾æ–‡ä»¶">Â¶</a>1) ç”Ÿæˆç½‘ç«™åœ°å›¾æ–‡ä»¶</h3><p>é’ˆå¯¹ç™¾åº¦å’Œè°·æ­Œï¼Œåˆ†åˆ«æœ‰ä¸¤ä¸ª hexo æ’ä»¶ï¼Œ<code>hexo-generator-sitemap</code> æ˜¯æ˜¯ç”Ÿæˆè°·æ­Œ sitemap çš„æ’ä»¶ï¼›<code>hexo-generator-baidu-sitemap</code>åˆ™æ˜¯ç”Ÿæˆç™¾åº¦ sitemap çš„æ’ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save-dev</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save-dev</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œé‡å¯hexoï¼Œæ‰§è¡Œ<code>hexo g</code>åï¼Œåœ¨publicç›®å½•ä¸‹ç”Ÿæˆå¯¹åº”çš„xmlæ–‡ä»¶ã€‚æœ¬åœ°å¯ä»¥é€šè¿‡<code>http://127.0.0.4000/sitemap.xml</code>å’Œ <code>http://127.0.0.4000/baidusitemap.xml</code>è®¿é—®åˆ° sitemap æ–‡ä»¶ã€‚å‘å¸ƒåå¯ä»¥é€šè¿‡ <a href="https://yourdoname/sitemap.xml" target="_blank" rel="noopener">https://yourdoname/sitemap.xml</a> å’Œ <a href="https://yourdoname/baidusitemap.xml" target="_blank" rel="noopener">https://yourdoname/baidusitemap.xml</a> è®¿é—®ã€‚</p><h3 id="2-æ·»åŠ çˆ¬è™«è§„åˆ™æ–‡ä»¶"><a class="header-anchor" href="#2-æ·»åŠ çˆ¬è™«è§„åˆ™æ–‡ä»¶">Â¶</a>2) æ·»åŠ çˆ¬è™«è§„åˆ™æ–‡ä»¶</h3><p>æ–°å»ºçˆ¬è™«è§„åˆ™æ–‡ä»¶ï¼š<code>themes/next/source/robots.txt</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># hexo robots.txt</span><br><span class="line">User-agent: * Allow: &#x2F;</span><br><span class="line">Allow: &#x2F;archives&#x2F;</span><br><span class="line">Disallow: &#x2F;vendors&#x2F;</span><br><span class="line">Disallow: &#x2F;js&#x2F;</span><br><span class="line">Disallow: &#x2F;css&#x2F;</span><br><span class="line">Disallow: &#x2F;fonts&#x2F;</span><br><span class="line">Disallow: &#x2F;vendors&#x2F;</span><br><span class="line">Disallow: &#x2F;fancybox&#x2F;</span><br></pre></td></tr></table></figure><h3 id="3-æäº¤æ–‡ä»¶"><a class="header-anchor" href="#3-æäº¤æ–‡ä»¶">Â¶</a>3) æäº¤æ–‡ä»¶</h3><ul><li>æ³¨å†Œ <a href="https://www.google.com/webmasters/" target="_blank" rel="noopener">googleç½‘ç«™ç«™é•¿</a> å¹³å°ã€‚å°† <a href="https://yourdoname/sitemap.xml" target="_blank" rel="noopener">https://yourdoname/sitemap.xml</a> æäº¤ç»™googleç½‘ç«™ç«™é•¿</li><li>æ³¨å†Œ <a href="https://ziyuan.baidu.com/site/index" target="_blank" rel="noopener">ç™¾åº¦ç«™é•¿</a> å¹³å°ï¼Œå°† <a href="https://yourdoname/baidusitemap.xml" target="_blank" rel="noopener">https://yourdoname/baidusitemap.xml</a> æäº¤ç»™ç™¾åº¦ç«™é•¿</li><li>ç™¾åº¦ç«™é•¿å’ŒGoogleç½‘ç«™ç«™é•¿éƒ½è¦æäº¤ <a href="https://yourdoname/robots.txt" target="_blank" rel="noopener">https://yourdoname/robots.txt</a></li></ul><h2 id="3-é™æ€èµ„æºå‹ç¼©ä¼˜åŒ–"><a class="header-anchor" href="#3-é™æ€èµ„æºå‹ç¼©ä¼˜åŒ–">Â¶</a>3. é™æ€èµ„æºå‹ç¼©ä¼˜åŒ–</h2><p>ç”¨hexoç”Ÿæˆé™æ€æ–‡ä»¶æ—¶ï¼Œé»˜è®¤ç”Ÿæˆçš„é™æ€æ–‡ä»¶å­˜åœ¨å¤§é‡ç©ºç™½ï¼Œè€Œä¸”cssã€jséƒ½æœªç»å‹ç¼©ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¼šå½±å“é¡µé¢çš„åŠ è½½ï¼Œæ‰€ä»¥åœ¨ç½‘ä¸Šæ‰€æœæœ‰æ²¡æœ‰åŠæ³•æ¥ä¼˜åŒ–è¿™äº›é—®é¢˜ï¼Ÿ</p><p>ç­”æ¡ˆè‚¯å®šæ˜¯æœ‰ï¼Œå½“ç„¶å¤§éƒ¨åˆ†åšå®¢éƒ½æåˆ°äº†ä½¿ç”¨gulpæ¥ç²¾ç®€ä»£ç ï¼Œè€Œæˆ‘ä»Šå¤©æ‰€è¦è·Ÿå¤§å®¶ä»‹ç»çš„æ˜¯<a href="https://github.com/rozbo/hexo-neat" target="_blank" rel="noopener">hexo-neatæ’ä»¶</a> ã€‚æˆ‘ä¸ºå•¥ä¸é€‰æ‹©gulpè€Œä½¿ç”¨hexo-neatå‘¢ï¼Ÿå› ä¸ºç”¨gulpéœ€è¦åœ¨æ¯æ¬¡ç”Ÿæˆé™æ€æ–‡ä»¶åï¼Œå³ <code>hexo g</code>åï¼Œéƒ½è¦å¦å¤–æ‰§è¡Œ <code>gulp</code>å‘½ä»¤æ‰èƒ½å‹ç¼©é™æ€æ–‡ä»¶ï¼›è€Œä½¿ç”¨hexo-neatåˆ™æ— é¡»å¦å¤–æ‰§è¡Œå…¶ä»–å‘½ä»¤å³å¯è‡ªåŠ¨å®Œæˆå‹ç¼©åŠŸèƒ½ï¼Œå³æ–¹ä¾¿äº†ä½¿ç”¨ä¹ æƒ¯ã€‚</p><p>åœ¨ç«™ç‚¹çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-neat --save</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ <code>myblog/_config.yml</code>å…¨å±€é…ç½®æ–‡ä»¶æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#é™æ€èµ„æºå‹ç¼©ä¼˜åŒ–</span></span><br><span class="line"><span class="comment"># hexo-neat</span></span><br><span class="line"><span class="attr">neat_enable:</span> <span class="literal">true</span> <span class="comment"># å¯ç”¨neat</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹htmlä¼˜åŒ–</span></span><br><span class="line"><span class="attr">neat_html:</span>        </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># å¯¹cssä¼˜åŒ–</span></span><br><span class="line"><span class="attr">neat_css:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">'*.min.css'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹jsä¼˜åŒ–</span></span><br><span class="line"><span class="attr">neat_js:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mangle:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">output:</span></span><br><span class="line">  <span class="attr">compress:</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">'*.min.js'</span></span><br></pre></td></tr></table></figure><p>åšå¥½ä»¥ä¸Šå‡ æ­¥ä¹‹åï¼Œé‡æ–°ç”Ÿæˆåšå®¢çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨å‹ç¼©æ‰€æœ‰çš„ htmlã€cssã€jsã€‚è®¿é—®åšå®¢æ—¶èƒ½æ„Ÿåˆ°æ˜æ˜¾åŠ å¿«äº†ã€‚</p><h2 id="4-éƒ¨ç½²hexoåˆ°gitæœåŠ¡å™¨"><a class="header-anchor" href="#4-éƒ¨ç½²hexoåˆ°gitæœåŠ¡å™¨">Â¶</a>4. éƒ¨ç½²hexoåˆ°gitæœåŠ¡å™¨</h2><p>ä¸‹é¢ä»¥ GitHub æœåŠ¡å™¨ä¸ºä¾‹è®²è§£ï¼š</p><p>ï¼ˆ1ï¼‰é¦–å…ˆè¦ç™»å½•githubåˆ›å»ºä¸€ä¸ª <code>user.github.io</code>ä»“åº“ï¼Œä»“åº“åæ¯”è¾ƒç‰¹æ®Šï¼Œå¦‚ï¼š<code>qcmoke.github.io</code>ï¼Œæ­¤å¤„çš„ <code>qcmoke</code>ä¸ºä½ çš„githubç”¨æˆ·å,githubæ­£æ˜¯é€šè¿‡è¿™ä¸ªä»“åº“å…è´¹ç”Ÿæˆä¸è¯¥ä»“åº“åç›¸åŒçš„åŸŸåï¼Œæ³¨æ„githubåªä¸ºæ¯ä¸€ä½ç”¨æˆ·æä¾›ä¸€ä¸ªè¿™æ ·å¸¦æœ‰å…è´¹åŸŸåçš„ <code>github page</code>ã€‚</p><blockquote><p>ğŸ’â€â™‚è¯´æ˜:</p><p>é™¤äº† <code>user.github.io</code>è¿™æ ·ç‰¹æ®Šåç§°çš„ä»“åº“å¤–ï¼Œå½“ç„¶å…¶ä»–ä»»æ„åç§°çš„ä»“åº“ä¹Ÿå¯ä»¥è®¾ç½®pagesæœåŠ¡ï¼Œåªæ˜¯ä¸æä¾›åŸŸåç½¢äº†ï¼Œä½†ä¹Ÿèƒ½é€šè¿‡ <code>user.github.io/ä»“åº“åç§°</code>æˆ–è€…è®¾ç½®è‡ªå®šä¹‰åŸŸåçš„æ–¹å¼è®¿é—®pagesé¡µé¢ã€‚</p></blockquote><p>ï¼ˆ2ï¼‰å®‰è£…gitæ–‡ä»¶ä¸Šä¼ æ’ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>æ‰“å¼€å…¨å±€é…ç½®æ–‡ä»¶ <code>myblog/_config.yml</code>ï¼Œæ‰¾åˆ° <code>deploy</code>å¹¶è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:qcmoke/qcmoke.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><blockquote><p>å…¶ä¸­ <code>repository</code> çš„å€¼æ˜¯ä½  git è¿œç¨‹ä»“åº“çš„åœ°å€ã€‚</p></blockquote><p>ï¼ˆ3ï¼‰æäº¤éƒ¨ç½²</p><p>å¦‚æœä½ ä¸Šé¢éƒ½é…ç½®å¥½äº†ï¼Œå‘å¸ƒä¸Šä¼ å¾ˆå®¹æ˜“ï¼Œåªè¦ä¸€å¥å‘½ä»¤å°±èƒ½æå®šã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è¿™æ¡å‘½ä»¤ä¼šå°†publicç›®å½•çš„æ–‡ä»¶æäº¤ä¸Šä¼ åˆ°gitè¿œç¨‹ä»“åº“</span></span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’â€â™‚ æ³¨æ„ï¼š</p><p>æœ¬åœ°å®‰è£…å¥½åssh keyä¸€å®šè¦é…ç½®å¥½ã€‚ å› ä¸ºä¸Šä¼ æ–‡ä»¶åˆ°githubçš„è¿‡ç¨‹ä¸­éœ€è¦ã€‚</p></blockquote><p>ï¼ˆ4ï¼‰è®¿é—® <code>https://qcmoke.github.io</code>è¿›è¡Œæµ‹è¯•</p><blockquote><p>ğŸ’â€â™‚æ³¨æ„ï¼š</p><p>è¿™ä¸ªè¯·æ±‚åœ°å€ç”¨ä½ è‡ªå·±çš„ï¼Œå³ <code>https://user.github.io</code></p></blockquote><h2 id="5-githubå’ŒcodingåŒçº¿è·¯éƒ¨ç½²hexo"><a class="header-anchor" href="#5-githubå’ŒcodingåŒçº¿è·¯éƒ¨ç½²hexo">Â¶</a>5. githubå’ŒcodingåŒçº¿è·¯éƒ¨ç½²hexo</h2><h3 id="1-é…ç½®"><a class="header-anchor" href="#1-é…ç½®">Â¶</a>1) é…ç½®</h3><p>è¿™é‡Œè®²çš„æ˜¯hexoä¸€æ¬¡éƒ¨ç½²èƒ½å¤Ÿå®ç°githubå’Œcodingä¸¤ä¸ªè¿œç¨‹ä»“åº“è‡ªåŠ¨åŒæ­¥ï¼Œä½ åªè¦æ‰“å¼€å…¨å±€é…ç½®æ–‡ä»¶ <code>myblog/_config.yml</code>ï¼Œæœç´¢å…³é”®å­— <code>deploy</code>ï¼Œæ ¹æ®è‡ªå·±è¿œç¨‹ä»“åº“åœ°å€åšä»¥ä¸‹ä¿®æ”¹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> </span><br><span class="line">    <span class="attr">github:</span> <span class="string">git@github.com:qcmoke/qcmoke.github.io.git</span> </span><br><span class="line">    <span class="attr">coding:</span> <span class="string">git@git.coding.net:qcmoke/qcmoke.coding.me.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><h3 id="2-éƒ¨ç½²"><a class="header-anchor" href="#2-éƒ¨ç½²">Â¶</a>2) éƒ¨ç½²</h3><p>å’ŒåŸæ¥çš„å•éƒ¨ç½²æ‰§è¡Œçš„å‘½ä»¤ä¸€æ ·ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>ğŸ™†â€â™‚ åŒçº¿è·¯éƒ¨ç½²hexoå®Œæˆã€‚</p><h3 id="3-é¢å¤–è¡¥å……-v2"><a class="header-anchor" href="#3-é¢å¤–è¡¥å……-v2">Â¶</a>3) é¢å¤–è¡¥å……</h3><p>å…¶å®å®Œæˆä»¥ä¸Šæ­¥éª¤å°±èƒ½å®ç°ç®€å•ç‰ˆçš„åŒçº¿è·¯éƒ¨ç½² hexo äº†ï¼Œä½†æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p><blockquote><ul><li>ï¼ˆ1ï¼‰ä¸åŒå¹³å°ä¸Šçš„hexoåšå®¢éœ€è¦ä¸åŒçš„åŸŸåè®¿é—®</li><li>ï¼ˆ2ï¼‰åŒçº¿éƒ¨ç½²çš„çš„æƒ…å†µä¸‹ï¼Œgittalk ç”±äºæ˜¯é€šè¿‡åŸŸåæ¥è°ƒç”¨ github OAuth Apps çš„ api çš„ï¼Œä½†æ˜¯ github å’Œ coding å…è´¹æä¾›çš„æ˜¯ä¸¤ä¸ªä¸åŒçš„åŸŸåï¼Œæ‰€ä»¥ä¼šå¯¼è‡´apiè°ƒç”¨é”™ä¹±è€ŒæŠ¥é”™çš„é—®é¢˜ã€‚</li></ul></blockquote><p>æˆ‘ä»¬å¸Œæœ›ç”¨åŒä¸€ä¸ªåŸŸåå°±èƒ½åŒæ—¶è®¿é—® github pages å’Œ coding pagesï¼Œå³æ‰€è°“çš„è´Ÿè½½å‡è¡¡æ€æƒ³ï¼Œè€Œä¸”è¿˜è¦è§£å†³ gitalk api è°ƒç”¨é”™ä¹±çš„é—®é¢˜ã€‚</p><p>è§£å†³ä»¥ä¸Šé—®é¢˜çš„å‰ææ˜¯æœ‰ä¸€ä¸ªè‡ªå·±çš„åŸŸåã€‚è‡³äºæ€ä¹ˆè·å–åŸŸåï¼Œæˆ‘å°±ä¸åºŸè¯äº† å•Šï¼Œç™¾åº¦å§æœ‹å‹ ğŸ˜… ~ï¼è¿™é‡Œå°±å‡è®¾ä½ å·²ç»æœ‰äº†è‡ªå·±çš„åŸŸåï¼Œç„¶åæŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤ä¸€æ­¥ä¸€æ­¥å®Œæˆå³å¯ã€‚</p><h4 id="1-è§£æåŸŸåcnameè®°å½•"><a class="header-anchor" href="#1-è§£æåŸŸåcnameè®°å½•">Â¶</a>(1) è§£æåŸŸåCNAMEè®°å½•</h4><p>å°†åŸŸå CNAME è®°å½•åˆ†åˆ«è§£æåˆ°ä½  <code>yourname.github.io</code> å’Œ <code>yourname.coding.me</code> ä¸Šã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1538252205493.png" alt="1538252205493"></p><p>å¦‚æœä½ çš„dnsè§£ææ‰˜ç®¡æœåŠ¡å•†è§£æçº¿è·¯æœ‰â€œå›½å†…â€çº¿è·¯ï¼Œæœ€å¥½å°† <code>yourname.coding.me</code>è§£æåˆ°å›½å†…çº¿è·¯ã€‚è€Œ <code>yourname.github.io</code>è§£æåˆ°å›½å¤–çº¿è·¯å³å¯ã€‚å¦‚æœæ²¡æœ‰çš„è¯ï¼Œå’Œæˆ‘ä¸€æ ·å…¨é€‰é»˜è®¤çº¿è·¯å³å¯ã€‚</p><h4 id="2-è®¾ç½®è‡ªå®šä¹‰åŸŸå"><a class="header-anchor" href="#2-è®¾ç½®è‡ªå®šä¹‰åŸŸå">Â¶</a>(2) è®¾ç½®è‡ªå®šä¹‰åŸŸå</h4><p>åˆ†åˆ«ç™»å½•åˆ° github å’Œ coding åå°ï¼Œå°†ä½ çš„åŸŸåå¡«å…¥å¹¶å¯ç”¨ https å³å¯ã€‚</p><p><strong>ï¼ˆ2.1ï¼‰Github</strong></p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1538252756980.png" alt="1538252756980"></p><blockquote><p>ğŸ’â€â™‚æç¤ºï¼š</p><p>github ç›®å‰å¯ç”¨è‡ªå®šä¹‰åŸŸåçš„ https æœåŠ¡å¤§æ¦‚éœ€è¦ç­‰ 24 å°æ—¶æ‰èƒ½ç”Ÿæ•ˆã€‚å¦‚æœåˆ°æ—¶é—´äº†è¿˜æœªç”Ÿæ•ˆï¼Œå¹¶ä¸” â€œEnforce HTTPSâ€ æ˜¯ç°è‰²çš„ä¸èƒ½é€‰æ‹©æˆ–è€…æ²¡æœ‰è¿™ä¸ªé€‰é¡¹ï¼Œä½ å¯ä»¥æ¸…é™¤è®¾ç½®ä¸­çš„ custom domain åŸŸåï¼Œå†æ¬¡å¡«å†™ä¿å­˜å³å¯è§£å†³ï¼Œç„¶å â€œEnforce HTTPSâ€ é€‰æ‹©æ‰“é’©ï¼Œä¸€èˆ¬å°±èƒ½å¯ç”¨ https äº†ã€‚</p><p>ğŸ’¡ å¯é€‰ï¼šä½ å¯ä»¥é€‰æ‹©åœ¨ä»“åº“æ ¹ç›®å½•ä¸­åŠ å…¥ä¸€ä¸ªåä¸º <code>CNAME</code>çš„æ–‡ä»¶ï¼ˆæˆ–è€…åšå®¢æºç çš„<code>themes/next/source</code>ç›®å½•é‡Œï¼‰ï¼Œé‡Œé¢å¡«å…¥ä½ çš„åŸŸåï¼Œè¿™å’Œè®¾ç½®ä¸­å¡«å…¥è‡ªå®šä¹‰åŸŸåçš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼‰</p></blockquote><p><strong>ï¼ˆ2.2ï¼‰Coding</strong></p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1538252857797.png" alt="1538252857797"></p><blockquote><p>ğŸ’â€â™‚ è¯´æ˜ï¼š</p><p>coding éœ€è¦é“¶ç‰Œä»¥ä¸Šä¼šå‘˜æ‰æœ‰æƒé™åŠ å…¥è‡ªå®šä¹‰çš„åŸŸåã€‚ä¸è¿‡é“¶ç‰Œä¼šå‘˜æ˜¯å…è´¹çš„ï¼Œç™»å½• coding åæ‰¾åˆ°ä¼šå‘˜è®¾ç½®åç‚¹å‡»ç”³è¯·å¹¶å®Œå–„ä¸ªäººä¿¡æ¯åå°±èƒ½å‡çº§åˆ°é“¶ç‰Œä¼šå‘˜ã€‚</p><p>ğŸ™‰ ç›®å‰ coding è¢«è…¾è®¯å¤§å“¥æ”¶è´­åï¼Œç•Œé¢æ”¹äº†å¾ˆå¤šï¼Œè¯·è‡ªè¡Œè§£å†³ã€‚</p></blockquote><p>ğŸŒ¸ å®Œæˆåä½ åªè¦é€šè¿‡è‡ªå®šä¹‰çš„åŸŸåè®¿é—®ä½ çš„ git page æœåŠ¡å³å¯ã€‚</p><h4 id="3-é¢å¤–è¡¥å……-v3"><a class="header-anchor" href="#3-é¢å¤–è¡¥å……-v3">Â¶</a>(3) é¢å¤–è¡¥å……</h4><blockquote><p>ğŸ’â€â™‚å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨gitalkï¼Œå¯ä»¥ç›´æ¥è·³è¿‡ä¸‹é¢çš„å†…å®¹ã€‚</p></blockquote><p>ä¸Šæ–‡ä¸­â€œåŠ å…¥è¯„è®ºé¢æ¿â€å·²ç»ä»‹ç»å¦‚ä½•åˆ›å»º â€œgithub OAuth Appsâ€ï¼Œè¿™é‡Œé¢å¤–è¡¥å……è¯´æ˜ä¸€ä¸‹ï¼Œå’Œæ— è‡ªå®šä¹‰åŸŸåçš„æƒ…å†µä¸åŒ ï¼Œæœ‰è‡ªå®šä¹‰åŸŸåçš„æƒ…å†µåªéœ€è¦ä¸€ä¸ª github OAuth Apps ï¼Œæ‰€ä»¥ Homepage URL å’Œ Authorization callback URL éƒ½æŒ‡å‘åŒä¸€ä¸ªåœ°å€è·¯å¾„ï¼Œæ‰€ä»¥ä¸åŒä»“åº“ä¸‹çš„ gitalk å®é™…è°ƒç”¨çš„æ˜¯åŒä¸€ä¸ªgithub OAuth Appsçš„api ã€‚å¦‚æœä½ ä¹‹å‰å·²ç»ä¸º github åšå®¢å’Œ coding åšå®¢åˆ†åˆ«åˆ›å»ºäº†ä¸¤ä¸ª github OAuth Appsï¼Œé‚£ä¹ˆæˆ‘å»ºè®®ä½ å¯ä»¥åˆ é™¤æ‰é‚£äº›æ— ç”¨çš„ github OAuth Apps äº†ã€‚ç„¶åé‡æ–°åˆ›å»ºä¸€ä¸ª github OAuth Appsï¼Œ</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1538254113055.png" alt="1538254113055"></p><blockquote><p>æ³¨æ„ï¼šgithub OAuth Apps ä¸Šçš„ Homepage URL å’Œ Authorization callback URL ä¸ºä½ åšå®¢çš„æ–°åœ°å€ï¼ˆè‡ªå®šä¹‰åŸŸååœ°å€ï¼‰</p></blockquote><p>ä¿®æ”¹ <code>myblog/themes/next/_config.yml</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­çš„ gitalk é…ç½®ï¼Œé…ç½®å®Œæˆå¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1538284914651.png" alt="1538284914651"></p><h3 id="4-å…³äºcodingå¹¿å‘Š"><a class="header-anchor" href="#4-å…³äºcodingå¹¿å‘Š">Â¶</a>4) å…³äºcodingå¹¿å‘Š</h3><p>ç›®å‰ä½¿ç”¨è‡ªå®šä¹‰åŸŸåï¼Œcodingä¼šå¼ºåˆ¶åœ¨ä½ æ‰“å¼€åšå®¢æ—¶æ”¾å…¥å‡ ç§’é’Ÿçš„å¹¿å‘Šï¼Œåœ¨æ­¤åæ§½ä¸€ä¸‹ğŸ’¢ã€‚å»é™¤è¿™ä¸ªå¹¿å‘Šé¡µé¢ä¹Ÿä¸æ˜¯æ²¡æœ‰åŠæ³•ï¼Œcodingæä¾›äº†ä¸€äº›åŠæ³•ï¼Œå…¶ä¸­ä¸€ç§å°±æ˜¯åœ¨ä½ çš„åšå®¢é¦–é¡µåŠ å…¥ä»–ä»¬å®¶çš„é“¾æ¥ã€‚ä¹Ÿå°±æ˜¯â€œHosted by <a href="https://pages.coding.me/" target="_blank" rel="noopener">Coding Pages</a>â€è¿™å‡ ä¸ªå­—ï¼Œè™½ç„¶è¿˜æ˜¯å¾ˆè®¨åŒï¼Œä½†æ˜¯æ²¡åŠæ³•ï¼Œå¿å¿å§ï¼Œæ¯•ç«Ÿè¦äº†äººå®¶çš„æœåŠ¡å™¨å•¦ã€‚æ—¢ç„¶codingè¦æ±‚å¸®ä»–ä»¬æ‰“å¹¿å‘Šï¼Œè€Œæˆ‘åˆç”¨çš„æ˜¯åŒçº¿éƒ¨ç½²hexoåšå®¢åˆ°githubå’Œcodingä¸Šçš„æ–¹æ¡ˆï¼Œæ•…å°†è®¡å°±è®¡ï¼Œé‚£ä¹Ÿé¡ºä¾¿å¸®githubæ‰“å¹¿å‘Šå•¦ã€‚å…·ä½“åšæ³•å¦‚ä¸‹:</p><p>åœ¨ <code>myblog/themes/next/layout/_partials/footer.swig</code>ä¸­æ‰¾åˆ°å¦‚ä¸‹ä»£ç å—:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  &#123;% if theme.post_wordcount.totalcount %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-icon"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-area-chart"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    &#123;% if theme.post_wordcount.item_text %&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>&#123;&#123; __('post.totalcount') &#125;&#125;:<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; __('post.totalcount') &#125;&#125;"</span>&gt;</span>&#123;#</span><br><span class="line">    #&#125;&#123;&#123; totalcount(site, '0,0.0a') &#125;&#125;&#123;#</span><br><span class="line">  #&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦èµ·ä¸€è¡Œï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç :</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Github Pages and coding pages ad --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Hosted by <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://pages.github.com"</span> <span class="attr">style</span>=<span class="string">"font-weight: bold"</span>&gt;</span>Github Pages<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">â€‰ and â€‰</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Hosted by <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://pages.coding.me"</span> <span class="attr">style</span>=<span class="string">"font-weight: bold"</span>&gt;</span>Coding Pages<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå®Œæˆåè¿˜æ²¡ç»“æŸï¼Œè¿˜è¦ç™»å½•åˆ°codingåå°è®¾ç½®é€‰æ‹©â€œå·²æ”¾ç½® Hosted by Coding Pagesâ€æ‰“é’©ã€‚ä½†ä½ å¯èƒ½æ‰¾ä¸åˆ°è¿™ä¸ªè®¾ç½®é¡µé¢ï¼Œä½ éœ€è¦åˆ‡æ¢codingä¸»é¡µå›æ—§ç‰ˆå†æ‰¾pagesæœåŠ¡è®¾ç½®ï¼Œå°±èƒ½æ‰¾åˆ°è¿™ä¸ªè®¾ç½®äº†ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1538276541146.png" alt="1538276541146"></p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/1538276615247.png" alt="1538276615247"></p><p>Hosted by Coding Pages æäº¤åéœ€è¦å®¡æ ¸ï¼Œä¼šåœ¨ä¸¤ä¸ªå·¥ä½œæ—¥å†…ä¸ºä½ å¤„ç†ã€‚å¤„ç†æˆåŠŸåå°±ä¸ä¼šæœ‰æ‰“å¼€åšå®¢ä¸»é¡µå‰çš„å‡ ç§’é’Ÿå¹¿å‘Šæ¨é€äº†ã€‚</p><h1 id="æ»šåŠ¨æ”¹ç‰ˆç¯‡"><a class="header-anchor" href="#æ»šåŠ¨æ”¹ç‰ˆç¯‡">Â¶</a>æ»šåŠ¨æ”¹ç‰ˆç¯‡</h1><h2 id="1-hexoå‡çº§è‡³4-2-1"><a class="header-anchor" href="#1-hexoå‡çº§è‡³4-2-1">Â¶</a>1. hexoå‡çº§è‡³4.2.1</h2><blockquote><p>åŸæ¥ç‰ˆæœ¬ï¼š<code>hexo@3.7.1</code> + <code>hexo-theme-next@5.1.4</code></p><p>å‡çº§ç‰ˆæœ¬ï¼š<code>hexo@4.2.1</code> + <code>hexo-theme-next@5.1.4</code></p></blockquote><p>åŸæœ¬ä½¿ç”¨çš„<code>hexo@3.7.1</code>ç‰ˆæœ¬ï¼Œä¸€ç›´æœ‰ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å¼•ç”¨é‡Œå¦‚æœä½¿ç”¨ä»£ç å—ï¼Œé‚£ä¹ˆä»£ç å—çš„æ¯è¡Œå¼€å¤´éƒ½ä¼šå¤šå‡ºå­—ç¬¦<code>&gt;</code>ã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/Snipaste_2023-04-17_04-02-20.png" alt="Snipaste_2023-04-17_04-02-20"></p><p>ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜æˆ‘æŠŠhexoç‰ˆæœ¬å‡çº§åˆ°äº†<code>4.2.1</code>ã€‚å…¶å®åªè¦å‡çº§åˆ°<code>4.0.0</code>ä»¥ä¸Šçš„ç‰ˆæœ¬éƒ½å¯ä»¥ï¼Œä½†<code>5.0.0</code>çš„æ”¹åŠ¨å¤ªå¤§äº†æ‰€ä»¥å°±æ²¡æ”¹å‡ï¼Œæ•…è€Œé€‰æ‹©äº†<code>hexo@4.x.x</code>çš„æœ€åä¸€ä¸ªç‰ˆæœ¬<code>hexo@4.2.1</code>ã€‚</p><p>ä½†æ˜¯å‡çº§åˆ°<code>hexo@4.2.1</code>ååˆå‘ç°å‡ºç°äº†ä¸€äº›å…¶ä»–çš„é—®é¢˜ï¼Œéœ€è¦æ‰‹åŠ¨é€‚é…ã€‚ä¸»è¦é€‚é…å†…å®¹ä¸ºä»¥ä¸‹ï¼š</p><blockquote><ol><li>ç‚¹å‡»åšå®¢èœå•æŒ‰é’®æ—¶æ— æ³•æ‰“å¼€é¡µé¢ï¼ŒåŸæœ¬çš„urlä¼šå¤šå‡º<code>%20</code>ç­‰ç¼–ç å­—ç¬¦ä¸²ï¼Œå¦‚ï¼š<code>http://localhost:4000/categories/%20/</code>ï¼Œå…¶ä¸»è¦åŸå› æ˜¯ä½¿ç”¨äº†<code>encodeURI</code>ç¼–ç äº†é“¾æ¥ï¼Œä½†æ˜¯åŸæœ¬èœå•çš„é…ç½®å¤šå‡ºäº†ç©ºæ ¼ï¼Œå¦‚ï¼š<code>categories: /categories/ || th</code>ã€‚</li></ol><p>è§£å†³åŠæ³•æœ‰ä¸¤ä¸ª</p><p>ï¼ˆ1ï¼‰åªè¦æŠŠ<code>||</code>å‰é¢çš„ç©ºæ ¼å»æ‰å°±å¯ä»¥äº†ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line"><span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line"><span class="comment">#about: /about/ || user</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line"><span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br><span class="line"></span><br><span class="line"><span class="string">ä¸Šé¢ä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼ˆåˆ é™¤pathä¸­å¤šä½™ç©ºæ ¼ï¼‰ï¼š</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line"><span class="attr">home:</span> <span class="string">/||</span> <span class="string">home</span></span><br><span class="line"><span class="comment">#about: /about/ || user</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">/tags/||</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">categories:</span> <span class="string">/categories/||</span> <span class="string">th</span></span><br><span class="line"><span class="attr">archives:</span> <span class="string">/archives/||</span> <span class="string">archive</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰è¿˜æœ‰ä¸€ç§åŠæ³•å°±æ˜¯åœ¨è·³è½¬å‰çš„ä»£ç ä¸­æŠŠç©ºæ ¼å»é™¤æ‰ï¼ˆæˆ‘ä½¿ç”¨çš„æ˜¯è¿™ç§ï¼‰ã€‚</p><p>ä¿®æ”¹<code>themes/next/layout/_macro/sidebar.swig</code>æ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;&#123;&#123; url_for(theme.menu.archives).split(&#39;||&#39;)[0] | trim &#125;&#125;&quot;&gt;</span><br><span class="line">æ”¹æˆ</span><br><span class="line">&lt;a href&#x3D;&quot;&#123;&#123; url_for(theme.menu.archives.split(&#39;||&#39;)[0] | trim )&#125;&#125;&quot;&gt;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹<code>themes/next/layout/_partials/header.swig</code>æ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;&#123;&#123; url_for(path.split(&#39;||&#39;)[0]) | trim &#125;&#125;&quot; rel&#x3D;&quot;section&quot;&gt;</span><br><span class="line">æ”¹æˆ</span><br><span class="line">&lt;a href&#x3D;&quot;&#123;&#123; url_for(path.split(&#39;||&#39;)[0] | trim )&#125;&#125;&quot; rel&#x3D;&quot;section&quot;&gt;</span><br></pre></td></tr></table></figure><blockquote><p>å‚è€ƒï¼š</p><p><a href="https://github.com/iissnan/hexo-theme-next/issues/2233" target="_blank" rel="noopener">https://github.com/iissnan/hexo-theme-next/issues/2233</a></p><p><a href="https://github.com/SevenNorth/AshesBlog/commit/e758caa65ccd3a9da20ebfadb35573257de6b35b" target="_blank" rel="noopener">https://github.com/SevenNorth/AshesBlog/commit/e758caa65ccd3a9da20ebfadb35573257de6b35b</a></p></blockquote><ol start="2"><li>é¦–é¡µåº•éƒ¨åˆ†é¡µæŒ‰é’®æ— æ³•è¯†åˆ«å­—ä½“å›¾æ ‡è€Œç›´æ¥å±•ç¤ºå‡º<code>html</code>æ ‡ç­¾ä»£ç å‡ºæ¥ï¼Œå¦‚ä¸‹å›¾</li></ol><p><img src="/blog/../images/loading-post.gif" data-original="hexo_next/image-20230417095200752.png" alt="image-20230417095200752"></p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦ä¿®æ”¹<code>themes/next/layout/_partials/pagination.swig</code>ï¼Œæ·»åŠ <code>escape: false</code>ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if page.prev or page.next %&#125;</span><br><span class="line">  &lt;nav class&#x3D;&quot;pagination&quot;&gt;</span><br><span class="line">    &#123;&#123;</span><br><span class="line">      paginator(&#123;</span><br><span class="line">        prev_text: &#39;&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;&#39;,</span><br><span class="line">        next_text: &#39;&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;&#39;,</span><br><span class="line">        mid_size: 1,</span><br><span class="line">        escape: false</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;&#125;</span><br><span class="line">  &lt;&#x2F;nav&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å‚è€ƒï¼š</p><p><a href="https://www.4spaces.org/856.html" target="_blank" rel="noopener">https://www.4spaces.org/856.html</a></p><p><a href="https://github.com/theme-next/hexo-theme-next/blob/master/layout/_partials/pagination.swig" target="_blank" rel="noopener">https://github.com/theme-next/hexo-theme-next/blob/master/layout/_partials/pagination.swig</a></p></blockquote></blockquote><h1 id="å‚è€ƒ"><a class="header-anchor" href="#å‚è€ƒ">Â¶</a>å‚è€ƒ</h1><p>ğŸ“šhttps://easyhexo.com</p><p>ğŸ“šhttps://io-oi.me/tech/hexo-next-optimization</p><p>ğŸ“šhttps://www.liaofuzhan.com/posts/2114475547.html</p></div><div><div><br><br><div style="text-align:center;color:#ccc;font-size:14px">----------- æœ¬æ–‡ç»“æŸ -----------</div><br><br><br><br></div></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>å¦‚æœä½ è§‰å¾—æˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä½ å¯ä»¥æ‰“èµæˆ‘å“¦~</div><button id="rewardButton" disable="enable" onclick='var qr=document.getElementById("QR");"none"===qr.style.display?qr.style.display="block":qr.style.display="none"'><span>æ‰“èµ</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"><img id="wechat_qr" src="../images/loading-post.gif" data-original="/images/wechatpay.png" alt="Qcmoke å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/github/" rel="tag"><i class="fa fa-tag"></i> github</a> <a href="/tags/hexo/" rel="tag"><i class="fa fa-tag"></i> hexo</a> <a href="/tags/next/" rel="tag"><i class="fa fa-tag"></i> next</a> <a href="/tags/coding/" rel="tag"><i class="fa fa-tag"></i> coding</a></div><div class="post-widgets"><div class="wp_rating"><div id="wpac-rating"></div></div><div id="needsharebutton-postbottom"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/tools/sublime_use.html" rel="prev" title="sublime text3ä½¿ç”¨æŒ‡å—"><i class="fa fa-chevron-left"></i> sublime text3ä½¿ç”¨æŒ‡å—</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/blog/typecho_http_https.html" rel="next" title="typechoä»httpè½¬https">typechoä»httpè½¬https <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div><div class="comments" id="comments"><div class="tablink-li"><button class="tablink" onclick='openPage("tabs-gitalk",this)' id="defaultOpen">Gitalk</button> <button class="tablink" onclick='openPage("tabs-valine",this)'>Valine</button></div><div class="tabcontent-li"><div id="tabs-gitalk" class="tabcontent"><div id="gitalk-container"></div></div><div id="tabs-valine" class="tabcontent"><div id="comments-valine"></div></div></div></div><script>function openPage(e,t){for(var n=document.getElementsByClassName("tabcontent"),l=0;l<n.length;l++)n[l].style.display="none";for(tablinks=document.getElementsByClassName("tablink"),l=0;l<tablinks.length;l++)tablinks[l].classList.remove("currentTabcontent");document.getElementById(e).style.display="block",t.classList.add("currentTabcontent")}document.getElementById("defaultOpen").click()</script></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div id="sidebar-dimmer"></div><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">æ–‡ç« ç›®å½•</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">ç«™ç‚¹æ¦‚è§ˆ</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/"><img class="site-author-image" itemprop="image" src="../images/loading-post.gif" data-original="/images/logo.jpg" alt="Qcmoke"></a><p class="site-author-name" itemprop="name">Qcmoke</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">83</span> <span class="site-state-item-name">æ—¥å¿—</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">8</span> <span class="site-state-item-name">åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">91</span> <span class="site-state-item-name">æ ‡ç­¾</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:qcmoke@gmail.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a> </span><span class="links-of-author-item"><a href="https://github.com/qcmoke" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://weibo.com/u/5469824288" target="_blank" title="weibo"><i class="fa fa-fw fa-weibo"></i>weibo</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-history fa-" aria-hidden="true"></i> è¿‘æœŸæ–‡ç« </div><ul class="links-of-blogroll-list"><li class="recent_posts_li"><a href="/windows/clean_c_drive.html" title="Windowsç³»ç»ŸCç›˜æ¸…ç†" target="_blank">Windowsç³»ç»ŸCç›˜æ¸…ç†</a></li><li class="recent_posts_li"><a href="/devops/lvs.html" title="lvså­¦ä¹ ç¬”è®°" target="_blank">lvså­¦ä¹ ç¬”è®°</a></li><li class="recent_posts_li"><a href="/devops/mysql_ha.html" title="Keepalived+MySQLå®ç°é«˜å¯ç”¨" target="_blank">Keepalived+MySQLå®ç°é«˜å¯ç”¨</a></li><li class="recent_posts_li"><a href="/devops/keepalived.html" title="keepalivedå­¦ä¹ ç¬”è®°" target="_blank">keepalivedå­¦ä¹ ç¬”è®°</a></li><li class="recent_posts_li"><a href="/tools/pyenv.html" title="pythonç‰ˆæœ¬ç®¡ç†å·¥å…·pyenv" target="_blank">pythonç‰ˆæœ¬ç®¡ç†å·¥å…·pyenv</a></li></ul></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#åŸºç¡€åŠŸèƒ½ç¯‡"><span class="nav-text">åŸºç¡€åŠŸèƒ½ç¯‡</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-æ­å»ºhexoç¯å¢ƒ"><span class="nav-text">1. æ­å»ºhexoç¯å¢ƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-å®‰è£…å’Œé…ç½®git"><span class="nav-text">1) å®‰è£…å’Œé…ç½®git</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-å®‰è£…node-js"><span class="nav-text">2) å®‰è£…node.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-å®‰è£…hexo"><span class="nav-text">3) å®‰è£…hexo</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-ä½¿ç”¨hexo"><span class="nav-text">4) ä½¿ç”¨hexo</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-ç¼–å†™æ–‡ç« "><span class="nav-text">2. ç¼–å†™æ–‡ç« </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-æ›´æ¢ä¸»é¢˜"><span class="nav-text">3. æ›´æ¢ä¸»é¢˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-æ›´æ¢ä¸»é¢˜å¸ƒå±€"><span class="nav-text">4. æ›´æ¢ä¸»é¢˜å¸ƒå±€</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-èœå•æ æ·»åŠ èœå•é€‰é¡¹"><span class="nav-text">5. èœå•æ æ·»åŠ èœå•é€‰é¡¹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-é»˜è®¤ä¸­æ–‡ç®€ä½“æ˜¾ç¤ºè®¾ç½®"><span class="nav-text">6. é»˜è®¤ä¸­æ–‡ç®€ä½“æ˜¾ç¤ºè®¾ç½®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-æ›´æ”¹åšå®¢ä½œè€…åå’Œä¸»é¡µåœ°å€"><span class="nav-text">7. æ›´æ”¹åšå®¢ä½œè€…åå’Œä¸»é¡µåœ°å€</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-å¯ç”¨ä¾§è¾¹æ ç¤¾äº¤é“¾æ¥"><span class="nav-text">8. å¯ç”¨ä¾§è¾¹æ ç¤¾äº¤é“¾æ¥</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-ä¾§æ æ·»åŠ å¤–é“¾"><span class="nav-text">9. ä¾§æ æ·»åŠ å¤–é“¾</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-å»é™¤ä¾§æ ç›®å½•è‡ªåŠ¨ç”Ÿæˆçš„åºæ•°"><span class="nav-text">10.å»é™¤ä¾§æ ç›®å½•è‡ªåŠ¨ç”Ÿæˆçš„åºæ•°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-è®¾ç½®å¤´åƒ"><span class="nav-text">11. è®¾ç½®å¤´åƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-åŸºç¡€è®¾ç½®"><span class="nav-text">1) åŸºç¡€è®¾ç½®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-å®šåˆ¶åœ†å½¢å¤´åƒ"><span class="nav-text">2) å®šåˆ¶åœ†å½¢å¤´åƒ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-è®¾ç½®æµè§ˆå™¨æ ‡ç­¾å›¾æ ‡"><span class="nav-text">12. è®¾ç½®æµè§ˆå™¨æ ‡ç­¾å›¾æ ‡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-é¦–é¡µæ–‡ç« ç¼©ç•¥æè¿°è®¾ç½®"><span class="nav-text">13. é¦–é¡µæ–‡ç« ç¼©ç•¥æè¿°è®¾ç½®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-æ·»åŠ 3dåŠ¨ç”»èƒŒæ™¯"><span class="nav-text">14. æ·»åŠ 3DåŠ¨ç”»èƒŒæ™¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-å¢åŠ æœ¬åœ°æœç´¢åŠŸèƒ½"><span class="nav-text">15. å¢åŠ æœ¬åœ°æœç´¢åŠŸèƒ½</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-ç½®é¡¶æŒ‰é’®æ˜¾ç¤ºç™¾åˆ†æ¯”"><span class="nav-text">16. ç½®é¡¶æŒ‰é’®æ˜¾ç¤ºç™¾åˆ†æ¯”</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-æ–‡ç« å­—æ•°å’Œé˜…è¯»æ—¶é•¿ç»Ÿè®¡"><span class="nav-text">17. æ–‡ç« å­—æ•°å’Œé˜…è¯»æ—¶é•¿ç»Ÿè®¡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-éšè—åº•éƒ¨çš„-å¼ºåŠ›é©±åŠ¨-å†…å®¹"><span class="nav-text">18. éšè—åº•éƒ¨çš„â€œå¼ºåŠ›é©±åŠ¨â€å†…å®¹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-å›¾ç‰‡ç‚¹å‡»æ”¾å¤§åŠŸèƒ½æ”¯æŒ"><span class="nav-text">19. å›¾ç‰‡ç‚¹å‡»æ”¾å¤§åŠŸèƒ½æ”¯æŒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-æ–‡ç« åº”ç”¨æœ¬åœ°å›¾ç‰‡"><span class="nav-text">20. æ–‡ç« åº”ç”¨æœ¬åœ°å›¾ç‰‡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-ä¿®æ”¹æ–‡ç« é“¾æ¥ç»„æˆå½¢å¼"><span class="nav-text">21. ä¿®æ”¹æ–‡ç« é“¾æ¥ç»„æˆå½¢å¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-æ”¯æŒemojiæ–‡å­—è¡¨æƒ…"><span class="nav-text">21. æ”¯æŒemojiæ–‡å­—è¡¨æƒ…</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-æ›´æ”¹ä¸Šä¸‹ç¯‡çš„é¡ºåº"><span class="nav-text">22. æ›´æ”¹ä¸Šä¸‹ç¯‡çš„é¡ºåº</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-æ·»åŠ é¡µé¢åŠ è½½æ•ˆæœ"><span class="nav-text">23. æ·»åŠ é¡µé¢åŠ è½½æ•ˆæœ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-å›¾ç‰‡æ‡’åŠ è½½"><span class="nav-text">24. å›¾ç‰‡æ‡’åŠ è½½</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25-å¼€å¯æ‰“èµåŠŸèƒ½"><span class="nav-text">25. å¼€å¯æ‰“èµåŠŸèƒ½</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#26-æ–‡ç« åˆ†äº«åŠŸèƒ½"><span class="nav-text">26. æ–‡ç« åˆ†äº«åŠŸèƒ½</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ–¹æ¡ˆ1-jiathis"><span class="nav-text">æ–¹æ¡ˆ1 jiathis</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ–¹æ¡ˆ2-needmoreshare2"><span class="nav-text">æ–¹æ¡ˆ2 needmoreshare2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ–¹æ¡ˆ3-baidushare"><span class="nav-text">æ–¹æ¡ˆ3 baidushare</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#27-ä¼˜åŒ–æ·±è‰²ä»£ç é«˜äº®èƒŒæ™¯"><span class="nav-text">27. ä¼˜åŒ–æ·±è‰²ä»£ç é«˜äº®èƒŒæ™¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#28-ä¼˜åŒ–æ–‡ç« åº•éƒ¨å¸¦æ ‡ç­¾"><span class="nav-text">28. ä¼˜åŒ–æ–‡ç« åº•éƒ¨å¸¦æ ‡ç­¾</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#29-æ–‡ç« æœ«å°¾æ·»åŠ -æœ¬æ–‡ç»“æŸ-æ ‡è®°"><span class="nav-text">29. æ–‡ç« æœ«å°¾æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#30-ä¼˜åŒ–æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼"><span class="nav-text">30. ä¼˜åŒ–æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#31-geminiå¸ƒå±€è¿”å›é¡¶éƒ¨æŒ‰é’®é€‚é…ç§»åŠ¨ç«¯"><span class="nav-text">31. Geminiå¸ƒå±€è¿”å›é¡¶éƒ¨æŒ‰é’®é€‚é…ç§»åŠ¨ç«¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#32-ç¦ç”¨ç‰¹å®šæ–‡ç« ä¾§æ ç›®å½•"><span class="nav-text">32. ç¦ç”¨ç‰¹å®šæ–‡ç« ä¾§æ ç›®å½•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#33-æ–‡ç« å¼•ç”¨éŸ³ä¹å’Œè§†é¢‘"><span class="nav-text">33. æ–‡ç« å¼•ç”¨éŸ³ä¹å’Œè§†é¢‘</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-htmlåŸç”Ÿæ–¹å¼"><span class="nav-text">1) htmlåŸç”Ÿæ–¹å¼</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-éŸ³ä¹é¢æ¿"><span class="nav-text">(1) éŸ³ä¹é¢æ¿</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-è§†é¢‘é¢æ¿"><span class="nav-text">(2) è§†é¢‘é¢æ¿</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-ç¬¬ä¸‰æ–¹æ’ä»¶æ–¹å¼"><span class="nav-text">2) ç¬¬ä¸‰æ–¹æ’ä»¶æ–¹å¼</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-éŸ³ä¹é¢æ¿æ’ä»¶"><span class="nav-text">(1) éŸ³ä¹é¢æ¿æ’ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-è§†é¢‘é¢æ¿-v2"><span class="nav-text">(2) è§†é¢‘é¢æ¿</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-éŸ³ä¹é¢æ¿ç»¼åˆæ¡ˆä¾‹"><span class="nav-text">3) éŸ³ä¹é¢æ¿ç»¼åˆæ¡ˆä¾‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-è§†é¢‘é¢æ¿ç»¼åˆæ¡ˆä¾‹"><span class="nav-text">4) è§†é¢‘é¢æ¿ç»¼åˆæ¡ˆä¾‹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#34-æ·»åŠ çœ‹æ¿å¨˜"><span class="nav-text">34) æ·»åŠ çœ‹æ¿å¨˜</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¬¬ä¸‰æ–¹æœåŠ¡ç¯‡"><span class="nav-text">ç¬¬ä¸‰æ–¹æœåŠ¡ç¯‡</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-æ·»åŠ è¯„åˆ†åŠŸèƒ½"><span class="nav-text">1. æ·»åŠ è¯„åˆ†åŠŸèƒ½</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-ç½‘ç«™è®¿é—®ç»Ÿè®¡"><span class="nav-text">2. ç½‘ç«™è®¿é—®ç»Ÿè®¡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-ä¸è’œå­ç»Ÿè®¡"><span class="nav-text">1) ä¸è’œå­ç»Ÿè®¡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-leancloudç»Ÿè®¡"><span class="nav-text">2) leancloudç»Ÿè®¡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-é¢å¤–è¡¥å……"><span class="nav-text">3) é¢å¤–è¡¥å……</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-åŠ å…¥è¯„è®ºé¢æ¿"><span class="nav-text">3. åŠ å…¥è¯„è®ºé¢æ¿</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-gitalk"><span class="nav-text">1) Gitalk</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-vssue"><span class="nav-text">2) Vssue</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-valine"><span class="nav-text">3) Valine</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-æ•´åˆå¤šä¸ªè¯„è®ºé¢æ¿"><span class="nav-text">4) æ•´åˆå¤šä¸ªè¯„è®ºé¢æ¿</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-æ·»åŠ çƒ­é—¨æ–‡ç« é¡µé¢"><span class="nav-text">4. æ·»åŠ çƒ­é—¨æ–‡ç« é¡µé¢</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-æ·»åŠ åœ¨çº¿è”ç³»åŠŸèƒ½"><span class="nav-text">5. æ·»åŠ åœ¨çº¿è”ç³»åŠŸèƒ½</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#é«˜çº§å®šåˆ¶ç¯‡"><span class="nav-text">é«˜çº§å®šåˆ¶ç¯‡</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-è‡ªå®šä¹‰é¦–é¡µæ‘˜è¦å›¾ç‰‡å’Œæ‘˜è¦æè¿°"><span class="nav-text">1. è‡ªå®šä¹‰é¦–é¡µæ‘˜è¦å›¾ç‰‡å’Œæ‘˜è¦æè¿°</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-æ¦‚è¿°"><span class="nav-text">1) æ¦‚è¿°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-å…·ä½“å®ç°"><span class="nav-text">2) å…·ä½“å®ç°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-ä¼˜åŒ–é¦–é¡µæ‘˜è¦æ ·å¼"><span class="nav-text">3) ä¼˜åŒ–é¦–é¡µæ‘˜è¦æ ·å¼</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-ä¼˜åŒ–æ ‡ç­¾äº‘é¡µé¢"><span class="nav-text">2. ä¼˜åŒ–æ ‡ç­¾äº‘é¡µé¢</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-æ·»åŠ 404é¡µé¢"><span class="nav-text">3. æ·»åŠ 404é¡µé¢</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-æ·»åŠ æœ€è¿‘æ–‡ç« æ ç›®"><span class="nav-text">4. æ·»åŠ æœ€è¿‘æ–‡ç« æ ç›®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-è‡ªå®šä¹‰å‹æƒ…é“¾æ¥é¡µé¢"><span class="nav-text">5. è‡ªå®šä¹‰å‹æƒ…é“¾æ¥é¡µé¢</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ–¹æ¡ˆ1-çº¯é™æ€æ–‡ä»¶"><span class="nav-text">æ–¹æ¡ˆ1 çº¯é™æ€æ–‡ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ–¹æ¡ˆ2-æ¨¡æ¿å¼•æ“swig"><span class="nav-text">æ–¹æ¡ˆ2 æ¨¡æ¿å¼•æ“swig</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-ä¼˜åŒ–å’Œç¾åŒ–ä»£ç å—"><span class="nav-text">6. ä¼˜åŒ–å’Œç¾åŒ–ä»£ç å—</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-æ·»åŠ ä»£ç å—å…¨é€‰å¤åˆ¶åŠŸèƒ½"><span class="nav-text">6.1 æ·»åŠ ä»£ç å—å…¨é€‰å¤åˆ¶åŠŸèƒ½</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-æ·»åŠ macä»£ç é¢æ¿"><span class="nav-text">6.2 æ·»åŠ macä»£ç é¢æ¿</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-macä»£ç é¢æ¿æ•´åˆå…¨é€‰å¤åˆ¶æŒ‰é’®"><span class="nav-text">6.3 macä»£ç é¢æ¿æ•´åˆå…¨é€‰å¤åˆ¶æŒ‰é’®</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#è°ƒæ•´è¯´æ˜"><span class="nav-text">è°ƒæ•´è¯´æ˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ•´åˆæ­¥éª¤"><span class="nav-text">æ•´åˆæ­¥éª¤</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-æ·»åŠ æš—é»‘æ¨¡å¼æ”¯æŒ"><span class="nav-text">7. æ·»åŠ æš—é»‘æ¨¡å¼æ”¯æŒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-é­”æ”¹nextä¸»é¢˜"><span class="nav-text">8. é­”æ”¹nextä¸»é¢˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-hexoæ”¯æŒæœ¬åœ°markdownæ–‡ä»¶é“¾æ¥å¼•ç”¨"><span class="nav-text">9. hexoæ”¯æŒæœ¬åœ°Markdownæ–‡ä»¶é“¾æ¥å¼•ç”¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-æœç´¢å¼•æ“ä¼˜åŒ–-seo"><span class="nav-text">2. æœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSEOï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-ç”Ÿæˆç½‘ç«™åœ°å›¾æ–‡ä»¶"><span class="nav-text">1) ç”Ÿæˆç½‘ç«™åœ°å›¾æ–‡ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-æ·»åŠ çˆ¬è™«è§„åˆ™æ–‡ä»¶"><span class="nav-text">2) æ·»åŠ çˆ¬è™«è§„åˆ™æ–‡ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-æäº¤æ–‡ä»¶"><span class="nav-text">3) æäº¤æ–‡ä»¶</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-é™æ€èµ„æºå‹ç¼©ä¼˜åŒ–"><span class="nav-text">3. é™æ€èµ„æºå‹ç¼©ä¼˜åŒ–</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-éƒ¨ç½²hexoåˆ°gitæœåŠ¡å™¨"><span class="nav-text">4. éƒ¨ç½²hexoåˆ°gitæœåŠ¡å™¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-githubå’ŒcodingåŒçº¿è·¯éƒ¨ç½²hexo"><span class="nav-text">5. githubå’ŒcodingåŒçº¿è·¯éƒ¨ç½²hexo</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-é…ç½®"><span class="nav-text">1) é…ç½®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-éƒ¨ç½²"><span class="nav-text">2) éƒ¨ç½²</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-é¢å¤–è¡¥å……-v2"><span class="nav-text">3) é¢å¤–è¡¥å……</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-è§£æåŸŸåcnameè®°å½•"><span class="nav-text">(1) è§£æåŸŸåCNAMEè®°å½•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-è®¾ç½®è‡ªå®šä¹‰åŸŸå"><span class="nav-text">(2) è®¾ç½®è‡ªå®šä¹‰åŸŸå</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-é¢å¤–è¡¥å……-v3"><span class="nav-text">(3) é¢å¤–è¡¥å……</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-å…³äºcodingå¹¿å‘Š"><span class="nav-text">4) å…³äºcodingå¹¿å‘Š</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æ»šåŠ¨æ”¹ç‰ˆç¯‡"><span class="nav-text">æ»šåŠ¨æ”¹ç‰ˆç¯‡</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-hexoå‡çº§è‡³4-2-1"><span class="nav-text">1. hexoå‡çº§è‡³4.2.1</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å‚è€ƒ"><span class="nav-text">å‚è€ƒ</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Qcmoke</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv">æœ¬ç«™è®¿å®¢æ•° <span class="busuanzi-value" id="busuanzi_value_site_uv"></span> äººæ¬¡ </span><span class="site-pv">æœ¬ç«™æ€»è®¿é—®é‡ <span class="busuanzi-value" id="busuanzi_value_site_pv"></span> æ¬¡</span></div><a href="https://beian.miit.gov.cn/" target="_blank">é»”ICPå¤‡20002951å·-1</a></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script><i id="darkmode" class="fa fa-lightbulb-o" aria-hidden="true"></i><script>var body=$("body"),darkmode=$("#darkmode");!matchMedia("(prefers-color-scheme: dark)").matches&&"1"!==localStorage.getItem("darkmode")||"1"===localStorage.getItem("noDark")||body.addClass("dark"),body.hasClass("dark")?darkmode.removeClass("fa-moon-o").addClass("fa-lightbulb-o"):darkmode.removeClass("fa-lightbulb-o").addClass("fa-moon-o"),darkmode.click(function(){body.hasClass("dark")?(darkmode.removeClass("fa-lightbulb-o").addClass("fa-moon-o"),body.removeClass("dark"),localStorage.setItem("darkmode","0"),localStorage.setItem("noDark","1")):(darkmode.removeClass("fa-moon-o").addClass("fa-lightbulb-o"),body.addClass("dark"),localStorage.setItem("darkmode","1"),localStorage.setItem("noDark","0"))})</script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/clipboard.min.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/highlight-wrap.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script src="/js/src/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script type="text/javascript">for(var emoticonList=[],i=1;i<=164;i++)emoticonList.push("aru ("+i+").png");new Valine({lang:"zh-cn",admin_email:"qcmoke@gmail.com",el:"#comments-valine",appId:"6LNbUERxbG0OAnWfmJSbmXiW-MdYXbMMI",appKey:"d2FLy9fmXOTiM8TrokuIuDWx",placeholder:"ç•™ä¸‹ä½ çš„å°çˆªå°å§~",serverURLs:"https://leancloud.qcmoke.cn"})</script><script>var checkExist;window.location.hash&&(checkExist=setInterval(function(){$(window.location.hash).length&&($("html, body").animate({scrollTop:$(window.location.hash).offset().top-90},1e3),clearInterval(checkExist))},100))</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script><script type="text/javascript">const gitalk=new Gitalk({clientID:"d933e443cdfe503ce05a",clientSecret:"149d163f4b10cedf7a68993289da9c0f0836bd34",repo:"mygitalk",owner:"qcmoke",admin:"qcmoke".split(","),id:location.pathname,distractionFreeMode:"true",createIssueManually:"true"});gitalk.render("gitalk-container")</script><script type="text/javascript">var isfetched=!1,isXml=!0,search_path="search.xml",path=(0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1),"/"+search_path),onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")};function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var searchFunc=function(t,s,a){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");function e(){var e,m=n.value.trim().toLowerCase(),x=m.split(/[\s\-]+/),w=(1<x.length&&x.push(m),[]);0<m.length&&o.forEach(function(t){var e=!1,o=0,h=0,n=t.title.trim(),r=n.toLowerCase(),s=t.content.trim().replace(/<[^>]+>/g,""),a=s.toLowerCase(),i=decodeURIComponent(t.url),c=[],l=[];if(""!=n&&(x.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r,s=0,a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());-1<(r=e.indexOf(t,s));)a.push({position:r,word:t}),s=r+n;return a}c=c.concat(e(t,r,!1)),l=l.concat(e(t,a,!1))}),0<c.length||0<l.length)&&(e=!0,o=c.length+l.length),e){function p(t,e,o,n){for(var r=n[n.length-1],s=r.position,a=r.word,i=[],c=0;s+a.length<=o&&0!=n.length;){a===m&&c++,i.push({position:s,length:a.length});var l=s+a.length;for(n.pop();0!=n.length&&(s=(r=n[n.length-1]).position,a=r.word,s<l);)n.pop()}return h+=c,{hits:i,start:e,end:o,searchTextCount:c}}[c,l].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});for(var t=[],u=(0!=c.length&&t.push(p(0,0,n.length,c)),[]);0!=l.length;){var f=l[l.length-1],d=f.position,f=f.word,g=d-20,v=d+80;g<0&&(g=0),(v=v<d+f.length?d+f.length:v)>s.length&&(v=s.length),u.push(p(0,g,v,l))}u.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});e=parseInt("1");function $(o,t){var n="",r=t.start;return t.hits.forEach(function(t){n+=o.substring(r,t.position);var e=t.position+t.length;n+='<b class="search-keyword">'+o.substring(t.position,e)+"</b>",r=e}),n+=o.substring(r,t.end)}0<=e&&(u=u.slice(0,e));var C="";C+=0!=t.length?"<li><a href='"+i+"' class='search-result-title'>"+$(n,t[0])+"</a>":"<li><a href='"+i+"' class='search-result-title'>"+n+"</a>",u.forEach(function(t){C+="<a href='"+i+'\'><p class="search-result">'+$(s,t)+"...</p></a>"}),C+="</li>",w.push({item:C,searchTextCount:h,hitCount:o,id:w.length})}}),1===x.length&&""===x[0]?r.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>':0===w.length?r.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>':(w.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id}),e='<ul class="search-result-list">',w.forEach(function(t){e+=t.item}),e+="</ul>",r.innerHTML=e)}var o=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,n=document.getElementById(s),r=document.getElementById(a);n.addEventListener("input",e),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),!1===isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){27===t.which&&$(".search-popup").is(":visible")&&onPopupClose()})</script><script>function addCount(n){var t=$(".leancloud_visitors"),o=t.attr("id").trim(),i=t.attr("data-flag-title").trim();n("get","/classes/Counter",{where:JSON.stringify({url:o})}).done(function({results:t}){var e;0<t.length?(e=t[0],n("put","/classes/Counter/"+e.objectId,JSON.stringify({time:{__op:"Increment",amount:1}})).done(function(){$(document.getElementById(o)).find(".leancloud-visitors-count").text(e.time+1)}).fail(function({responseJSON:t}){console.log("Failed to save Visitor num, with error message: "+t.error)})):n("post","/classes/Counter",JSON.stringify({title:i,url:o,time:1})).done(function(){$(document.getElementById(o)).find(".leancloud-visitors-count").text(1)}).fail(function(){console.log("Failed to create")})}).fail(function({responseJSON:t}){console.log("LeanCloud Counter Error: "+t.code+" "+t.error)})}$(function(){$.get("https://app-router.leancloud.cn/2/route?appId=6LNbUERxbG0OAnWfmJSbmXiW-MdYXbMMI").done(function({}){/http:\/\/(localhost|127.0.0.1|0.0.0.0)/.test(document.URL)||addCount(function(t,e,n){return $.ajax({method:t,url:"https://leancloud.qcmoke.cn/1.1"+e,headers:{"X-LC-Id":"6LNbUERxbG0OAnWfmJSbmXiW-MdYXbMMI","X-LC-Key":"d2FLy9fmXOTiM8TrokuIuDWx","Content-Type":"application/json"},data:n})})})})</script><link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"><script src="/lib/needsharebutton/needsharebutton.js"></script><script>pbOptions={iconStyle:"default",boxForm:"horizontal",position:"bottomCenter",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions)</script><script type="text/javascript">(wpac_init=window.wpac_init||[]).push({widget:"Rating",id:23769,el:"wpac-rating",color:"fc6423"}),function(){var e,t;"WIDGETPACK_LOADED"in window||(WIDGETPACK_LOADED=!0,(e=document.createElement("script")).type="text/javascript",e.async=!0,e.src="//embed.widgetpack.com/widget.js",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t.nextSibling))}()</script><script>!function(e){var c=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){for(var r=0;r<c.length;r++)t=c[r],0<=(n=t.getBoundingClientRect()).top&&0<=n.left&&n.top<=(e.innerHeight||document.documentElement.clientHeight)&&function(){var t,n,e,i,o=c[r];t=o,n=function(){c=c.filter(function(t){return o!==t})},e=new Image,i=t.getAttribute("data-original"),e.onload=function(){t.src=i,n&&n()},e.src=i}();var t,n}i(),e.addEventListener("scroll",function(){var t,n;t=i,n=e,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)})}(this);</script><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"left","width":80,"height":130},"mobile":{"show":false},"log":false});</script></body></html>