<!DOCTYPE html><html class="theme-next muse use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.jpg?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.jpg?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="git,"><meta name="description" content="git折腾记。未完工，待续···"><meta property="og:type" content="article"><meta property="og:title" content="git基础学习笔记"><meta property="og:url" content="https://www.qcmoke.cn/tools/git.html"><meta property="og:site_name" content="Qcmoke&#39;s Blog"><meta property="og:description" content="git折腾记。未完工，待续···"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="og:image" content="https://www.qcmoke.cn/images/loading-post.gif"><meta property="article:published_time" content="2018-10-18T12:04:23.000Z"><meta property="article:modified_time" content="2023-06-09T04:45:12.588Z"><meta property="article:author" content="Qcmoke"><meta property="article:tag" content="git"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.qcmoke.cn/images/loading-post.gif"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"5.1.4",sidebar:{position:"left",display:"hide",offset:12,b2t:!1,scrollpercent:!0,onmobile:!0},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="https://www.qcmoke.cn/tools/git.html"><title>git基础学习笔记 | Qcmoke's Blog</title><meta name="generator" content="Hexo 4.2.1"></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Qcmoke's Blog</span> <span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">Peace & Love ! Learning to think independently !</h1></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-热文"><a href="/top/" rel="section"><i class="menu-item-icon fa fa-fw fa-fire"></i><br>热文</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="menu-item-icon fa fa-fw fa-link"></i><br>友链</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://www.qcmoke.cn/tools/git.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Qcmoke"><meta itemprop="description" content=""><meta itemprop="image" content="/images/logo.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Qcmoke's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">git基础学习笔记</h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-18T20:04:23+08:00">2018-10-18 </time><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于&#58;</span> <time title="更新于" itemprop="dateModified" datetime="2023-06-09T12:45:12+08:00">2023-06-09 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/tools/" itemprop="url" rel="index"><span itemprop="name">tools</span> </a></span></span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><a href="/tools/git.html#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/tools/git.html" itemprop="commentCount"></span> </a></span><span id="/tools/git.html" class="leancloud_visitors" data-flag-title="git基础学习笔记"><span class="post-meta-divider">|</span> <span class="lv-inline-block" style="display:inline-block"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数&#58;</span> <span class="leancloud-visitors-count"></span></span></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">字数统计&#58;</span> <span title="字数统计">11.1k </span><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">45</span></div><div class="post-description">git折腾记。未完工，待续···</div></div></header><div class="post-body" itemprop="articleBody"><p>一个由浅入深，学完后能立刻上手的Git教程，对于初学者来说，有一定的参考价值。</p><a id="more"></a><h2 id="一-基本概念"><a class="header-anchor" href="#一-基本概念">¶</a>一、基本概念</h2><h3 id="1-什么是git"><a class="header-anchor" href="#1-什么是git">¶</a>1. 什么是Git</h3><p>Git是一个开源的分布式版本控制系统。</p><p><strong>Git的分布式</strong>：Git采用了分布式版本库的方式，不需要服务器端软件支持即可在本地完成版本控制工作。</p><p><strong>Git的版本控制</strong>：是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。</p><p><strong>Git的最基本理解</strong>：简单的说Git就是用于保存文件在每次修改时的快照的一个管理系统，这些快照构成了一个个可以来回切换的版本。所以你可以通过使用git来切换快照实现文件恢复，这使得我们管理大型项目代码或者文件时得到了安全的保障机制。当然git的功能不只是快照的来回切换那么简单。它竟然是一种系统，那必然有着很多其它管理性的功能，如分支合并（或者说是快照合并）、各版本文件差异对照、本地仓库和远程仓库的连接和互动、从本地库推送到远程库，从远程库克隆到本地等等。</p><h3 id="2-git的文件管理机制"><a class="header-anchor" href="#2-git的文件管理机制">¶</a>2. git的文件管理机制</h3><p>git把数据看作是小型文件系统的一组快照。每次提交更新时git都会对当前的全部文件制作一个快照并保存这个快照的索引。为了高效，如果文件没有修改，git不再重新存该文件，而是只保留一个链接指针指向之前存储的文件。所以git的工作方式可以称之为快照流。</p><h3 id="3-git的工作流程"><a class="header-anchor" href="#3-git的工作流程">¶</a>3. git的工作流程</h3><ul><li>（1）在工作区中添加、修改文件</li><li>（2）将需要进行版本管理的文件存入暂存区</li><li>（3）将暂存区的文件提交到git仓库</li></ul><h3 id="4-git版本控制区域的情况"><a class="header-anchor" href="#4-git版本控制区域的情况">¶</a>4. git版本控制区域的情况</h3><p>（1）工作区：就是你在电脑里能看到的目录。</p><p>（2）暂存区：英文叫stage, 或index。一般存放在 “.git目录下” 下的index文件（.git/index）中，所以我们把暂存区有时也叫作索引（index）。</p><p>（3）版本库：工作区有一个隐藏目录.git，这个不算工作区，而是Git的版本库。</p><p><img src="/tools/../images/loading-post.gif" data-original="git/1539864917453.png" alt="1539864917453"></p><h3 id="5-git管理下文件的状态"><a class="header-anchor" href="#5-git管理下文件的状态">¶</a>5. git管理下文件的状态</h3><ul><li>（1）已修改（modified）</li><li>（2）已暂存（staged）</li><li>（3）已提交（committed）</li></ul><h2 id="二-安装git"><a class="header-anchor" href="#二-安装git">¶</a>二. 安装Git</h2><p>在使用 Git 前需要先安装 Git。Git 目前支持 Linux/Unix、Solaris、Mac和 Windows 平台上运行。</p><p>Git 各平台安装包下载地址为：<a href="http://git-scm.com/downloads" target="_blank" rel="noopener">http://git-scm.com/downloads</a></p><p>安装的过程就是傻瓜式下一步。然后打开 <code>git bash</code> 输入相关 git 命令即可执行版本控制操作。</p><blockquote><p>💁‍♂ Git GUI 图形化操作工具</p><p>安装 Git 后，主要是可以通过终端命令行方式进行 Git 操作，如果希望使用图形化的 Git 操作方式，可以选择以下工具：</p><ul><li>（1）Git 内置的默认 Git 图形化操作工具：<code>git gui</code> （windows 对应文件路径<code>&lt;git安装路径&gt;/cmd/git-gui.exe</code>）</li><li>（2）第三方 Git 图形化操作工具：</li><li><a href="https://www.sourcetreeapp.com" target="_blank" rel="noopener">Sourcetree</a>（不开源但免费，支持 Windows、Mac（不支持 Linux），除了支持 Git 外，还支持 Mercurial 等其他版本控制）</li><li><a href="https://www.gitkraken.com" target="_blank" rel="noopener">GitKraKen</a>（不开源且收费，支持 Windows、Mac、Linux）</li><li><a href="https://desktop.github.com" target="_blank" rel="noopener">GitHub Desktop</a>（开源免费，官方仅支持 Windows、Mac，但社区分支有 <a href="https://github.com/shiftkey/desktop" target="_blank" rel="noopener">Linux 发行版</a>）</li><li><a href="https://github.com/gitahead/gitahead" target="_blank" rel="noopener">GitAhead</a>（开源免费，支持 Windows、Mac、Linux）</li><li><a href="https://github.com/git-cola/git-cola" target="_blank" rel="noopener">GitCola</a>（开源免费，支持 Windows、Mac、Linux）</li><li><a href="https://tortoisegit.org" target="_blank" rel="noopener">TortoiseGit</a>（开源免费，仅支持 Windows）</li><li><a href="https://github.com/gitextensions/gitextensions" target="_blank" rel="noopener">GitExtensions</a>（开源免费，支持 Windows、Mac、Linux）</li></ul><p>对于众多 Git GUI 工具的选择，个人推荐使用 Sourcetree，因为其较为主流，且美观好用。</p><p>参考：<a href="https://blog.csdn.net/mzl87/article/details/128577959" target="_blank" rel="noopener">https://blog.csdn.net/mzl87/article/details/128577959</a></p></blockquote><h2 id="三-初始化git版本仓库"><a class="header-anchor" href="#三-初始化git版本仓库">¶</a>三、初始化git版本仓库</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init 		 <span class="comment">#初始化git版本库，会自动创建了唯一master分支，并进入此分支</span></span><br></pre></td></tr></table></figure><p>案例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir project  <span class="comment">#创建文件目录</span></span><br><span class="line"><span class="built_in">cd</span> project	 <span class="comment">#进入工作目录中</span></span><br><span class="line">git init 		 <span class="comment">#初始化git版本库，会自动创建了唯一master分支，并进入此分支</span></span><br></pre></td></tr></table></figure><p>project是所谓的工作区，工作区有一个隐藏目录<code>.git</code>，这个不算工作区，而是git的版本库。</p><p>git的版本库里存了很多文件，其中其中.git/index就是所谓的暂存区，即stage（或者叫index），它是一个二进制文件，还有指向<code>master</code>分支的一个指针文件<code>HEAD</code>等。</p><h2 id="四-给暂存区添加文件"><a class="header-anchor" href="#四-给暂存区添加文件">¶</a>四、给暂存区添加文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add files   <span class="comment">#将files添加到暂存区</span></span><br></pre></td></tr></table></figure><p>案例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"demo"</span> &gt;&gt; demo.txt <span class="comment">#创建一个内容为“demo”的测试文件</span></span><br><span class="line">git add demo.txt <span class="comment">#将demo.txt添加到暂存区</span></span><br></pre></td></tr></table></figure><h2 id="五-给git版本库提交文件"><a class="header-anchor" href="#五-给git版本库提交文件">¶</a>五、给git版本库提交文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">"提交说明"</span>  <span class="comment">#一次性将添加到暂存区的所有文件提交到版本库中的master分支，-m后的信息是提交说明</span></span><br></pre></td></tr></table></figure><p>案例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">"commit demo.txt"</span> <span class="comment">#一次性将添加到暂存区的所有文件提交到版本库中的master分支，-m后的信息是提交说明</span></span><br></pre></td></tr></table></figure><h2 id="六-查看git文件状态"><a class="header-anchor" href="#六-查看git文件状态">¶</a>六、查看git文件状态</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git status 	 <span class="comment">#查看项目的当前状态信息。"AM" 状态的意思是，这个文件在我们将它添加到缓存之后又有改动。</span></span><br><span class="line">git status -s  <span class="comment">#加了-s 参数，以获得简短项目的当前状态信息。</span></span><br></pre></td></tr></table></figure><p>案例：</p><p>以下将从无文件改动或者添加----&gt;创建文件-----&gt;添加文件到暂存区-----&gt;提交暂存区的所有文件到git版本库这几个不同阶段的文件状态</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#无文件改动或者添加的情况查看git状态：</span></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">nothing to commit (create/copy files and use <span class="string">"git add"</span> to track)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#创建文件并查看git状态：</span></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">"demo"</span> &gt;&gt;demo.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">Untracked files:   <span class="comment">#提示文件未被git跟踪，即此文件还没开始正式接受git的版本控制，一旦提交到暂存区开始到git版本库，就受到git的跟踪和版本控制。</span></span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span><br><span class="line"></span><br><span class="line">        demo.txt</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use <span class="string">"git add"</span> to track)</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#添加文件到暂存区并查看git状态：</span></span><br><span class="line"><span class="comment">#此时git开始跟踪提交的文件。</span></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git add demo.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git rm --cached &lt;file&gt;..."</span> to unstage)<span class="comment"># 可以通过git rm --cached &lt;file&gt;清除提交的文件，git又不会跟踪文件了。或者通过git rm --cached * 清空暂存区的所以文件</span></span><br><span class="line"></span><br><span class="line">        new file:   demo.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#提交暂存区的所有文件到git版本库并查看git状态：</span></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git commit -m <span class="string">"commit demo.txt"</span></span><br><span class="line">[master (root-commit) 0e22aaf] commit demo.txt</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 demo.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean   <span class="comment">#此时提示没有暂存区里没有任何文件需要提交到git版本库了</span></span><br></pre></td></tr></table></figure><p><img src="/tools/../images/loading-post.gif" data-original="git/1352126739_7909.jpg" alt="img"></p><h2 id="七-查看历史提交记录"><a class="header-anchor" href="#七-查看历史提交记录">¶</a>七、查看历史提交记录</h2><p>git的提交对象：文件对象存放在树对象里，树对象又存放在提交对象里。所以查看提交时的提交id值实际是所有提交文件组合而成的某种形式的哈希值。</p><p><img src="/tools/../images/loading-post.gif" data-original="git/1540408480201.png" alt="1540408480201"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span>  		<span class="comment">#输出完整历史提交记录</span></span><br><span class="line">git <span class="built_in">log</span> --pretty=oneline  <span class="comment">#每次提交以一行输出历史提交记录</span></span><br><span class="line">git <span class="built_in">log</span> --oneline         <span class="comment">#每次提交以一行输出简短型历史提交记录</span></span><br><span class="line">git <span class="built_in">log</span> --decorate --all --oneline  --graph  	<span class="comment">#按分支情况查看提交记录</span></span><br><span class="line">git reflog   <span class="comment">#查看历史所以commit id,并且能够显示到某个版本的步数，如：HEAD@&#123;2&#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：当提交记录后，git是无法再删除提交记录的（即版本仓库快照），除非删除了git仓库（.git目录），如果想要实现类似删除的效果只能通过移动HEDA指针的指向来实现。</p></blockquote><p>案例：</p><p>以下就以修改demo.txt为例，进行历史提交记录查看。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git <span class="built_in">log</span></span><br><span class="line">commit 0e22aafab1b3951a989105af18d3028b0bd6dc81 (HEAD -&gt; master)  <span class="comment">#版本快照的id号，id值是通过哈希算法计算出来的哈希值，文件内容不同，哈希值必定不同。</span></span><br><span class="line">Author: qcmoke &lt;1667164190@qq.com&gt;</span><br><span class="line">Date:   Thu Oct 18 21:47:18 2018 +0800</span><br><span class="line"></span><br><span class="line">    commit demo.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ vim demo.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git add demo.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git commit -m <span class="string">"modify demo.txt"</span></span><br><span class="line">[master c3f6e58] modify demo.txt</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git <span class="built_in">log</span></span><br><span class="line">commit c3f6e587497f49870ab974ca4433a8e13467088d (HEAD -&gt; master)</span><br><span class="line">Author: qcmoke &lt;1667164190@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 19 00:11:11 2018 +0800</span><br><span class="line"></span><br><span class="line">    modify demo.txt</span><br><span class="line"></span><br><span class="line">commit 0e22aafab1b3951a989105af18d3028b0bd6dc81</span><br><span class="line">Author: qcmoke &lt;1667164190@qq.com&gt;</span><br><span class="line">Date:   Thu Oct 18 21:47:18 2018 +0800</span><br><span class="line"></span><br><span class="line">    commit demo.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br></pre></td></tr></table></figure><h2 id="八-版本快照回滚操作"><a class="header-anchor" href="#八-版本快照回滚操作">¶</a>八、版本快照回滚操作</h2><p><img src="/tools/../images/loading-post.gif" data-original="git/1539879799935.png" alt="1539879799935"></p><p><strong>为了效果，在以上已经创建并修改了demo.txt的基础上，下面继续添加readme.txt文件，并对之进行一次修改。</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#创建一个readme.txt文件，内容为"hello world !"</span></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">"hello world !"</span> &gt;&gt; readme.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git add readme.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git commit -m <span class="string">"commit readme.txt"</span></span><br><span class="line">[master 5b144ee] commit readme.txt</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 readme.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">#修改内容，向文件里添加"I am a student !"字符串</span></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">"I am a student !"</span> &gt;&gt; readme.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git add readme.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git commit -m <span class="string">"modify readme.txt"</span></span><br><span class="line">[master a10b617] modify readme.txt</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#查看历史提交记录</span></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git <span class="built_in">log</span></span><br><span class="line">commit a10b617a02aa30ddd4e895d0653d33c7a28dcfad (HEAD -&gt; master)</span><br><span class="line">Author: qcmoke &lt;1667164190@qq.com&gt;</span><br><span class="line">Date:   Sat Oct 20 20:09:17 2018 +0800</span><br><span class="line"></span><br><span class="line">    modify readme.txt</span><br><span class="line"></span><br><span class="line">commit 5b144ee3e670f710091d7441bcde01ceaf8c622e</span><br><span class="line">Author: qcmoke &lt;1667164190@qq.com&gt;</span><br><span class="line">Date:   Sat Oct 20 20:06:38 2018 +0800</span><br><span class="line"></span><br><span class="line">    commit readme.txt</span><br><span class="line"></span><br><span class="line">commit c3f6e587497f49870ab974ca4433a8e13467088d</span><br><span class="line">Author: qcmoke &lt;1667164190@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 19 00:11:11 2018 +0800</span><br><span class="line"></span><br><span class="line">    modify demo.txt</span><br><span class="line"></span><br><span class="line">commit 0e22aafab1b3951a989105af18d3028b0bd6dc81</span><br><span class="line">Author: qcmoke &lt;1667164190@qq.com&gt;</span><br><span class="line">Date:   Thu Oct 18 21:47:18 2018 +0800</span><br><span class="line"></span><br><span class="line">    commit demo.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br></pre></td></tr></table></figure><p>以上操作完成后当前的情况如下图：</p><p><img src="/tools/../images/loading-post.gif" data-original="git/1540444596041.png" alt="1540444596041"></p><h3 id="1-回滚到上一个版本快照"><a class="header-anchor" href="#1-回滚到上一个版本快照">¶</a>1. 回滚到上一个版本快照</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD~   <span class="comment"># 回滚到上个版本并且暂存区会被回滚到的仓库版本文件所覆盖。~表示上一个版本快照，~~表示上上个快照，以此类推，也可以用数字代替，如~10则表示前10个的版本</span></span><br></pre></td></tr></table></figure><ul><li><p><code>git reset --mixed HEAD~</code></p><ul><li><p>默认选项</p></li><li><p>移动HEAD的指向，将其指向上一个版本快照</p></li><li><p>将HEAD移动后指向的快照回滚到暂存区（暂存区会被回滚到的仓库版本文件所覆盖）</p></li></ul></li><li><p><code>git reset --soft HEAD~</code></p><ul><li>移动HEAD的指向，将其指向上一个快照（不回滚到暂存区）</li></ul></li><li><p><code>git reset --hard HEAD~</code></p><ul><li>移动HEAD的指向，将其指向上一个版本快照</li><li>将HEAD移动后指向的快照回滚到暂存区</li><li>将暂存区的文件还原到工作目录（工作目录会被暂存区的文件所覆盖）</li></ul></li></ul><p>案例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git reset HEAD~</span><br><span class="line">Unstaged changes after reset:</span><br><span class="line">M       readme.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git <span class="built_in">log</span></span><br><span class="line">commit 5b144ee3e670f710091d7441bcde01ceaf8c622e (HEAD -&gt; master)</span><br><span class="line">Author: qcmoke &lt;1667164190@qq.com&gt;</span><br><span class="line">Date:   Sat Oct 20 20:06:38 2018 +0800</span><br><span class="line"></span><br><span class="line">    commit readme.txt</span><br><span class="line"></span><br><span class="line">commit c3f6e587497f49870ab974ca4433a8e13467088d</span><br><span class="line">Author: qcmoke &lt;1667164190@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 19 00:11:11 2018 +0800</span><br><span class="line"></span><br><span class="line">    modify demo.txt</span><br><span class="line"></span><br><span class="line">commit 0e22aafab1b3951a989105af18d3028b0bd6dc81</span><br><span class="line">Author: qcmoke &lt;1667164190@qq.com&gt;</span><br><span class="line">Date:   Thu Oct 18 21:47:18 2018 +0800</span><br><span class="line"></span><br><span class="line">    commit demo.txt</span><br><span class="line"><span class="comment">#可以发现记录里没有“modify readme.txt”的内容了，因为已经回滚到了上一个版本，而上一个版本并没有这条提交记录。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">"git checkout -- &lt;file&gt;..."</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line"></span><br><span class="line">        modified:   readme.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">"git add"</span> and/or <span class="string">"git commit -a"</span>)</span><br><span class="line"><span class="comment">#可以发现一个有趣的事情，那就是git提示要向暂存区添加文件，并提交文件到版本库。原因是执行回滚后工作区的readme.txt要比暂存区的readme.txt新，相对于工作区对readme.txt做了修改。</span></span><br></pre></td></tr></table></figure><p><img src="/tools/../images/loading-post.gif" data-original="git/1540040885722.png" alt="1540040885722"></p><h3 id="2-回滚到特定版本快照"><a class="header-anchor" href="#2-回滚到特定版本快照">¶</a>2. 回滚到特定版本快照</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset 版本快照的id号</span><br></pre></td></tr></table></figure><p>案例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">如本例中要从第四个版本回滚到第三个版本：</span><br><span class="line">git reset c3f6e587497f49870ab974ca4433a8e13467088d</span><br><span class="line">或者简写（能识别即可）：</span><br><span class="line">git reset c3f6e58</span><br></pre></td></tr></table></figure><h3 id="3-回滚快照中的个别文件"><a class="header-anchor" href="#3-回滚快照中的个别文件">¶</a>3. 回滚快照中的个别文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset 版本快照  文件名/文件路径   <span class="comment">#HEAD指针不移动，只回滚个别文件</span></span><br></pre></td></tr></table></figure><h3 id="4-往新版本回滚"><a class="header-anchor" href="#4-往新版本回滚">¶</a>4. 往新版本回滚</h3><p>类似的只要记住版本快照的id号即可往往新版本回滚。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset 版本快照的id号</span><br></pre></td></tr></table></figure><p>但往旧版本回滚后并且关闭了shell，如果在回退以后又想再次回到之前的版本，用<code>git log</code>会查不到版本id号。可以通过以下命令查看所有commit记录。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reflog   <span class="comment">#查看历史所以commit id</span></span><br></pre></td></tr></table></figure><h2 id="九-恢复工作区"><a class="header-anchor" href="#九-恢复工作区">¶</a>九、恢复工作区</h2><h3 id="1-没有add的情况"><a class="header-anchor" href="#1-没有add的情况">¶</a>1. 没有add的情况</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#检出,只能清空全部已修改的问题件, 但是对于新建的文件和文件夹无法清空, 必须组合下面命令。如果只作用个别文件用参数 -- &lt;file&gt;</span></span><br><span class="line">git checkout .</span><br><span class="line"></span><br><span class="line"><span class="comment">#清空所有新建的文件和文件夹</span></span><br><span class="line">git clean -df</span><br></pre></td></tr></table></figure><p>git clean的参数说明:</p><blockquote><p><code>-f</code> ：删除 一些 没有 git add 的 文件<br><code>-df</code>：删除 一些 没有 git add 的 文件和目录<br><code>-n</code>：显示将要删除的文件或者目录</p></blockquote><h3 id="2-已经add但没有commit的情况"><a class="header-anchor" href="#2-已经add但没有commit的情况">¶</a>2. 已经add但没有commit的情况</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git reset . <span class="comment">#重置，覆盖暂存，但不覆盖本地工作区</span></span><br><span class="line">git checkout .</span><br><span class="line">git clean -df</span><br></pre></td></tr></table></figure><p><em>注: 这种情git reset不允许使用<code>--soft和--hard选项</code></em></p><h3 id="3-已经add并且commit的情况"><a class="header-anchor" href="#3-已经add并且commit的情况">¶</a>3. 已经add并且commit的情况</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD~ <span class="comment">#重置，覆盖暂存和本地工作区</span></span><br></pre></td></tr></table></figure><h2 id="十-checkout和reset的区别"><a class="header-anchor" href="#十-checkout和reset的区别">¶</a>十、<code>checkout</code>和<code>reset</code>的区别</h2><ul><li><p>恢复文件</p><p><strong>当用<code>checkout</code>和<code>reset</code>来恢复指定快照中的指定文件时，两种的命令都不会改变HEAD指针的指向。</strong></p><p>他们的区别是：<code>checkout</code>命令会同时覆盖暂存区和工作区；而<code>reset</code>命令默认只是将指定快照的指定文件恢复到暂存区（<code>--mixed</code>）。</p><blockquote><p>注意：在恢复指定快照中的指定文件时使用<code>git reset</code>不允许使用<code>--soft和--hard选项</code></p></blockquote></li></ul><ul><li><p>恢复快照</p><p><strong>当用<code>checkout</code>和<code>reset</code>来恢复指定快照时，两种的命令都会改变HEAD指针的指向。</strong></p><p>他们的区别是：<code>checkout</code>命令只移动HEAD自身指向其他分支，并不移动HEAD所在的分支指针；而<code>reset</code>命令会移动HEAD自身指向其他分支并且会移动HEAD所在的分支指针指向其他版本库快照。</p></li></ul><h2 id="十一-文件diff差异比较"><a class="header-anchor" href="#十一-文件diff差异比较">¶</a>十一、文件diff差异比较</h2><h3 id="1-比较暂存区与工作区的文件差异"><a class="header-anchor" href="#1-比较暂存区与工作区的文件差异">¶</a>1. 比较暂存区与工作区的文件差异</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff file</span><br></pre></td></tr></table></figure><p>案例：</p><p>我们对demo.txt的内容做以下修改。改成以下：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello World ！"</span>&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>并添加到暂存区。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add demo.txt</span><br></pre></td></tr></table></figure><p>然后在工作区再对demo.txt做修改。修改为以下：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello Git World ！"</span>&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff demo.txt  <span class="comment">#比较暂存区与工作区的demo.txt差异</span></span><br></pre></td></tr></table></figure><p>打印的内容如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">diff --git a/demo.txt b/demo.txt  <span class="comment">#a/demo.txt是暂存区的demo.txt，b/demo.txt是工作区的</span></span><br><span class="line">index ab28497..f6e1eb1 100644  <span class="comment">#ab28497..f6e1eb1是文件id，100644是文件类型和权限</span></span><br><span class="line">--- a/demo.txt  <span class="comment">#---表示旧文件</span></span><br><span class="line">+++ b/demo.txt  <span class="comment">#+++表示新文件</span></span><br><span class="line">@@ -2,6 +2,6 @@  <span class="comment">#-表示旧文件，+表示新文件，数字表示开始行号和联连续的行数</span></span><br><span class="line"> using namespace std;  <span class="comment">#没有+或者-表示共有的内容</span></span><br><span class="line"> int main()</span><br><span class="line"> &#123;</span><br><span class="line">-    cout &lt;&lt; <span class="string">"Hello World ！"</span>&lt;&lt; endl;   <span class="comment">#-的内容表示旧文件所特有的内容</span></span><br><span class="line">+       cout &lt;&lt; <span class="string">"Hello Git World ！"</span>&lt;&lt; endl; <span class="comment">#+的内容表示新文件所特有的内容</span></span><br><span class="line">     <span class="built_in">return</span> 0;</span><br><span class="line"> &#125;</span><br><span class="line">\ No newline at end of file</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br></pre></td></tr></table></figure><h3 id="2-比较两个历史快照的差异"><a class="header-anchor" href="#2-比较两个历史快照的差异">¶</a>2. 比较两个历史快照的差异</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff 快照id1  快照id2  file</span><br></pre></td></tr></table></figure><h3 id="3-比较工作区和版本快照的差异"><a class="header-anchor" href="#3-比较工作区和版本快照的差异">¶</a>3. 比较工作区和版本快照的差异</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git diff 快照id file <span class="comment">#工作区和具体的某个快照进行对比</span></span><br><span class="line">git diff HEAD  file <span class="comment">#工作区和HEAD所指向的版本快照进行对比</span></span><br></pre></td></tr></table></figure><h3 id="4-比较暂存区和版本快照的差异"><a class="header-anchor" href="#4-比较暂存区和版本快照的差异">¶</a>4. 比较暂存区和版本快照的差异</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git diff --cached file           <span class="comment">#暂存区和HEAD所指向的版本快照进行对比</span></span><br><span class="line">git diff --cached 版本快照id file <span class="comment">#暂存区和具体的某个快照进行对比</span></span><br></pre></td></tr></table></figure><h2 id="十二-提交修改"><a class="header-anchor" href="#十二-提交修改">¶</a>十二、提交修改</h2><p>需求：提交暂存区的所以文件到版本库后（如 git commit -m “commit all files as sunday !”），之后又改动了本地的某个文件，但不想因为此个例再另外提交一次而生成一个版本快照（即生成一个提交log），只想要让这个修改的文件添加到上次的提交中（当前最新的版本快照中）。</p><p>可以使用以下命令来实现。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend  <span class="comment">#提交暂存区的内容，但不产生新的版本快照，只是对原本的快照进行修改。</span></span><br></pre></td></tr></table></figure><p>案例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git add demo.txt   <span class="comment">#先添加修改过的demo.txt到暂存区</span></span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git reset HEAD &lt;file&gt;..."</span> to unstage)</span><br><span class="line"></span><br><span class="line">        modified:   demo.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git commit --amend    <span class="comment">#对当前最新的快照进行修改，使暂存区的demo.txt文件覆盖最新版本仓库快照中的demo.txt。</span></span><br><span class="line">[master 319082e] commit readme.txt</span><br><span class="line"> Date: Sat Oct 20 20:06:38 2018 +0800</span><br><span class="line"> 2 files changed, 8 insertions(+), 1 deletion(-)</span><br><span class="line"> create mode 100644 readme.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git <span class="built_in">log</span>   <span class="comment">#发现没有另外生成一个新的版本仓库快照。</span></span><br><span class="line">commit 319082ee50a29e9f33a69d084b5f8acd17ac5b09 (HEAD -&gt; master)</span><br><span class="line">Author: qcmoke &lt;1667164190@qq.com&gt;</span><br><span class="line">Date:   Sat Oct 20 20:06:38 2018 +0800</span><br><span class="line"></span><br><span class="line">    commit readme.txt</span><br><span class="line"></span><br><span class="line">commit c3f6e587497f49870ab974ca4433a8e13467088d</span><br><span class="line">Author: qcmoke &lt;1667164190@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 19 00:11:11 2018 +0800</span><br><span class="line"></span><br><span class="line">    modify demo.txt</span><br><span class="line"></span><br><span class="line">commit 0e22aafab1b3951a989105af18d3028b0bd6dc81</span><br><span class="line">Author: qcmoke &lt;1667164190@qq.com&gt;</span><br><span class="line">Date:   Thu Oct 18 21:47:18 2018 +0800</span><br><span class="line"></span><br><span class="line">    commit demo.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br></pre></td></tr></table></figure><h2 id="十三-删除各区的文件"><a class="header-anchor" href="#十三-删除各区的文件">¶</a>十三、删除各区的文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git rm 文件名  <span class="comment">#只删除工作区和暂存区的该文件，git rm . 则表示清空工作区和暂存区的文件而不是指定的单个文件</span></span><br><span class="line">git rm -f 文件名 <span class="comment">#当工作区和暂存区的内容不一样时，执行此命令来强制删除工作区和暂存区的该文件</span></span><br><span class="line">git rm -cached 文件名  <span class="comment">#只删除暂存区的文件，但保留工作区的文件。</span></span><br><span class="line">git reset--hard HEAD~  <span class="comment">#如果要删除文件同时要清除记录，可以采取回滚的方法</span></span><br></pre></td></tr></table></figure><p>案例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ ls</span><br><span class="line">demo.txt  readme.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git rm demo.txt   <span class="comment">#删除工作区和暂存区的demo.txt</span></span><br><span class="line">rm <span class="string">'demo.txt'</span></span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ ls</span><br><span class="line">readme.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git status   <span class="comment">#暂存区中提示已经删除demo.txt</span></span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git reset HEAD &lt;file&gt;..."</span> to unstage)</span><br><span class="line"></span><br><span class="line">        deleted:    demo.txt</span><br><span class="line">        </span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git commit -m <span class="string">"deleted demo.txt"</span>  <span class="comment">#提交本次修改</span></span><br><span class="line">[master 65ca766] deleted demo.txt</span><br><span class="line"> 1 file changed, 7 deletions(-)</span><br><span class="line"> delete mode 100644 demo.txt</span><br></pre></td></tr></table></figure><h2 id="十四-重命名文件"><a class="header-anchor" href="#十四-重命名文件">¶</a>十四、重命名文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git mv 旧文件名 新文件名  <span class="comment">#重命名工作区的文件，暂存区的文件也被重命名</span></span><br><span class="line">mv 旧文件名 新文件名     <span class="comment">#只重命名工作区的文件，暂存区的文件没有重命名</span></span><br></pre></td></tr></table></figure><p>案例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ ls</span><br><span class="line">readme.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git mv readme.txt Readme.txt  <span class="comment">#将工作区和暂存区的readme.txt重命名为Readme.txt</span></span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ ls</span><br><span class="line">Readme.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git reset HEAD &lt;file&gt;..."</span> to unstage)</span><br><span class="line"></span><br><span class="line">        renamed:    readme.txt -&gt; Readme.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project (master)</span><br><span class="line">$ git commit -m <span class="string">"renamed readme.txt -&gt; Readme.txt"</span>  <span class="comment">#提交本次修改</span></span><br><span class="line">[master 330b8d7] renamed readme.txt -&gt; Readme.txt</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> rename readme.txt =&gt; Readme.txt (100%)</span><br></pre></td></tr></table></figure><h2 id="十五-分支管理"><a class="header-anchor" href="#十五-分支管理">¶</a>十五、分支管理</h2><h3 id="1-查看分支"><a class="header-anchor" href="#1-查看分支">¶</a>1. 查看分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看本地分支（这个命令会列出当前所有本地分支，其中前面带有 * 号的表示当前所在的分支。）</span></span><br><span class="line">git branch</span><br><span class="line"><span class="comment">#查看远程分支</span></span><br><span class="line">git branch -r</span><br><span class="line"><span class="comment">#查看本地和远程分支</span></span><br><span class="line">git branch -a</span><br></pre></td></tr></table></figure><h3 id="2-创建分支"><a class="header-anchor" href="#2-创建分支">¶</a>2. 创建分支</h3><p>初始化git仓库时，<code>HEAD</code>指针默认指向<code>master</code>分支。如果需要其他分支则需要创建和切换。用下面命令来实现此需求：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#创建分支</span></span><br><span class="line">git branch &lt;name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#示例：</span></span><br><span class="line">git branch dev  <span class="comment">#创建dev分支</span></span><br></pre></td></tr></table></figure><h3 id="3-切换分支"><a class="header-anchor" href="#3-切换分支">¶</a>3. 切换分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#切换分支（将当前分支切换到另一个分支，并更新工作目录中的文件内容）</span></span><br><span class="line">git checkout &lt;name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#示例1：</span></span><br><span class="line">git branch dev  <span class="comment">#创建dev分支</span></span><br><span class="line">git checkout dev <span class="comment">#切换到dev分支</span></span><br><span class="line"><span class="comment">#示例2：</span></span><br><span class="line">git checkout -b dev  <span class="comment">#创建dev分支并切换到dev分支</span></span><br></pre></td></tr></table></figure><blockquote><p>需要注意的是，在进行分支切换时，必须保证当前的工作目录和暂存区是干净的（没有未提交的变更），否则切换可能会失败。如果想要保存当前分支的修改，可以先执行 <code>git add</code> 和 <code>git commit</code> 命令将修改提交到当前分支，然后再执行切换分支的操作。</p><p>当我们创建新的分支并（如：<code>dev</code>）进行分支切换时，git会新建了一个指针叫<code>dev</code>，其指向<code>master</code>相同的版本仓库快照，当切换到<code>dev</code>分支时，就会把<code>HEAD</code>指向<code>dev</code>，就表示当前分支在<code>dev</code>上。</p><p><img src="/tools/../images/loading-post.gif" data-original="git/1540314110963.png" alt="1540314110963"></p><p>从现在开始，对工作区的修改和提交就是针对<code>dev</code>分支了，比如新提交一次后，<code>dev</code>指针往前移动一步，而<code>master</code>指针不变。<img src="/tools/../images/loading-post.gif" data-original="git/1540314143868.png" alt="1540314143868"></p><p>假如我们在<code>dev</code>上的工作完成了，就可以把<code>dev</code>合并到<code>master</code>上。最简单的方法，就是直接把<code>master</code>指向<code>dev</code>的当前提交，就完成了合并：</p><p><img src="/tools/../images/loading-post.gif" data-original="git/1540317847182.png" alt="1540317847182"></p><p>合并完分支后，甚至可以删除<code>dev</code>分支。删除<code>dev</code>分支就是把<code>dev</code>指针给删掉：</p><p><img src="/tools/../images/loading-post.gif" data-original="git/1540317908951.png" alt="1540317908951"></p></blockquote><h3 id="4-合并分支"><a class="header-anchor" href="#4-合并分支">¶</a>4. 合并分支</h3><h4 id="简单使用"><a class="header-anchor" href="#简单使用">¶</a>简单使用</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#合并某分支到当前分支</span></span><br><span class="line">git merge &lt;name&gt;</span><br></pre></td></tr></table></figure><p>示例：合并dev分支到master分支。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#先切换到master分支（HEAD指针指向master） </span></span><br><span class="line">git checkout master</span><br><span class="line"><span class="comment">#合并dev到当前分支（即master分支）</span></span><br><span class="line">git merge dev</span><br></pre></td></tr></table></figure><blockquote><p>对于以上案例的合并原理是：HEAD指向的master指针移动到了dev指针所指的节点即完成了合并。</p><p><img src="/tools/../images/loading-post.gif" data-original="git/1540405021121.png" alt="1540405021121"></p></blockquote><h4 id="合并冲突"><a class="header-anchor" href="#合并冲突">¶</a>合并冲突</h4><p>多个开发者对同一版本的同一个文件进行修改并提交，当合并两个开发者的提交的分支时会出现合并冲突问题。</p><p>下面是合并冲突的一个简单示例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">####（1）git项目初始化操作 ####</span></span><br><span class="line">    <span class="comment">#初始化一个新目录为git仓库</span></span><br><span class="line">    git init <span class="built_in">test</span></span><br><span class="line">    <span class="comment">#进入git仓库目录里（初始化的git仓库默认在master分支）</span></span><br><span class="line">    <span class="built_in">cd</span> <span class="built_in">test</span>/</span><br><span class="line"></span><br><span class="line">    <span class="comment">#创建一个测试文件并输入内容</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"init"</span> &gt; test.txt</span><br><span class="line">    <span class="comment">#提交测试文件到默认的master分支</span></span><br><span class="line">    git add . &amp;&amp; git commit -m <span class="string">"init"</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">####（2）产生冲突操作 ####</span></span><br><span class="line">    <span class="comment">#新建dev分支</span></span><br><span class="line">    git branch dev</span><br><span class="line">    <span class="comment">#切换到dev分支</span></span><br><span class="line">    git checkout dev</span><br><span class="line">    <span class="comment">#修改测试文件内容</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"dev"</span> &gt;&gt; test.txt</span><br><span class="line">    <span class="comment">#提交测试文件到dev分支</span></span><br><span class="line">    git add . &amp;&amp; git commit -m <span class="string">"modify by dev"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#切换回和master分支</span></span><br><span class="line">    git checkout master</span><br><span class="line">    <span class="comment">#修改测试文件内容</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"master"</span> &gt;&gt; test.txt</span><br><span class="line">    <span class="comment">#提交测试文件到master分支</span></span><br><span class="line">    git add . &amp;&amp; git commit -m <span class="string">"modify by master"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">####（3）合并分支并解决冲突操作 ####</span></span><br><span class="line">    <span class="comment">##此时dev分支和master分支的版本一样，但是测试文件内容不一样</span></span><br><span class="line">    <span class="comment">#可以在master分支上合并dev分支过来，操作如下：</span></span><br><span class="line">    git merge dev</span><br><span class="line"></span><br><span class="line">    <span class="comment">#此时的测试文件内容如下：</span></span><br><span class="line">    $ cat test.txt</span><br><span class="line">    init</span><br><span class="line">    &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">    master</span><br><span class="line">    =======</span><br><span class="line">    dev</span><br><span class="line">    &gt;&gt;&gt;&gt;&gt;&gt;&gt; dev</span><br><span class="line"></span><br><span class="line">    <span class="comment">#编辑存在内容冲突的测试文件并解决冲突的内容</span></span><br><span class="line">    $ vi test.txt</span><br><span class="line">    <span class="comment">#删除掉特殊符号并修改为需要的内容，修改后的内容如下：</span></span><br><span class="line">    init</span><br><span class="line">    master</span><br><span class="line">    dev</span><br><span class="line"></span><br><span class="line">	<span class="comment">#提交已经修复冲突的测试文件到master分支（冲突解决）</span></span><br><span class="line">	git add . &amp;&amp; git commit -m <span class="string">"merge dev and modify by master"</span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">#由于某些原因需要放弃合并（如冲突难以解决），那么可以执行如下命令来撤销合并操作：</span></span><br><span class="line">	git merge --abort</span><br></pre></td></tr></table></figure><p><img src="/tools/../images/loading-post.gif" data-original="git/image-20230514163309930.png" alt="image-20230514163309930"></p><blockquote><h5 id="分析"><a class="header-anchor" href="#分析">¶</a>分析</h5><p>（1）合并不会冲突情形：</p><p>在原分支上的某一原节点创建第二个分支，此时原分支和新创建的分支指向这个原节点。从这个原节点往第二个分支的方向开发（修改）得到新的节点（在第二个分支上），再将第二个分支的新节点合并到原节点（在原分支上），这种合并不会发生冲突。<br>理解:“合并节点的快照”比“被合并节点的快照”的版本新，合并不会冲突。</p><p>情况如图：</p><p><img src="/tools/../images/loading-post.gif" data-original="git/1540444441499.png" alt="1540444441499"></p><p>（2）合并会冲突情形：</p><p>同一节点分叉开发后合并到其中一个分支上会合并冲突。<br>在原分支上的某一原节点创建第二个分支，此时原分支和新创建的分支指向这个原节点，在原分支的这个原节点上开始修改得到新的节点。在第二个分支的这个原节点上修改得到另一个新的节点，此时合并一个分支到另一个分支都会冲突。<br>理解：“合并节点的快照”和“被合并节点的快照”的版本一样新，合并会冲突。</p><p><img src="/tools/../images/loading-post.gif" data-original="git/1540444461052.png" alt="1540444461052"></p></blockquote><h3 id="5-删除分支"><a class="header-anchor" href="#5-删除分支">¶</a>5. 删除分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#删除分支</span></span><br><span class="line">git branch -d &lt;name&gt; </span><br><span class="line"></span><br><span class="line"><span class="comment">#示例：</span></span><br><span class="line">git branch -d dev	<span class="comment">#删除dev分支</span></span><br></pre></td></tr></table></figure><h2 id="十六-git远程管理"><a class="header-anchor" href="#十六-git远程管理">¶</a>十六、git远程管理</h2><h3 id="1-git服务端访问配置"><a class="header-anchor" href="#1-git服务端访问配置">¶</a>1. git服务端访问配置</h3><h4 id="1-简要概述"><a class="header-anchor" href="#1-简要概述">¶</a>1）简要概述</h4><p>git客户端访问git服务端的仓库，需要通过远程仓库的地址进行访问，远程仓库的地址通常为HTTP协议地址或者SSH协议地址。</p><p>（1）HTTP协议地址</p><blockquote><ul><li><p>地址格式：<code>http://host:port/xxx.git</code> 或 <code>https://host:port/xxx.git</code></p></li><li><p>鉴权与加密方式：通过用户名和密码或访问令牌等进行身份验证，加密通信则通过TLS/SSL来实现。</p></li><li><p>秘钥存储：首次首次访问远程库时需输入了用户名和密码进行身份验证，之后会保存在系统的凭据存储区域中，各个平台的凭据存储机制如下：</p></li><li><p>Windows：Windows凭据管理器 （可在 控制面板&gt;用户帐户&gt;凭据管理器&gt;Windows 凭据中查看，或通过cmd命令 <code>cmdkey /list</code> 查看）</p></li><li><p>macOS: 钥匙串（Keychain Access）</p></li><li><p>Linux：GNOME Keyring或KWallet</p></li></ul></blockquote><p>（2）SSH协议地址：</p><blockquote><ul><li><p>地址格式：<code>ssh://git@host:port/xxx.git</code> 或 <code>git@host:xxx.git</code> （如果SSH协议地址使用默认的22端口则可忽略<code>ssh://</code>和端口进行简写）</p></li><li><p>鉴权与加密方式：使用SSH秘钥对进行身份验证和加密通信。</p></li><li><p>秘钥存储：客户端SSH秘钥对存储在<code>~/.ssh</code>目录，目录下有私钥文件（即<code>id_rsa</code>）和公钥文件（即<code>id_rsa.pub</code>，含公钥密文，即所谓的SSH秘钥）；服务端SSH秘钥对同样存储在<code>~/.ssh</code>目录下，另外服务端还有个重要的授权文件（即 <code>authorized_keys</code>），其存放有客户端的公钥密文，用于客户端访问的身份验证。</p></li><li><p>身份验证过程：当用户尝试与SSH服务器建立连接时，服务器会要求客户端发送其公钥。如果该公钥存在于服务器上的<code>authorized_keys</code>文件中，则服务器将允许客户端访问并使用该SSH帐户。</p></li></ul></blockquote><h4 id="2-ssh秘钥配置"><a class="header-anchor" href="#2-ssh秘钥配置">¶</a>2）SSH秘钥配置</h4><h5 id="1-客户端配置"><a class="header-anchor" href="#1-客户端配置">¶</a>（1）客户端配置</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#生成ssh密钥对</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">"youremail@example.com"</span></span><br><span class="line"><span class="comment">#然后连续3次回车，最终会~/.ssh目录下生成私钥文件（id_rsa）和公钥文件（id_rsa.pub）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#获取客户端的ssh公钥密文（后续服务端配置用到）</span></span><br><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><blockquote><p>关于<code>ssh-keygen</code>命令行工具参数的说明：</p><ul><li><code>-t</code>: 指定要生成的密钥类型。支持的密钥类型有：rsa、dsa、ecdsa、ed25519等</li><li><code>-C</code>: 可选，在密钥末尾添加注释信息以标识该密钥的用途（一般为用户的邮箱地址），仅仅为注释，有无都不会影响ssh加解密和身份验证。</li><li><code>-b</code>: 指定密钥长度（以比特为单位）。默认情况下，RSA密钥的长度为2048位，DSA密钥的长度为1024位，ECDSA密钥的长度为256位，Ed25519密钥的长度为256位。</li><li><code>-f</code>: 指定生成密钥的文件名和路径。如果不指定该参数，则默认生成id_rsa和id_rsa.pub两个密钥文件，并保存在~/.ssh目录下。</li><li><code>-N</code>: 指定新密钥的密码短语（也称为口令）。</li><li><code>-i</code>: 导入已有的密钥文件。</li><li><code>-e</code>: 将OpenSSH格式的密钥转换为其他格式（如PKCS#8格式）。</li><li><code>-y</code>: 提取公钥部分，输出到标准输出。</li><li><code>-R</code>: 从known_hosts文件中删除指定主机的条目。</li></ul></blockquote><h5 id="2-服务端配置"><a class="header-anchor" href="#2-服务端配置">¶</a>（2）服务端配置</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#添加客户端的ssh公钥密文到服务端授权文件中，用于服务端的身份验证</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"客户端的ssh公钥密文"</span> &gt;&gt; ~/.ssh/authorized_keys</span><br><span class="line"></span><br><span class="line"><span class="comment">#例如：</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"ssh-rsa AAAAB311/c/250YucGiB/mbZU= youremail@example.com"</span> &gt;&gt; ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure><blockquote><p>此外还可以在客户端通过命令：<code>ssh-copy-id -p port user@remote</code> 将公钥密文自动上传保存到服务端授权文件<code>authorized_keys</code>中，不过执行该命令需要输入 “user” 用户的ssh密码。</p></blockquote><p>服务端添加</p><h5 id="3-ssh访问身份验证测试"><a class="header-anchor" href="#3-ssh访问身份验证测试">¶</a>（3）ssh访问身份验证测试</h5><p>可在客户端执行如下命令来测试访问服务端时身份验证是否通过：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh -p port -T git@host</span><br><span class="line"><span class="comment">#例如：</span></span><br><span class="line">ssh -T git@github.com</span><br><span class="line">ssh -p 2222 -T git@github.com</span><br></pre></td></tr></table></figure><h4 id="3-客户端多ssh秘钥配置"><a class="header-anchor" href="#3-客户端多ssh秘钥配置">¶</a>3）客户端多SSH秘钥配置</h4><p>在通过SSH协议访问Git服务端时，Git客户端是借助SSH来实现访问的。在默认情况下SSH会使用<code>~/.ssh/id_rsa</code>为默认私钥文件，并会自动使用该密钥进行身份验证。但如果一个客户端需要访问多个服务端，并且访问不同服务端对应的SSH秘钥也不同，那么客户端就需要生成不同的SSH秘钥对文件（如：<code>id_rsa_gitlib</code>、<code>id_rsa_gogs</code>），操作如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#生成新的SSH秘钥对，并指定秘钥对的文件路径</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">"youremail@example.com"</span> -f  ~/.ssh/id_rsa_example	<span class="comment">#会在~/.ssh目录下生成私钥文件id_rsa_example和公钥文件id_rsa_example.pub</span></span><br><span class="line"><span class="comment">#将新的SSH公钥设置到服务端中</span></span><br><span class="line">cat ~/.ssh/id_rsa_example.pub</span><br></pre></td></tr></table></figure><p>对于客户端使用多个不同的SSH秘钥对文件，SSH无法自动识别到这些不同文件路径的私钥文件，故无法自动使用这些非默认的私钥文件进行身份验证，也就是说无论访问哪个服务器都会使用默认的私钥文件<code>id_rsa</code>进行身份验证，故而对于非默认秘钥配置的服务器会验证失败。解决这个问题有以下两种方式：</p><p>（1）使用新的ssh代理来添加自定义的私钥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#启动一个新的ssh代理</span></span><br><span class="line">ssh-agent bash</span><br><span class="line"><span class="comment">#添加自定义的私钥到ssh代理中</span></span><br><span class="line">ssh-add ~/.ssh/id_rsa_example</span><br><span class="line"><span class="comment">#查看所有添加秘钥列表</span></span><br><span class="line">ssh-add -l</span><br><span class="line"><span class="comment">#删除所有新增的私钥</span></span><br><span class="line"><span class="comment">#ssh-del -l</span></span><br></pre></td></tr></table></figure><blockquote><p>💁‍♂ 关于SSH代理的说明：</p><p>SSH代理（SSH Agent）是一个程序，用于管理和存储SSH密钥，并在需要进行SSH身份验证时提供这些密钥。它允许SSH客户端与SSH密钥分离，并避免在每次连接到SSH服务器时都要输入密码或者手动加载密钥的繁琐性。</p><p>当您将SSH私钥添加到代理中后，代理会将私钥存储在内存中，并将其用于后续的SSH连接身份验证。这样，只要代理仍然在运行并且SSH密钥仍然存在于代理中，您就无需再次输入密码或加载密钥即可连接到SSH服务器。</p><p>另外，SSH代理还提供了一种安全方式来存储和管理多个SSH密钥。通过使用SSH代理，您可以轻松地切换不同的SSH密钥，并控制哪些密钥可供使用，以确保安全性和保护私人数据。</p><p>需要注意的是，在使用SSH代理时，如果您关闭了代理或重新启动计算机，则必须重新添加SSH密钥才能使用。此外，为了确保安全性，建议在使用完SSH密钥后从代理中清除它们，以避免恶意软件攻击或其他安全漏洞。</p></blockquote><p>（2）SSH客户端的配置文件添加SSH登录配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cat &gt;&gt; ~/.ssh/config &lt;&lt; <span class="string">'EOF'</span></span><br><span class="line">Host *.example.com</span><br><span class="line">  HostName git.example.com</span><br><span class="line">  PreferredAuthentications publickey</span><br><span class="line">  IdentityFile ~/.ssh/id_rsa_example</span><br><span class="line">  User user1</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><blockquote><p>配置文件参数</p><ul><li><code>Host</code>: 请求服务端时，服务端ip或域名的匹配模式（可含通配符，如：<code>*.60.156</code> 或 <code>*.example.com</code>），可根据这个识别模式配置到主机名和私钥文件</li><li><code>HostName</code>: 服务端的访问ip或域名（不能含通配符，如：<code>192.168.60.156</code> 或 <code>git.example.com</code>），默认值为访问时ssh链接地址的ip或域名，如果使用内网穿透等反向代理服务器则可以修改</li><li><code>User</code>: ssh用户名 （默认值为ssh链接地址里的用户名）</li><li><code>IdentityFile</code>: 私钥文件路径</li><li><code>Port</code>: 端口号（默认值为访问时ssh链接地址的端口， 如果使用内网穿透等反向代理服务器则可以修改）</li></ul><p>对于git可使用如下最简写：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat &gt;&gt; ~/.ssh/config &lt;&lt; <span class="string">'EOF'</span></span><br><span class="line">Host 192.168.60.156</span><br><span class="line">  IdentityFile ~/.ssh/id_rsa_example</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></blockquote><h3 id="2-git提交用户信息配置"><a class="header-anchor" href="#2-git提交用户信息配置">¶</a>2. git提交用户信息配置</h3><p>设置git提交代码时需要设置的作者名和电子邮件地址</p><blockquote><p>使用Git时，如果未设置用户名和邮箱地址，则每次提交代码时都需要手动输入相关信息，这可能会非常繁琐和易错，所以一般在提交仓库分支时，这些信息都是需要提前配置的。</p><p>注意此处的提交代码的用户名并非ssh的用户名，其仅仅是标识提交代码时的作者名称，其可以根据需要进行修改。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#配置全局git用户信息（配置信息存储在 ~/.gitconfig 文件里）</span></span><br><span class="line">git config --global user.name <span class="string">"username"</span></span><br><span class="line">git config --global user.email <span class="string">"youremail@example.com"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#配置当前项目git用户信息（可为每git本地仓库设置，配置信息存储在当前项目的 .git/config 文件里 ）</span></span><br><span class="line">git config  user.name  <span class="string">"username"</span></span><br><span class="line">git config  user.email  <span class="string">"youremail@example.com"</span>　</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#查看全局git用户信息</span></span><br><span class="line">git config --global user.name</span><br><span class="line">git config --global user.email</span><br><span class="line"><span class="comment">#也可以使用如下命令获取全局的所有配置信息</span></span><br><span class="line">git config --global --list</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看当前项目git用户信息（默认为全局git用户信息）</span></span><br><span class="line">git config user.name</span><br><span class="line">git config user.email</span><br><span class="line"><span class="comment">#也可以使用如下命令获取当前项目的所有配置信息</span></span><br><span class="line">git config --list</span><br></pre></td></tr></table></figure><h3 id="3-添加本仓库和远程库的关联"><a class="header-anchor" href="#3-添加本仓库和远程库的关联">¶</a>3. 添加本仓库和远程库的关联</h3><p>将本地库与远程库建立联系，并指定该远程存储库的名称。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git remote add 远程库名称 远程库地址</span><br><span class="line"></span><br><span class="line"><span class="comment">#例如：</span></span><br><span class="line">git remote add origin https://host:port/xxx.git <span class="comment">#使用HTTP协议地址</span></span><br><span class="line">git remote add origin ssh://git@host:port/xxx.git  <span class="comment">#使用SSH协议地址</span></span><br><span class="line">git remote add origin git@host:xxx.git <span class="comment">#如果使用ssh协议使用默认的22端口则可如此简写</span></span><br></pre></td></tr></table></figure><h3 id="4-解除本仓库和远程库的关联"><a class="header-anchor" href="#4-解除本仓库和远程库的关联">¶</a>4. 解除本仓库和远程库的关联</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git remote rm 远程库名称</span><br><span class="line"></span><br><span class="line"><span class="comment">#例如：解除本仓库和名称为origin的远程库的关联</span></span><br><span class="line">git remote rm origin</span><br></pre></td></tr></table></figure><blockquote><p>注意，此命令是解除了本地仓库和远程仓库的关联，并不是删除了远程仓库的数据。</p></blockquote><h3 id="5-修改本地库关联的远程库信息"><a class="header-anchor" href="#5-修改本地库关联的远程库信息">¶</a>5. 修改本地库关联的远程库信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#修改本地库所对应的新远程库地址。</span></span><br><span class="line">git remote <span class="built_in">set</span>-url 远程库名称 远程库地址</span><br><span class="line"></span><br><span class="line"><span class="comment">#例如</span></span><br><span class="line">git remote <span class="built_in">set</span>-url origin https://host:port/xxx.git</span><br></pre></td></tr></table></figure><h3 id="6-查看本地库关联的远程库信息"><a class="header-anchor" href="#6-查看本地库关联的远程库信息">¶</a>6. 查看本地库关联的远程库信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#列出所有远程库名称</span></span><br><span class="line">git remote</span><br><span class="line"><span class="comment">#列出所有远程库名称和地址</span></span><br><span class="line">git remote -v</span><br></pre></td></tr></table></figure><h3 id="7-设置本地分支的上游分支"><a class="header-anchor" href="#7-设置本地分支的上游分支">¶</a>7.设置本地分支的上游分支</h3><p>即设置本地库的指定分支关联到远程库的指定分支。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#origin/remote_branch是远程分支的名称</span></span><br><span class="line"><span class="comment">#local_branch是本地分支的名称（如果不写则为本地当前分支的名称，如果本地没有分支则会报错，本地初始化仓库时会自动创建默认分支master）</span></span><br><span class="line">git branch --<span class="built_in">set</span>-upstream-to=origin/remote_branch local_branch</span><br><span class="line"></span><br><span class="line"><span class="comment">#例如</span></span><br><span class="line">git branch --<span class="built_in">set</span>-upstream-to=origin/master master</span><br><span class="line">git branch --<span class="built_in">set</span>-upstream-to=origin/master</span><br></pre></td></tr></table></figure><h3 id="8-推送本地分支到上游分支"><a class="header-anchor" href="#8-推送本地分支到上游分支">¶</a>8. 推送本地分支到上游分支</h3><p>即推送本地库当前分支到远程库的指定分支。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git push 远程库名称 远程库分支</span><br><span class="line"></span><br><span class="line"><span class="comment">#例如</span></span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#如果已经设置了上游分支，则可以不用加远程库的名称和地址，如下：</span></span><br><span class="line">git branch --<span class="built_in">set</span>-upstream-to=origin/master master</span><br><span class="line">git push</span><br><span class="line"><span class="comment">#或者可以合并写为如下：</span></span><br><span class="line">git push --<span class="built_in">set</span>-upstream origin master	<span class="comment">#可简写为：git push -u origin master</span></span><br></pre></td></tr></table></figure><h3 id="9-克隆远程库为本地库"><a class="header-anchor" href="#9-克隆远程库为本地库">¶</a>9. 克隆远程库为本地库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> 远程库地址 [本地库名称]</span><br><span class="line"></span><br><span class="line"><span class="comment">#例如：</span></span><br><span class="line">git <span class="built_in">clone</span> git@github.com:qcmoke/test.git pro</span><br></pre></td></tr></table></figure><blockquote><p>通过<code>git clone</code>克隆远程仓库到本地，那么git将自动初始化本地仓库，并设置本地分支和对应上游分支，上游分支为远程仓库的默认分支（一般是master分支）。</p></blockquote><h3 id="10-拉取远程库到本地库"><a class="header-anchor" href="#10-拉取远程库到本地库">¶</a>10. 拉取远程库到本地库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#拉取远程库到本地库（取回远程库某个分支的更新，再与本地的当前分支进行合并）</span></span><br><span class="line">git pull</span><br></pre></td></tr></table></figure><blockquote><p>💁‍♂ 说明：</p><p><code>git pull</code> = <code>git fetch 远程库地址</code> + <code>git merge 远程库名称/远程库分支</code></p><p><code>git fetch</code>只是下载远程库的分支内容到本地，但没有覆盖掉本地库的分支，需要用<code>git merge</code>来合并远程库的分支到本地库的当前分支。比如<code>git pull</code>命令默认会被解析成如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;git fetch origin master <span class="comment">#从origin远程库的master分支下载更新内容到本地 </span></span><br><span class="line">&gt;git merge FETCH_HEAD    <span class="comment">#将下载好的远程库分支合并到当前分支中</span></span><br></pre></td></tr></table></figure><p>💁‍♂ 注意：</p><p>使用命令<code>git pull</code>拉取分支前，一般是已经通过 <code>git clone</code> 来克隆获取远程库的代码了。如果先前未使用 <code>git clone</code> 的话，需要先添加远程仓库，并设置本地分支的上游分支后才能正常使用 <code>git pull</code>命令来拉取分支 。操作如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;git remote add origin https://host:port/xxx.git</span><br><span class="line">&gt;git branch --<span class="built_in">set</span>-upstream-to=origin/master master</span><br><span class="line">&gt;git pull</span><br><span class="line">&gt;<span class="comment">#设置本地分支的上游分支和拉取两条命令可合并写为如下（注意在git pull中的--set-upstream不能简写为-u）：</span></span><br><span class="line">&gt;git pull --<span class="built_in">set</span>-upstream origin master</span><br></pre></td></tr></table></figure></blockquote><h3 id="11-解决推送本地库到远程库冲突的问题"><a class="header-anchor" href="#11-解决推送本地库到远程库冲突的问题">¶</a>11. 解决推送本地库到远程库冲突的问题</h3><p>当有两个本地库都连接着同一个远程库，当有一个修改了文件并且推送到了远程库后。另外有个仓库也修改到了同样的文件。如果内容两个推送的修改不一致，那么就造成了冲突。</p><p>比如根据之前的例子，本地有pro和project2两个仓库。</p><p>（1）修改project2的readme.txt文件的内容为以下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">I am readme.txt</span><br><span class="line">modify readme.txt by project2</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project2 (master)</span><br><span class="line">$ git add readme.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project2 (master)</span><br><span class="line">$ git commit -m <span class="string">"modify readme.txt by project2"</span></span><br><span class="line">[master 17938ff] modify readme.txt by project2</span><br><span class="line"> 1 file changed, 2 insertions(+), 1 deletion(-)</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/project2 (master)</span><br><span class="line">$ git push origin master</span><br><span class="line">Enumerating objects: 5, <span class="keyword">done</span>.</span><br><span class="line">Counting objects: 100% (5/5), <span class="keyword">done</span>.</span><br><span class="line">Delta compression using up to 4 threads.</span><br><span class="line">Compressing objects: 100% (2/2), <span class="keyword">done</span>.</span><br><span class="line">Writing objects: 100% (3/3), 292 bytes | 146.00 KiB/s, <span class="keyword">done</span>.</span><br><span class="line">Total 3 (delta 1), reused 0 (delta 0)</span><br><span class="line">remote: Resolving deltas: 100% (1/1), completed with 1 <span class="built_in">local</span> object.</span><br><span class="line">To github.com:qcmoke/test.git</span><br><span class="line">   12f4d1d..17938ff  master -&gt; master</span><br></pre></td></tr></table></figure><p>（2）在project2修改并提交readme.txt到远程库后，又在本地的pro仓库修改readme.txt，同样提交readme.txt到远程库。</p><p>本地的pro修改readme.txt的内容为以下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">I am readme.txt</span><br><span class="line">modify readme.txt by pro</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/pro (master)</span><br><span class="line">$ git add readme.txt</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/pro (master)</span><br><span class="line">$ git commit -m <span class="string">"modify readme.txt by pro"</span></span><br><span class="line">[master 32cde6b] modify readme.txt by pro</span><br><span class="line"> 1 file changed, 2 insertions(+), 1 deletion(-)</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/pro (master)</span><br><span class="line">$ git push origin master</span><br><span class="line">To github.com:qcmoke/test.git</span><br><span class="line"> ! [rejected]        master -&gt; master (fetch first)</span><br><span class="line">error: failed to push some refs to <span class="string">'git@github.com:qcmoke/test.git'</span></span><br><span class="line">hint: Updates were rejected because the remote contains work that you</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">hint: not have locally. This is usually caused by another repository pushing</span><br><span class="line">hint: to the same ref. You may want to first integrate the remote changes</span><br><span class="line">hint: (e.g., <span class="string">'git pull ...'</span>) before pushing again.</span><br><span class="line">hint: See the <span class="string">'Note about fast-forwards'</span> <span class="keyword">in</span> <span class="string">'git push --help'</span> <span class="keyword">for</span> details.</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/pro (master)</span><br><span class="line">$</span><br></pre></td></tr></table></figure><p>git推送失败，原因是推送的内容与本地仓库project2的推送有冲突，project2推送时，已经更新了一个版本。而pro此时比远程仓库旧了一个版本，当推送时就与远程库的版本一样了，但问题是同样推送到同一个远程仓库版本，而远程仓库的这个版本中的readme.txt已经被project2修改了。git远程仓库无法确定要哪个本地库的修改，所以就冲突了。这要求在被其他本地库修改之前就要更新本地库pro到与远程库相同的版本快照，才能进行修改后推送。</p><p>通过以下命令来更新本地库pro到与远程库相同的版本快照：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git pull origin master</span><br></pre></td></tr></table></figure><p>然后再将本地pro的readme.txt的内容修改为以下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">I am readme.txt</span><br><span class="line">modify readme.txt by pro</span><br></pre></td></tr></table></figure><p>然后再推送添加提交到本地仓库，再将本地仓库的最新版本推送到远程仓库：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/pro (master)</span><br><span class="line">$ git pull origin master</span><br><span class="line">From github.com:qcmoke/<span class="built_in">test</span></span><br><span class="line"> * branch            master     -&gt; FETCH_HEAD</span><br><span class="line">Already up to date.</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/pro (master)</span><br><span class="line">$ git push origin master</span><br><span class="line">Enumerating objects: 9, <span class="keyword">done</span>.</span><br><span class="line">Counting objects: 100% (9/9), <span class="keyword">done</span>.</span><br><span class="line">Delta compression using up to 4 threads.</span><br><span class="line">Compressing objects: 100% (4/4), <span class="keyword">done</span>.</span><br><span class="line">Writing objects: 100% (5/5), 606 bytes | 202.00 KiB/s, <span class="keyword">done</span>.</span><br><span class="line">Total 5 (delta 1), reused 0 (delta 0)</span><br><span class="line">remote: Resolving deltas: 100% (1/1), completed with 1 <span class="built_in">local</span> object.</span><br><span class="line">To github.com:qcmoke/test.git</span><br><span class="line">   17938ff..830af40  master -&gt; master</span><br><span class="line"></span><br><span class="line">wen@DESKTOP-BHMU9KJ MINGW64 ~/Desktop/pro (master)</span><br><span class="line">$</span><br></pre></td></tr></table></figure><h2 id="十七-团队协同开发"><a class="header-anchor" href="#十七-团队协同开发">¶</a>十七、团队协同开发</h2><p>两种方式：</p><ol><li>项目管理者发送请求邀请其他成员加入到项目里，需要管理者通过用户名或者邮箱邀请其他成员，同时其他成员也要同意接受才能加入到项目中，如此其他成员就能git push。</li><li>其他成员先fork项目成为自己的仓库，然后git push到自己的仓库后，发送Pull Requests请求给管理者。管理者同意并merge合并其他成员的修改内容到自己的仓库里。</li></ol><p>详细步骤待完成… 😂</p><h2 id="十八-问题解决"><a class="header-anchor" href="#十八-问题解决">¶</a>十八、问题解决</h2><h3 id="1-centos7-最小系统精简安装git问题"><a class="header-anchor" href="#1-centos7-最小系统精简安装git问题">¶</a>1. centos7 最小系统精简安装git问题</h3><p>centos7 最小系统精简安装后，在 git clone 时出现问题提示：<code>fatal: unable to access 'https://xxxxxx.git/': Peer reports incompatible or unsupported protocol version.</code></p><p>解决办法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum update -y nss curl libcurl</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/profile</span><br><span class="line"><span class="comment">#修改：PATH=$PATH:/usr/libexec/git-core</span></span><br><span class="line"><span class="built_in">export</span> PATH</span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure><h3 id="2-git-bash-中文乱码问题解决"><a class="header-anchor" href="#2-git-bash-中文乱码问题解决">¶</a>2. git bash 中文乱码问题解决</h3><p>乱码如下：</p><p><img src="/tools/../images/loading-post.gif" data-original="git/image-20230514142223314.png" alt="image-20230514142223314"></p><p>解决办法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.quotepath <span class="literal">false</span></span><br></pre></td></tr></table></figure><blockquote><p><code>core.quotepath</code> 是 Git 的一个配置选项，用于指定在命令输出中是否对文件名进行引号转义。</p></blockquote><p>解决后效果如下：</p><p><img src="/tools/../images/loading-post.gif" data-original="git/image-20230514142740416.png" alt="image-20230514142740416"></p><blockquote><p>参考：<a href="https://www.php.cn/tool/git/485156.html" target="_blank" rel="noopener">https://www.php.cn/tool/git/485156.html</a></p></blockquote><h2 id="十九-git-常用命令速查表"><a class="header-anchor" href="#十九-git-常用命令速查表">¶</a>十九、Git 常用命令速查表</h2><p><strong>创建版本库</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span>                   		<span class="comment">#克隆远程版本库</span></span><br><span class="line">git init                         	<span class="comment">#初始化本地版本库</span></span><br></pre></td></tr></table></figure><p><strong>修改和提交</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git status                       	<span class="comment">#查看状态</span></span><br><span class="line">git diff                         	<span class="comment">#查看变更内容</span></span><br><span class="line">git add .                        	<span class="comment">#跟踪所有改动过的文件</span></span><br><span class="line">git add                    		<span class="comment">#跟踪指定的文件</span></span><br><span class="line">git mv                 			<span class="comment">#文件改名</span></span><br><span class="line">git rm                     		<span class="comment">#删除文件</span></span><br><span class="line">git rm --cached            		<span class="comment">#停止跟踪文件但不删除</span></span><br><span class="line">git commit -m <span class="string">"commit messages"</span>  	<span class="comment">#提交所有更新过的文件</span></span><br><span class="line">git commit --amend               	<span class="comment">#修改最后一次改动</span></span><br></pre></td></tr></table></figure><p><strong>查看提交历史</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span>                    	<span class="comment">#查看提交历史</span></span><br><span class="line">git <span class="built_in">log</span> -p           			<span class="comment">#查看指定文件的提交历史</span></span><br><span class="line">git blame            			<span class="comment">#以列表方式查看指定文件的提交历史</span></span><br></pre></td></tr></table></figure><p><strong>撤销</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD      	<span class="comment">#撤销工作目录中所有未提交文件的修改内容</span></span><br><span class="line">git checkout HEAD    			<span class="comment">#撤销指定的未提交文件的修改内容</span></span><br><span class="line">git revert         			<span class="comment">#撤销指定的提交</span></span><br><span class="line">git <span class="built_in">log</span> --before=<span class="string">"1 days"</span>  	<span class="comment">#退回到之前1天的版本</span></span><br></pre></td></tr></table></figure><p><strong>分支与标签</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git branch                   	<span class="comment">#显示所有本地分支</span></span><br><span class="line">git checkout     				<span class="comment">#切换到指定分支和标签</span></span><br><span class="line">git branch       				<span class="comment">#创建新分支</span></span><br><span class="line">git branch -d        			<span class="comment">#删除本地分支</span></span><br><span class="line">git tag                      	<span class="comment">#列出所有本地标签</span></span><br><span class="line">git tag             			<span class="comment">#基于最新提交创建标签</span></span><br><span class="line">git tag -d          			<span class="comment">#删除标签</span></span><br></pre></td></tr></table></figure><p><strong>合并与衍合</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git merge         <span class="comment">#合并指定分支到当前分支</span></span><br><span class="line">git rebase        <span class="comment">#衍合指定分支到当前分支</span></span><br></pre></td></tr></table></figure><p><strong>远程操作</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git remote -v                   	<span class="comment">#查看远程版本库信息</span></span><br><span class="line">git remote show         			<span class="comment">#查看指定远程版本库信息</span></span><br><span class="line">git remote add     				<span class="comment">#添加远程版本库</span></span><br><span class="line">git fetch               			<span class="comment">#从远程库获取代码</span></span><br><span class="line">git pull        					<span class="comment">#下载代码及快速合并</span></span><br><span class="line">git push        					<span class="comment">#上传代码及快速合并</span></span><br><span class="line">git push  						<span class="comment">#删除远程分支或标签</span></span><br><span class="line">git push --tags                   <span class="comment">#上传所有标签</span></span><br></pre></td></tr></table></figure><p>更多内容请查看 <a href="https://git-scm.com/book/zh/v2" target="_blank" rel="noopener">Git 文档</a>。</p></div><div><div><br><br><div style="text-align:center;color:#ccc;font-size:14px">----------- 本文结束 -----------</div><br><br><br><br></div></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>如果你觉得我的文章对你有帮助，你可以打赏我哦~</div><button id="rewardButton" disable="enable" onclick='var qr=document.getElementById("QR");"none"===qr.style.display?qr.style.display="block":qr.style.display="none"'><span>打赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"><img id="wechat_qr" src="../images/loading-post.gif" data-original="/images/wechatpay.png" alt="Qcmoke 微信支付"><p>微信支付</p></div></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/git/" rel="tag"><i class="fa fa-tag"></i> git</a></div><div class="post-widgets"><div class="wp_rating"><div id="wpac-rating"></div></div><div id="needsharebutton-postbottom"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/tools/frp.html" rel="prev" title="frp实现内网穿透"><i class="fa fa-chevron-left"></i> frp实现内网穿透</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/blog/gitbook.html" rel="next" title="gitbook使用教程">gitbook使用教程 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div><div class="comments" id="comments"><div class="tablink-li"><button class="tablink" onclick='openPage("tabs-gitalk",this)' id="defaultOpen">Gitalk</button> <button class="tablink" onclick='openPage("tabs-valine",this)'>Valine</button></div><div class="tabcontent-li"><div id="tabs-gitalk" class="tabcontent"><div id="gitalk-container"></div></div><div id="tabs-valine" class="tabcontent"><div id="comments-valine"></div></div></div></div><script>function openPage(e,t){for(var n=document.getElementsByClassName("tabcontent"),l=0;l<n.length;l++)n[l].style.display="none";for(tablinks=document.getElementsByClassName("tablink"),l=0;l<tablinks.length;l++)tablinks[l].classList.remove("currentTabcontent");document.getElementById(e).style.display="block",t.classList.add("currentTabcontent")}document.getElementById("defaultOpen").click()</script></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div id="sidebar-dimmer"></div><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/"><img class="site-author-image" itemprop="image" src="../images/loading-post.gif" data-original="/images/logo.jpg" alt="Qcmoke"></a><p class="site-author-name" itemprop="name">Qcmoke</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">83</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">8</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">91</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:qcmoke@gmail.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a> </span><span class="links-of-author-item"><a href="https://github.com/qcmoke" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://weibo.com/u/5469824288" target="_blank" title="weibo"><i class="fa fa-fw fa-weibo"></i>weibo</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-history fa-" aria-hidden="true"></i> 近期文章</div><ul class="links-of-blogroll-list"><li class="recent_posts_li"><a href="/windows/clean_c_drive.html" title="Windows系统C盘清理" target="_blank">Windows系统C盘清理</a></li><li class="recent_posts_li"><a href="/devops/lvs.html" title="lvs学习笔记" target="_blank">lvs学习笔记</a></li><li class="recent_posts_li"><a href="/devops/mysql_ha.html" title="Keepalived+MySQL实现高可用" target="_blank">Keepalived+MySQL实现高可用</a></li><li class="recent_posts_li"><a href="/devops/keepalived.html" title="keepalived学习笔记" target="_blank">keepalived学习笔记</a></li><li class="recent_posts_li"><a href="/tools/pyenv.html" title="python版本管理工具pyenv" target="_blank">python版本管理工具pyenv</a></li></ul></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#一-基本概念"><span class="nav-text">一、基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-什么是git"><span class="nav-text">1. 什么是Git</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-git的文件管理机制"><span class="nav-text">2. git的文件管理机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-git的工作流程"><span class="nav-text">3. git的工作流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-git版本控制区域的情况"><span class="nav-text">4. git版本控制区域的情况</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-git管理下文件的状态"><span class="nav-text">5. git管理下文件的状态</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二-安装git"><span class="nav-text">二. 安装Git</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三-初始化git版本仓库"><span class="nav-text">三、初始化git版本仓库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四-给暂存区添加文件"><span class="nav-text">四、给暂存区添加文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五-给git版本库提交文件"><span class="nav-text">五、给git版本库提交文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#六-查看git文件状态"><span class="nav-text">六、查看git文件状态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#七-查看历史提交记录"><span class="nav-text">七、查看历史提交记录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#八-版本快照回滚操作"><span class="nav-text">八、版本快照回滚操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-回滚到上一个版本快照"><span class="nav-text">1. 回滚到上一个版本快照</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-回滚到特定版本快照"><span class="nav-text">2. 回滚到特定版本快照</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-回滚快照中的个别文件"><span class="nav-text">3. 回滚快照中的个别文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-往新版本回滚"><span class="nav-text">4. 往新版本回滚</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#九-恢复工作区"><span class="nav-text">九、恢复工作区</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-没有add的情况"><span class="nav-text">1. 没有add的情况</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-已经add但没有commit的情况"><span class="nav-text">2. 已经add但没有commit的情况</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-已经add并且commit的情况"><span class="nav-text">3. 已经add并且commit的情况</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十-checkout和reset的区别"><span class="nav-text">十、checkout和reset的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十一-文件diff差异比较"><span class="nav-text">十一、文件diff差异比较</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-比较暂存区与工作区的文件差异"><span class="nav-text">1. 比较暂存区与工作区的文件差异</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-比较两个历史快照的差异"><span class="nav-text">2. 比较两个历史快照的差异</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-比较工作区和版本快照的差异"><span class="nav-text">3. 比较工作区和版本快照的差异</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-比较暂存区和版本快照的差异"><span class="nav-text">4. 比较暂存区和版本快照的差异</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十二-提交修改"><span class="nav-text">十二、提交修改</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十三-删除各区的文件"><span class="nav-text">十三、删除各区的文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十四-重命名文件"><span class="nav-text">十四、重命名文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十五-分支管理"><span class="nav-text">十五、分支管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-查看分支"><span class="nav-text">1. 查看分支</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-创建分支"><span class="nav-text">2. 创建分支</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-切换分支"><span class="nav-text">3. 切换分支</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-合并分支"><span class="nav-text">4. 合并分支</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#简单使用"><span class="nav-text">简单使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#合并冲突"><span class="nav-text">合并冲突</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#分析"><span class="nav-text">分析</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-删除分支"><span class="nav-text">5. 删除分支</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十六-git远程管理"><span class="nav-text">十六、git远程管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-git服务端访问配置"><span class="nav-text">1. git服务端访问配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-简要概述"><span class="nav-text">1）简要概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-ssh秘钥配置"><span class="nav-text">2）SSH秘钥配置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-客户端配置"><span class="nav-text">（1）客户端配置</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-服务端配置"><span class="nav-text">（2）服务端配置</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-ssh访问身份验证测试"><span class="nav-text">（3）ssh访问身份验证测试</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-客户端多ssh秘钥配置"><span class="nav-text">3）客户端多SSH秘钥配置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-git提交用户信息配置"><span class="nav-text">2. git提交用户信息配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-添加本仓库和远程库的关联"><span class="nav-text">3. 添加本仓库和远程库的关联</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-解除本仓库和远程库的关联"><span class="nav-text">4. 解除本仓库和远程库的关联</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-修改本地库关联的远程库信息"><span class="nav-text">5. 修改本地库关联的远程库信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-查看本地库关联的远程库信息"><span class="nav-text">6. 查看本地库关联的远程库信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-设置本地分支的上游分支"><span class="nav-text">7.设置本地分支的上游分支</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-推送本地分支到上游分支"><span class="nav-text">8. 推送本地分支到上游分支</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-克隆远程库为本地库"><span class="nav-text">9. 克隆远程库为本地库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-拉取远程库到本地库"><span class="nav-text">10. 拉取远程库到本地库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-解决推送本地库到远程库冲突的问题"><span class="nav-text">11. 解决推送本地库到远程库冲突的问题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十七-团队协同开发"><span class="nav-text">十七、团队协同开发</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十八-问题解决"><span class="nav-text">十八、问题解决</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-centos7-最小系统精简安装git问题"><span class="nav-text">1. centos7 最小系统精简安装git问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-git-bash-中文乱码问题解决"><span class="nav-text">2. git bash 中文乱码问题解决</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#十九-git-常用命令速查表"><span class="nav-text">十九、Git 常用命令速查表</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Qcmoke</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv">本站访客数 <span class="busuanzi-value" id="busuanzi_value_site_uv"></span> 人次 </span><span class="site-pv">本站总访问量 <span class="busuanzi-value" id="busuanzi_value_site_pv"></span> 次</span></div><a href="https://beian.miit.gov.cn/" target="_blank">黔ICP备20002951号-1</a></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script><i id="darkmode" class="fa fa-lightbulb-o" aria-hidden="true"></i><script>var body=$("body"),darkmode=$("#darkmode");!matchMedia("(prefers-color-scheme: dark)").matches&&"1"!==localStorage.getItem("darkmode")||"1"===localStorage.getItem("noDark")||body.addClass("dark"),body.hasClass("dark")?darkmode.removeClass("fa-moon-o").addClass("fa-lightbulb-o"):darkmode.removeClass("fa-lightbulb-o").addClass("fa-moon-o"),darkmode.click(function(){body.hasClass("dark")?(darkmode.removeClass("fa-lightbulb-o").addClass("fa-moon-o"),body.removeClass("dark"),localStorage.setItem("darkmode","0"),localStorage.setItem("noDark","1")):(darkmode.removeClass("fa-moon-o").addClass("fa-lightbulb-o"),body.addClass("dark"),localStorage.setItem("darkmode","1"),localStorage.setItem("noDark","0"))})</script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/clipboard.min.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/highlight-wrap.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script src="/js/src/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script type="text/javascript">for(var emoticonList=[],i=1;i<=164;i++)emoticonList.push("aru ("+i+").png");new Valine({lang:"zh-cn",admin_email:"qcmoke@gmail.com",el:"#comments-valine",appId:"6LNbUERxbG0OAnWfmJSbmXiW-MdYXbMMI",appKey:"d2FLy9fmXOTiM8TrokuIuDWx",placeholder:"留下你的小爪印吧~",serverURLs:"https://leancloud.qcmoke.cn"})</script><script>var checkExist;window.location.hash&&(checkExist=setInterval(function(){$(window.location.hash).length&&($("html, body").animate({scrollTop:$(window.location.hash).offset().top-90},1e3),clearInterval(checkExist))},100))</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script><script type="text/javascript">const gitalk=new Gitalk({clientID:"d933e443cdfe503ce05a",clientSecret:"149d163f4b10cedf7a68993289da9c0f0836bd34",repo:"mygitalk",owner:"qcmoke",admin:"qcmoke".split(","),id:location.pathname,distractionFreeMode:"true",createIssueManually:"true"});gitalk.render("gitalk-container")</script><script type="text/javascript">var isfetched=!1,isXml=!0,search_path="search.xml",path=(0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1),"/"+search_path),onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")};function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var searchFunc=function(t,s,a){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");function e(){var e,m=n.value.trim().toLowerCase(),x=m.split(/[\s\-]+/),w=(1<x.length&&x.push(m),[]);0<m.length&&o.forEach(function(t){var e=!1,o=0,h=0,n=t.title.trim(),r=n.toLowerCase(),s=t.content.trim().replace(/<[^>]+>/g,""),a=s.toLowerCase(),i=decodeURIComponent(t.url),c=[],l=[];if(""!=n&&(x.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r,s=0,a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());-1<(r=e.indexOf(t,s));)a.push({position:r,word:t}),s=r+n;return a}c=c.concat(e(t,r,!1)),l=l.concat(e(t,a,!1))}),0<c.length||0<l.length)&&(e=!0,o=c.length+l.length),e){function p(t,e,o,n){for(var r=n[n.length-1],s=r.position,a=r.word,i=[],c=0;s+a.length<=o&&0!=n.length;){a===m&&c++,i.push({position:s,length:a.length});var l=s+a.length;for(n.pop();0!=n.length&&(s=(r=n[n.length-1]).position,a=r.word,s<l);)n.pop()}return h+=c,{hits:i,start:e,end:o,searchTextCount:c}}[c,l].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});for(var t=[],u=(0!=c.length&&t.push(p(0,0,n.length,c)),[]);0!=l.length;){var f=l[l.length-1],d=f.position,f=f.word,g=d-20,v=d+80;g<0&&(g=0),(v=v<d+f.length?d+f.length:v)>s.length&&(v=s.length),u.push(p(0,g,v,l))}u.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});e=parseInt("1");function $(o,t){var n="",r=t.start;return t.hits.forEach(function(t){n+=o.substring(r,t.position);var e=t.position+t.length;n+='<b class="search-keyword">'+o.substring(t.position,e)+"</b>",r=e}),n+=o.substring(r,t.end)}0<=e&&(u=u.slice(0,e));var C="";C+=0!=t.length?"<li><a href='"+i+"' class='search-result-title'>"+$(n,t[0])+"</a>":"<li><a href='"+i+"' class='search-result-title'>"+n+"</a>",u.forEach(function(t){C+="<a href='"+i+'\'><p class="search-result">'+$(s,t)+"...</p></a>"}),C+="</li>",w.push({item:C,searchTextCount:h,hitCount:o,id:w.length})}}),1===x.length&&""===x[0]?r.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>':0===w.length?r.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>':(w.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id}),e='<ul class="search-result-list">',w.forEach(function(t){e+=t.item}),e+="</ul>",r.innerHTML=e)}var o=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,n=document.getElementById(s),r=document.getElementById(a);n.addEventListener("input",e),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),!1===isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){27===t.which&&$(".search-popup").is(":visible")&&onPopupClose()})</script><script>function addCount(n){var t=$(".leancloud_visitors"),o=t.attr("id").trim(),i=t.attr("data-flag-title").trim();n("get","/classes/Counter",{where:JSON.stringify({url:o})}).done(function({results:t}){var e;0<t.length?(e=t[0],n("put","/classes/Counter/"+e.objectId,JSON.stringify({time:{__op:"Increment",amount:1}})).done(function(){$(document.getElementById(o)).find(".leancloud-visitors-count").text(e.time+1)}).fail(function({responseJSON:t}){console.log("Failed to save Visitor num, with error message: "+t.error)})):n("post","/classes/Counter",JSON.stringify({title:i,url:o,time:1})).done(function(){$(document.getElementById(o)).find(".leancloud-visitors-count").text(1)}).fail(function(){console.log("Failed to create")})}).fail(function({responseJSON:t}){console.log("LeanCloud Counter Error: "+t.code+" "+t.error)})}$(function(){$.get("https://app-router.leancloud.cn/2/route?appId=6LNbUERxbG0OAnWfmJSbmXiW-MdYXbMMI").done(function({}){/http:\/\/(localhost|127.0.0.1|0.0.0.0)/.test(document.URL)||addCount(function(t,e,n){return $.ajax({method:t,url:"https://leancloud.qcmoke.cn/1.1"+e,headers:{"X-LC-Id":"6LNbUERxbG0OAnWfmJSbmXiW-MdYXbMMI","X-LC-Key":"d2FLy9fmXOTiM8TrokuIuDWx","Content-Type":"application/json"},data:n})})})})</script><link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"><script src="/lib/needsharebutton/needsharebutton.js"></script><script>pbOptions={iconStyle:"default",boxForm:"horizontal",position:"bottomCenter",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions)</script><script type="text/javascript">(wpac_init=window.wpac_init||[]).push({widget:"Rating",id:23769,el:"wpac-rating",color:"fc6423"}),function(){var e,t;"WIDGETPACK_LOADED"in window||(WIDGETPACK_LOADED=!0,(e=document.createElement("script")).type="text/javascript",e.async=!0,e.src="//embed.widgetpack.com/widget.js",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t.nextSibling))}()</script><script>!function(e){var c=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){for(var r=0;r<c.length;r++)t=c[r],0<=(n=t.getBoundingClientRect()).top&&0<=n.left&&n.top<=(e.innerHeight||document.documentElement.clientHeight)&&function(){var t,n,e,i,o=c[r];t=o,n=function(){c=c.filter(function(t){return o!==t})},e=new Image,i=t.getAttribute("data-original"),e.onload=function(){t.src=i,n&&n()},e.src=i}();var t,n}i(),e.addEventListener("scroll",function(){var t,n;t=i,n=e,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)})}(this);</script><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"left","width":80,"height":130},"mobile":{"show":false},"log":false});</script></body></html>